<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hexo博客+Next主题深度优化与定制</title>
    <url>/posts/ab21860c.html</url>
    <content><![CDATA[<!-- build time:Wed Nov 13 2019 08:59:38 GMT+0000 (Coordinated Universal Time) --><h1 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a><em>写在前面</em></h1><div class="note warning">本教程只适用于 Next5 或者 Next6 主题，Next7 开始做了大量修改，并删除了 custom.styl 文件，同时增加了很多在 Next7 之前需要手动配置的功能，请随个人喜好进行版本选择。</div><hr><div class="note info">我的个人博客就是使用 Hexo 博客框架 + Next 主题搭建而来的，之前也使用过CSDN、博客园等，最后都放弃了，一方面是因为广告多，另外一方面样式我也不是很喜欢，而如果自己从零开始写博客源代码的话，比较复杂而且麻烦。后来偶然看到了 hexo 博客框架，并经过推荐使用了 Next 主题，这才正式入了 hexo 博客的坑！不得不说 Next 主题能够魔改并且自身集成了很多优秀的第三方插件是这款主题具有如此强大活力的根本原因😘。</div><p>本文下面主要先介绍 Hexo 博客和 Next 主题的搭建，如果你已经搭建好了博客框架，但是想进一步地修改博客样式，可以直接跳转到最下面<a href="#Next主题进阶优化配置">优化定制部分</a>😄，本文参考的博客链接也会直接在文中插入或者在文末标明，如果有遗漏，欢迎指出。</p><p>在本文更新于 2019/7/27 时，Next 主题最新版本已经更新到 v7.2.0，以下很多内容都已经在新主题中做出了适配或者直接无法使用，愿意更新到最新版本的小伙伴请关注<a href="https://theme-next.org/" rel="external nofollow noopener noreferrer" target="_blank">官方文档更新</a>。不愿意更新的小伙伴或者目前使用的是旧版本（比如我还是 Next5 版本）可以继续进行一定的参考。（ps：开发团队实在厉害，根本跟不上开发速度😐 ）。</p><h1 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a><em>环境准备</em></h1><p>在安装 hexo 框架之前，我们需要先安装该框架的依赖环境：</p><ol><li>Node.js</li><li>Git</li></ol><p>因为 Hexo 博客框架就是基于 Node.js 渲染的，所以必须要先安装 Node.js 环境，我们可以去<a href="http://nodejs.cn/download/" rel="external nofollow noopener noreferrer" target="_blank">Node.js中文官网</a>下载，如图<br><a href="http://nodejs.cn/download/" class="LinkCard" rel="external nofollow noopener noreferrer" target="_blank">安装地址</a></p><p><img src="https://s2.ax1x.com/2019/11/13/MG5ZcV.png" alt="node.js"></p><p>一般我们是在 windows 或者 macOS 环境下作为本机操作的，所以下载对应的安装包就可以了，下载好后一路点 next 下一步就完成了，这个没什么问题。</p><p>然后我们需要安装一下 Git，Git 主要是帮助我们部署到 Github Pages 静态仓库上以域名形式访问。</p><p>安装 Git 的话，如果是 windows 系统，可以直接去<a href="https://gitforwindows.org/" rel="external nofollow noopener noreferrer" target="_blank">Windows的Git下载地址</a>去下载，如果是 macOS 的话，也可以在<a href="https://www.git-scm.com/download/" rel="external nofollow noopener noreferrer" target="_blank">这里下载</a>。当这些环境都部署好之后，就可以开始我们的 hexo 博客安装啦！</p><p><a href="https://gitforwindows.org/" class="LinkCard" rel="external nofollow noopener noreferrer" target="_blank">Windows的Git下载地址</a></p><p><a href="https://www.git-scm.com/download/" class="LinkCard" rel="external nofollow noopener noreferrer" target="_blank">MacOS的Git下载地址</a></p><h1 id="安装-Hexo-和-Next"><a href="#安装-Hexo-和-Next" class="headerlink" title="安装 Hexo 和 Next"></a><em>安装 Hexo 和 Next</em></h1><h2 id="安装-hexo"><a href="#安装-hexo" class="headerlink" title="安装 hexo"></a><em>安装 hexo</em></h2><p>本文安装环境为 windows10，所以以下都以 windows 操作系统下安装为例。</p><div class="note danger">安装之前需要说明几个注意事项：<br>- 很多命令既可以使用 windows 的 cmd 命令行来完成，也可以使用刚才安装好的 Git 命令行工具 Git Bash 来完成，但是在 cmd 中部分命令会出现一些问题，建议只使用 Git Bash 来执行命令。<br>- Hexo 不同版本之间有差别，要注意自己安装的版本是哪个版本（跟着本文走就没问题啦），如果修改样式的话注意网上教程的 Hexo 版本差异。<br>- Hexo 安装好后有 2 种<code>_config.xml</code>文件，一个是 hexo 站点根目录下的全局<code>_config.xml</code>文件，还有一种是每个主题 theme 下的各自的<code>_config.xml</code>文件，注意区分二者，后面会详细说到。<br></div><h3 id="安装-hexo-1"><a href="#安装-hexo-1" class="headerlink" title="安装 hexo"></a><em>安装 hexo</em></h3><p>依然是在 GitBash 中操作，输入以下命令，等待安装完成。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure></div><h3 id="创建-hexo-文件夹"><a href="#创建-hexo-文件夹" class="headerlink" title="创建 hexo 文件夹"></a><em>创建 hexo 文件夹</em></h3><p>在电脑某个位置创建一个名为 hexo 的文件夹（当然名字可以随便取），比如我个人的就是 <code>E:\blog\hexo</code> ，由于这个文件夹是你以后存放博客代码和文章的地方，所以最好不要乱放，然后我们在 GitBash 中使用 cd 命令移动到创建好的文件夹中。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /e/blog/hexo</span><br></pre></td></tr></table></figure></div><h3 id="初始化-hexo"><a href="#初始化-hexo" class="headerlink" title="初始化 hexo"></a><em>初始化 hexo</em></h3><p>在上面 cd 到创建的文件夹后，输入以下命令进行初始化</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ hexo init</span><br></pre></td></tr></table></figure></div><p>这个命令执行的时间非常长，主要是初始化 hexo 博客中的文件夹，包括 hexo 博客内置的各种 node_modules 组件等等，所以耐心的稍等一下！如果初始化失败建议删除文件夹内容后重试。</p><p>初始化完成后，我们打开刚才创建的文件夹，会发现里面包含如下文件夹：</p><p><img src="https://s2.ax1x.com/2019/10/21/Klkwa4.png" alt></p><p>注意，其中有一个_config.xml文件，这个我们叫做<font color="red">站点根目录配置文件</font>，里面的初始内容如下：（附上中文介绍）</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Hexo Configuration</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/configuration.html</span></span><br><span class="line"><span class="comment">## Source: https://github.com/hexojs/hexo/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Site 站点主配置</span></span><br><span class="line">title: Hexo  <span class="comment"># 网站标题</span></span><br><span class="line">subtitle:    <span class="comment"># 网站副标题</span></span><br><span class="line">description:   <span class="comment"># 网站描述</span></span><br><span class="line">keywords:      <span class="comment"># 可以不填写保持默认</span></span><br><span class="line">author: John Doe  <span class="comment"># 网站拥有者昵称</span></span><br><span class="line">language:    <span class="comment"># 网站语言设置，一般根据依赖的主题而定</span></span><br><span class="line">timezone:    <span class="comment"># 网站时区设置，一般不填写保持默认</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL地址链接设置</span></span><br><span class="line">url: http://yoursite.com   <span class="comment"># 网站url设置</span></span><br><span class="line">root: /                    <span class="comment"># 网站根目录链接</span></span><br><span class="line">permalink: :year/:month/:day/:title/   <span class="comment"># 文章链接，默认是按照 /年/月/日/文章标题 设置的链接</span></span><br><span class="line">permalink_defaults:                    <span class="comment"># 默认链接形式</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory  网站主要目录，这里一般不做改动</span></span><br><span class="line">source_dir: <span class="built_in">source</span></span><br><span class="line">public_dir: public</span><br><span class="line">tag_dir: tags</span><br><span class="line">archive_dir: archives</span><br><span class="line">category_dir: categories</span><br><span class="line">code_dir: downloads/code</span><br><span class="line">i18n_dir: :lang</span><br><span class="line">skip_render:</span><br><span class="line"></span><br><span class="line"><span class="comment"># Writing  网站文章设置，同样一般不做改动</span></span><br><span class="line">new_post_name: :title.md  <span class="comment"># File name of new posts</span></span><br><span class="line">default_layout: post</span><br><span class="line">titlecase: <span class="literal">false</span> <span class="comment"># Transform title into titlecase</span></span><br><span class="line">external_link: <span class="literal">true</span> <span class="comment"># Open external links in new tab</span></span><br><span class="line">filename_case: 0</span><br><span class="line">render_drafts: <span class="literal">false</span></span><br><span class="line">post_asset_folder: <span class="literal">false</span></span><br><span class="line">relative_link: <span class="literal">false</span></span><br><span class="line">future: <span class="literal">true</span></span><br><span class="line">highlight:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  line_number: <span class="literal">true</span></span><br><span class="line">  auto_detect: <span class="literal">false</span></span><br><span class="line">  tab_replace:</span><br><span class="line">  </span><br><span class="line"><span class="comment"># Home page setting  主页设置，一般不做改动</span></span><br><span class="line">index_generator:</span><br><span class="line">  path: <span class="string">''</span></span><br><span class="line">  per_page: 10</span><br><span class="line">  order_by: -date  <span class="comment"># 首页文章排序，默认是按照文章日期递减</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># Category &amp; Tag  分类设置，一般不做改动</span></span><br><span class="line">default_category: uncategorized</span><br><span class="line">category_map:</span><br><span class="line">tag_map:</span><br><span class="line"></span><br><span class="line"><span class="comment"># Date / Time format  日期设置，一般不做改动</span></span><br><span class="line">date_format: YYYY-MM-DD</span><br><span class="line">time_format: HH:mm:ss</span><br><span class="line"></span><br><span class="line"><span class="comment"># Pagination  导航页设置，一般不做改动</span></span><br><span class="line">per_page: 10   <span class="comment"># 设置每页展示多少文章</span></span><br><span class="line">pagination_dir: page</span><br><span class="line"></span><br><span class="line"><span class="comment"># Extensions  使用的主题名称，可以在这里切换</span></span><br><span class="line">theme: next  <span class="comment"># 此处切换主题名称</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Deployment  部署，一般选择部署到Github上</span></span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>:</span><br></pre></td></tr></table></figure></div><p>其实到这里来说，我们的 hexo 博客已经做好了！不信？我们执行下面命令看看：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">//<span class="built_in">cd</span>到根目录执行</span><br><span class="line">$ hexo g</span><br><span class="line">$ hexo s</span><br></pre></td></tr></table></figure></div><p>然后我们打开浏览器，输入 <code>http://localhost:4000</code> ，是不是惊奇的发现已经完成了？</p><p><img src="https://s2.ax1x.com/2019/10/21/KlAJFH.png" alt="首页"></p><p>等….等一下，页面怎么是英文的😫？？？！</p><p>别慌，上面提到配置文件的时候已经说到是语言没有修改了，我们可以打开 hexo 目录下的 themes 文件夹，发现里面有一个 landscape 文件夹，没错，你刚才看到的默认主题就是这个名叫 <code>landscape</code> 的主题，这个主题是 hexo 博客自带的默认主题，当然我们可以下载其它主题来代替它，具体方式在后面会介绍。</p><p>然后我们先来分析一下这个 landscape 主题文件夹：</p><p><img src="https://s2.ax1x.com/2019/11/13/MGH9Fe.png" alt></p><p>注意这里面有一个 <code>_config.xml</code> 配置文件，其实上面已经强调过，这个跟前面的站点根目录下配置文件同名，但是这个配置文件是在主题目录下的，那么这个配置文件我们一般就叫做<font color="red">主题配置文件，基本每个 hexo 博客第三方主题下面都会有这个配置文件，所以主题配置文件是一种统称。</font></p><p>里面的初始内容我们暂时不管（因为不同主题的配置文件内容不一样，反正我们又不使用这个主题~）。</p><p>先来看看上面的 languages 文件夹，一看就懂，都知道这就是网站语言配置文件，好，我们进去看一下，噢~里面的 zh-CN 和 zh-TW 可不就是中文吗。其中 zh-CN 指的是简体中文，zh-TW（湾湾）是繁体中文，欧克。然后我们再去站点根目录下，注意这里是 <font color="red">站点根目录下（hexo/_config.xml）</font>的配置文件中（千万别懵逼了），将这里：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DIFF"><figure class="iseeu highlight /diff"><table><tr><td class="code"><pre><span class="line"># Site 站点主配置</span><br><span class="line">title: sanarous教你搭建Hexo博客  //网站标题修改</span><br><span class="line">subtitle: so easy~  //副标题修改</span><br><span class="line">description:  //网站描述</span><br><span class="line">keywords: hexo,next,Java,博客    //网站关键字,用英文逗号分开</span><br><span class="line">author: Sanarous   //此处填写你自己的昵称  </span><br><span class="line"><span class="addition">+ language: zh-CN    //这里改成上面在主题配置文件中看到的语言名字，注意英文冒号:后面有一个空格</span></span><br><span class="line">timezone:   //网站时区，保持默认就可以了</span><br></pre></td></tr></table></figure></div><p>更改完后，我们回 GitBash 命令行，输入以下命令：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure></div><p>再重新打开浏览器刷新，是不是页面语言变成中文的了！</p><p>好吧，现在先说一下上面的命令中的 <code>hexo s &amp;&amp; hexo g</code> 是什么东西，<code>hexo s</code> 是启动 hexo 服务的，可以理解为是 <code>hexo serve</code> 或者 <code>hexo start</code> ，一般都是简写为 <code>hexo s</code> ，而 <code>hexo g</code> 是重新生成 public 文件夹的命令，全称是 <code>hexo generator</code> ，那么 public 文件夹是什么呢？</p><p>别慌，我们回头看一下 hexo 文件夹目录：</p><p><img src="https://s2.ax1x.com/2019/11/13/MGb6vn.png" alt="文件夹"></p><p>看到这个 public 文件夹嘛，这个里面就是生成的所有静态文件，包括 html，css，js 文件以及图片等，稍微懂一些前端的人就知道这个文件夹就是你的博客被 node.js 渲染后生成的最终文件夹，这个文件夹中点开 index.html 就能看到你的博客页面了😄！简单点来说如果在本地修改了什么文件内容，可以使用 <code>hexo g</code> 命令重新生成一下public文件夹，那么这个文件夹只要修改了，再使用 <code>hexo s</code> 启动服务就可以看到页面变化了，当然 <code>hexo s</code> 本身就具有在线调试的功能，如果 <code>hexo s</code> 无法刷新页面修改内容，那么使用 <code>hexo g &amp;&amp; hexo s</code> 就可以看到更改内容啦~</p><h3 id="第一篇博客文章"><a href="#第一篇博客文章" class="headerlink" title="第一篇博客文章"></a><em>第一篇博客文章</em></h3><p>博客基本框架完成后，我们做的第一件事就是创建第一篇个人博客啦！可以在 Gitbash 中 cd 到 hexo 根目录，使用如下命令：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">hexo new <span class="string">"我的第一篇博客"</span></span><br><span class="line"></span><br><span class="line">//或者可以简写为</span><br><span class="line"></span><br><span class="line">hexo n <span class="string">"我的第一篇博客"</span></span><br></pre></td></tr></table></figure></div><p>就可以在 <code>hexo/source/_posts</code> 文件下面新建一个 <code>.md</code> 文件，这个 <code>.md</code> 文件就是 Markdown 文件，所以我们写博客只要在本地编辑这个 Markdown 文件就可以了。Markdown 语法可以 Google 一下使用教程，比较简单并且实用。</p><h2 id="将-Hexo-博客部署到-Github-上"><a href="#将-Hexo-博客部署到-Github-上" class="headerlink" title="将 Hexo 博客部署到 Github 上"></a><em>将 Hexo 博客部署到 Github 上</em></h2><ol><li>为什么要部署到 Github上呢，当然是有以下原因：</li><li>因为 Hexo 博客都是静态文件，GithubPages 自身就支持静态文件。</li><li>免费方便，不用花一分钱就可以自己搭建一个自由的个人博客，并且没有服务器没有后台。</li><li>可以随意绑定自己的域名，并且可以一键开启 HTTPS，很方便。</li><li>数据绝对安全，github 可以恢复任意版本。</li><li>博客内容可以轻松打包、转移以及发布到其它平台。</li><li>……</li></ol><p>在部署到 Github 之前，我们需要准备好自己的 Github 账号，Github 账号可以在 Github 官网注册。</p><p><a href="https://github.com" class="LinkCard" rel="external nofollow noopener noreferrer" target="_blank">Github官网</a></p><h3 id="创建-Github-仓库"><a href="#创建-Github-仓库" class="headerlink" title="创建 Github 仓库"></a><em>创建 Github 仓库</em></h3><p>首先我们需要在 Github 上创建一个 repository，就是创建一个仓库的意思，在登录账号后首页就有一个显眼的 create new repository，点进去就可以看到了，注意名字必须为你的 <code>Github用户名.github.io</code> ，如下图：</p><p><img src="https://s2.ax1x.com/2019/10/21/Kl0wjI.png" alt="github"></p><p>不能设置为其它名字，只能用这个仓库名。这样设置以后，我们在不绑定域名的前提下，可以直接使用 <code>http://Sanarous.github.io</code> 来访问自己的个人博客，这样就相当于有一个个人域名，并且是永久免费的！</p><h3 id="配置-SSH-Key"><a href="#配置-SSH-Key" class="headerlink" title="配置 SSH Key"></a><em>配置 SSH Key</em></h3><p>如果是第一次在自己的本机上使用 Git 上传到 Github 上，那么必须配置 <code>SSH key</code> ，表示 Github 允许这台机器有权限使用 Git 上传代码到远端仓库。</p><p>我们可以在 GitBash 中使用 <code>$ cd ~/.ssh</code> 命令来查看本机已经存在的 ssh 密钥，如果是第一次使用会显示 <code>No such file or directory</code> ，如果不是的话，就需要用已经存在的密钥或者重新生成一份了。</p><p>然后输入</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">"邮件地址"</span></span><br></pre></td></tr></table></figure></div><p>上面的邮件地址就是你的 Github 注册邮箱地址，在提示后连续回车，最终会生成一个文件在 C 盘用户目录下面</p><p><img src="https://s2.ax1x.com/2019/11/13/MGOE9g.png" alt="ssh"></p><p>打开这个 .ssh 文件，里面存放了密钥，然后我们打开自己的 Github 个人主页，进入 <code>个人设置 -&gt; SSH and GPG keys -&gt; New SSH key</code></p><p><img src="https://s2.ax1x.com/2019/11/13/MGOrCD.png" alt="ssh1"></p><p>上面的 Title 可以任意填写，下面的 key 注意要打开 .ssh 文件，将密钥复制进去</p><h3 id="测试是否成功"><a href="#测试是否成功" class="headerlink" title="测试是否成功"></a><em>测试是否成功</em></h3><p>使用如下命令：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ ssh -T git@github.com <span class="comment"># 注意邮箱地址不用改</span></span><br></pre></td></tr></table></figure></div><p>如果提示 <code>Are you sure you want to continue connecting (yes/no)?</code> 点击yes，会显示</p><p><code>Hi Sanarous! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</code></p><p>看到这个信息就说明 SSH 已经配置成功！</p><h3 id="配置-Git-提交的用户信息"><a href="#配置-Git-提交的用户信息" class="headerlink" title="配置 Git 提交的用户信息"></a><em>配置 Git 提交的用户信息</em></h3><p>上面配置成功后，我们就可以设置 Git 的全局用户信息了，这个信息设置当前 Git 命令上传代码的用户信息。</p><p>使用以下命令：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ git config --global user.name <span class="string">"XuxuGood"</span> // 你的github用户名，非昵称</span><br><span class="line">$ git config --global user.email  <span class="string">"xxx@qq.com"</span> // 填写你的github注册邮箱</span><br></pre></td></tr></table></figure></div><p>配置完成后以后提交代码都是使用的这个用户信息进行提交的。</p><h3 id="将-Hexo-博客部署到-Github-上-1"><a href="#将-Hexo-博客部署到-Github-上-1" class="headerlink" title="将 Hexo 博客部署到 Github 上"></a><em>将 Hexo 博客部署到 Github 上</em></h3><p>首先打开 hexo 站点的配置文件，找到 deloy 并填写如下配置：</p><p>文件位置：<code>hexo/_config.xml</code></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repository: git@github.com:XuxuGood/XuxuGood.github.io.git <span class="comment"># 用户名改成你自己的</span></span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure></div><p>或者也可以写成这样：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: github</span><br><span class="line">  repository: https://github.com/XuxuGood/XuxuGood.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure></div><p>无论是哪种写法，此时直接执行 <code>hexo d</code> 的话一般会报如下错误：<code>Deployer not found: github</code> 或者 <code>Deployer not found: git</code></p><p>原因是还需要安装一个插件 <code>hexo-deployer-git</code> ，我们可以在 Git 中 cd 到 hexo 根目录，并输入以下命令：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /e/hexo/</span><br><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></div><p>然后我们可以使用 <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo deploy</code> 命令来完成一键部署到 Github 上。</p><h2 id="安装-Next-主题"><a href="#安装-Next-主题" class="headerlink" title="安装 Next 主题"></a><em>安装 Next 主题</em></h2><p>由于默认的主题 landscape 界面比较丑（当然魔改也是可以的），我们可以使用 Hexo 官方推荐的主题：<a href="https://hexo.io/themes" rel="external nofollow noopener noreferrer" target="_blank">https://hexo.io/themes</a> ，如果喜欢这里面的某些主题，可以直接去上面主题对应的界面中的 Github 中下载（下载方式与稍后介绍的下载 Next 主题一样）。</p><p>目前在 Github 上 star 数量比较多的有 Next 主题、yillia 主题等，Next 主题基本占据了 Hexo 博客的半壁江山，并且 Next 主题集成功能较多，因此我下面只介绍 Next 主题的使用方式。</p><p>首先我们可以打开 Github，全局搜索 <code>hexo-next</code> ，我们会发现是有两个 star 数量比较高的：</p><p><img src="https://s2.ax1x.com/2019/11/13/MGjatK.png" alt="hexo-next"></p><div class="note info">其中第一个是 Next5 版本的，而第二个是 Next6 版本的。2019/7/27 更新：第二个 Github 仓库目前一直是 Next 主题更新最新版本的的仓库，目前已经更新到 v7.2.0，以下内容仅供参考。</div><p>注意上面说的版本关系，在 Next6 版本上其实增加了很多 Next5 需要手动配置的东西，并且 Next5 已经停止维护了，如果不太喜欢自己手动去配置的话，建议使用 Next6 版本。当然本博客使用的仍然是 Next5 版本，如果需要我的个性化设置的话也可以留言。</p><p>下面我们来安装 Next 主题。</p><h3 id="下载-Next-主题"><a href="#下载-Next-主题" class="headerlink" title="下载 Next 主题"></a><em>下载 Next 主题</em></h3><p>以下均以 Next6 版本为例，Next5 版本操作基本一样。</p><p>进入<a href="https://github.com/theme-next/hexo-theme-next" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/theme-next/hexo-theme-next</a></p><p>我们安装 Next6 版本的话，有两种方式：</p><ol><li>在 GitBash 中 cd 到博客根目录下，然后使用 git clone 命令将 Next 仓库克隆到 hexo 目录下的 <code>themes/next</code> ，即命令是 <code>git clone https://github.com/theme-next/hexo-theme-next.git themes/next</code></li><li>直接在 Github 页面上选择绿色的按钮 <code>Clone or Download</code> ，点击下载 zip 压缩包。</li></ol><p>如果第一种方式比较慢的话，可以直接选择第二种方式直接下载，然后将下载好的压缩包解压后放在 <code>E:\blog\hexo\themes\</code> 下面，<code>git clone</code> 的话也是在这个下面，下载好后的名字可以任取。</p><h3 id="设置-hexo-博客为-Next-主题"><a href="#设置-hexo-博客为-Next-主题" class="headerlink" title="设置 hexo 博客为 Next 主题"></a><em>设置 hexo 博客为 Next 主题</em></h3><p>在站点根目录下_config.xml配置文件中，找到如下代码并进行配置：</p><p>文件位置：hexo/_config.xml</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DIFF"><figure class="iseeu highlight /diff"><table><tr><td class="code"><pre><span class="line"># Extensions</span><br><span class="line">## Plugins: https://hexo.io/plugins/</span><br><span class="line">## Themes: https://hexo.io/themes/</span><br><span class="line"><span class="deletion">- theme: landscape      # 更改原始默认的主题名称，修改为如下</span></span><br><span class="line"><span class="addition">+ theme: hexo-theme-next   # 此处填入你在themes目录下的next主题文件名</span></span><br></pre></td></tr></table></figure></div><h3 id="测试-Next-主题"><a href="#测试-Next-主题" class="headerlink" title="测试 Next 主题"></a><em>测试 Next 主题</em></h3><p>在 <code>GitBash</code> 中输入</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure></div><p>等待启动完成在浏览器中输入<a href="http://localhost:4000即可查看安装好的" rel="external nofollow noopener noreferrer" target="_blank">http://localhost:4000即可查看安装好的</a> Next 主题！</p><h1 id="Next-主题基本功能配置"><a href="#Next-主题基本功能配置" class="headerlink" title="Next 主题基本功能配置"></a><em>Next 主题基本功能配置</em></h1><p>Next 主题安装好后的初始界面也是很简洁的，我们可以先设置一些常用功能😊。</p><p>首先为了防止懵逼，再次友情提醒：在这里修改的一律是主题配置文件 <code>_config.xml</code> ，目录是 <code>hexo/themes/next/_config.xml</code> ，千万不要走错地方了！</p><p>我们打开 <code>_config.xml</code> 主题配置文件对应一一修改。</p><div class="note danger">由于配置文件是 yml，如果对 yml 语法不太熟的小伙伴，注意每个配置之间都必须有空格，不然报错。如 <code>override: false</code> ，注意英文冒号 <code>:</code> 后面有一个空格，所有 yml 语法都是这样。</div><p>以下默认使用的文本编辑器为 notepad++、WebStorm 或者 sublime，主题使用的是 Next6 版本（注意 Next 官方会不断进行更新，所以下面的不一定都有效，因为官方正在不断集成更多功能，具体地可以自行在配置文件中探索~）</p><p>以下均在 <code>hexo s</code> 在线调试环境中进行修改~</p><h2 id="网站favicon图标设置"><a href="#网站favicon图标设置" class="headerlink" title="网站favicon图标设置"></a><em>网站favicon图标设置</em></h2><p><img src="https://s2.ax1x.com/2019/11/13/MJSy28.png" alt="favicon"></p><p>favicon 图标相当于是网站的 logo 简化版，所以我们也可以给自己的网站添加一个 favicon 图标，使用notepad++、WebStorm 或者 sublime 打开配置文件后，使用 <code>Ctrl+F</code> 搜索 <code>favicon</code></p><p>文件位置：hexo/themes/next/_config.xml</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">favicon:</span><br><span class="line">  small: /images/favicon-16x16-next.png  <span class="comment"># 网站小图标</span></span><br><span class="line">  medium: /images/favicon-32x32-next.png   <span class="comment"># 中等图标</span></span><br><span class="line">  apple_touch_icon: /images/apple-touch-icon-next.png  <span class="comment"># app_touch上显示图标   </span></span><br><span class="line">  safari_pinned_tab: /images/logo.svg   <span class="comment"># 在Safari浏览器中显示图标</span></span><br><span class="line">  <span class="comment">#android_manifest: /images/manifest.json  # 安卓默认显示同普通情况下</span></span><br><span class="line">  <span class="comment">#ms_browserconfig: /images/browserconfig.xml</span></span><br></pre></td></tr></table></figure></div><p>网站 favicon 图标可以放到你的 next 主题目录下面的 <code>source/images</code> 中，然后按照上述相对路径方式引用，这里 favicon 图标不需要非得是 ico 格式的，也可以是 png 或其它图片格式。</p><p>如果是有第三方图床放图片链接的，也可以直接改成图片链接。</p><h2 id="网站页脚小心心定义"><a href="#网站页脚小心心定义" class="headerlink" title="网站页脚小心心定义"></a><em>网站页脚小心心定义</em></h2><p><img src="https://s2.ax1x.com/2019/11/13/MJ9RNn.png" alt="heart"></p><p>在 Next5 版本中需要手动修改设置，但是在 Next6 中已经集成好这个功能了，搜索 footer，设置如下，就可以在页脚看到跳动的小心心啦</p><p>文件位置：hexo/themes/next/_config.xml</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">footer:</span><br><span class="line">  <span class="comment"># 指定网站开始运行的年份，如果不指定，则默认为当前年份</span></span><br><span class="line">  since: 2019</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 在页脚年份和版权信息中间显示的图标</span></span><br><span class="line">  icon:</span><br><span class="line">    <span class="comment"># 图标形状显示，可以参考 https://fontawesome.com/v4.7.0/icons 中的名字</span></span><br><span class="line">    <span class="comment"># 官方建议使用 heart 图标，颜色设置为 #ff0000，这也显示的是跳动的心</span></span><br><span class="line">    name: heart</span><br><span class="line">    <span class="comment"># 如果想要图标跳动，下面设置为 true</span></span><br><span class="line">    animated: <span class="literal">true</span></span><br><span class="line">    <span class="comment"># 改变图标颜色</span></span><br><span class="line">    color: <span class="string">"#ff0000"</span></span><br></pre></td></tr></table></figure></div><h2 id="关闭底部由-hexo-强力驱动的广告"><a href="#关闭底部由-hexo-强力驱动的广告" class="headerlink" title="关闭底部由 hexo 强力驱动的广告"></a><em>关闭底部由 hexo 强力驱动的广告</em></h2><p><img src="https://s2.ax1x.com/2019/11/13/MJiCtA.png" alt="HEXO-驱动"></p><p>由于默认的页面中 hexo 会在网页底部居中位置打个广告（要恰饭的嘛），但是官方还是很良心的在配置文件中设置了广告开关，还是在上面 footer 中，如下配置全部设置为 false 就可以关闭广告了。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DIFF"><figure class="iseeu highlight /diff"><table><tr><td class="code"><pre><span class="line">  powered:</span><br><span class="line">    # Hexo link (Powered by Hexo).</span><br><span class="line"><span class="deletion">-    enable: false</span></span><br><span class="line">    # Version info of Hexo after Hexo link (vX.X.X).</span><br><span class="line"><span class="deletion">-    version: false</span></span><br><span class="line"></span><br><span class="line">  theme:</span><br><span class="line">    # Theme &amp; scheme info link (Theme - NexT.scheme).</span><br><span class="line"><span class="deletion">-    enable: false</span></span><br><span class="line">    # Version info of NexT after scheme info (vX.X.X).</span><br><span class="line"><span class="deletion">-    version: false</span></span><br></pre></td></tr></table></figure></div><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo+NexT 自定义样式博文加密</title>
    <url>/posts/c1cdcf68.html</url>
    <content><![CDATA[<!-- build time:Wed Nov 13 2019 08:59:37 GMT+0000 (Coordinated Universal Time) --><p>介绍一种自定义博文加密方式，不需要插件，极简模式，相对安全。</p><p>先看一下效果：</p><p><img src="https://s2.ax1x.com/2019/11/01/KHMRr8.png" alt="密码"></p><h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a><em>代码</em></h1><p>1、在目录 <code>/themes/next/layout/</code> 下的 <code>_layout.swig</code> 中，找到main标签添加自定义的 swig</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;main id=<span class="string">"main"</span> class=<span class="string">"main"</span>&gt;</span><br><span class="line">  &lt;div class=<span class="string">"main-inner"</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">"content-wrap"</span>&gt;</span><br><span class="line">      &lt;div id=<span class="string">"content"</span> class=<span class="string">"content"</span>&gt;</span><br><span class="line">        &#123;% block content %&#125;&#123;% endblock %&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &#123;% include <span class="string">'_third-party/duoshuo-hot-articles.swig'</span> %&#125;</span><br><span class="line">      &#123;% include <span class="string">'_partials/comments.swig'</span> %&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &#123;% <span class="keyword">if</span> theme.sidebar.display !== <span class="string">'remove'</span> %&#125;</span><br><span class="line">      &#123;% block sidebar %&#125;&#123;% endblock %&#125;</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"> &lt;!-- 此处为新加的代码 --&gt;</span><br><span class="line"> &#123;% include <span class="string">'password.swig'</span> %&#125;</span><br><span class="line"></span><br><span class="line">&lt;/main&gt;</span><br></pre></td></tr></table></figure></div><p>2、在目录 <code>/themes/next/layout/</code> 下创建 <code>password.swig</code> ，内容如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="code"><pre><span class="line">&lt;script src=<span class="string">"https://cdn.staticfile.org/jquery/3.1.1/jquery.min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">//暂时储存文章中的内容</span></span><br><span class="line">    <span class="keyword">var</span> div = $(<span class="string">'.post-body'</span>);</span><br><span class="line">    <span class="comment">//暂时储存目录的内容</span></span><br><span class="line">    <span class="comment">//var toc=$('.post-toc-wrap')</span></span><br><span class="line">    <span class="keyword">var</span> toc=$(<span class="string">'.nav'</span>)</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">password</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">'&#123;&#123; page.password &#125;&#125;'</span>)&#123;</span><br><span class="line">            <span class="comment">//将文章内容删除</span></span><br><span class="line">            div.remove();</span><br><span class="line">            <span class="comment">//将目录删除</span></span><br><span class="line">            toc.remove();</span><br><span class="line">            <span class="comment">//将文章删除后，向原来文章的地方添加，应该出现的提示用户输入密码的样式</span></span><br><span class="line">            <span class="comment">//下面这里的第一个用textarea是因为如果在手机端的时候只能显示一部分文字，</span></span><br><span class="line">            <span class="comment">//只是拓展:input里面的字只能显示一行，不会自动换行，目前上网搜索没有发现好的办法，所以用了textarea，右下角的小三角通过resize:none 去掉。</span></span><br><span class="line">            $(<span class="string">'.post-header'</span>).after(</span><br><span class="line">            <span class="string">'&lt;span class="description" value="请输入密码，然后按 Enter 键阅读" style="font-style: oblique;font-weight: bold;border: none;display: block;'</span>+</span><br><span class="line">            <span class="string">'width: 60%;margin: 0 auto;text-align: center;outline: none;margin-bottom: 40px;resize:none "&gt;'</span>+</span><br><span class="line">            <span class="string">'&lt;i class="fa fa-heartbeat" id="myheartbeat"&gt;&lt;/i&gt;'</span>+</span><br><span class="line">            <span class="string">'请输入密码，然后按 Enter 键阅读'</span> +</span><br><span class="line">            <span class="string">'&lt;i class="fa fa-heartbeat" id="myheartbeat"&gt;&lt;/i&gt;'</span>+</span><br><span class="line">            <span class="string">'&lt;/span&gt;'</span> +</span><br><span class="line">            <span class="string">'&lt;div class="qiang" style="height: 100px;width: 60%;margin:0 auto"&gt;'</span> +</span><br><span class="line">            <span class="string">'&lt;input class="password"  type="password" autocomplete="new-password" autofocus="autofocus" value="" style="border-radius: 5px;height: 30px;border: none;display: block;border-bottom: 1px solid #ccc;'</span> +</span><br><span class="line">            <span class="string">'margin: 0 auto;outline: none;width:95%"/&gt;'</span> +</span><br><span class="line">            <span class="string">'&lt;/div&gt;'</span>)</span><br><span class="line">            <span class="comment">//绑定点击事件，如果是点击的.password 这个div就改变样式，如果是document中除了div之外的其他任何元素，就变回原来的样式。</span></span><br><span class="line">            <span class="built_in">document</span>.onclick = <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> e = event || <span class="built_in">window</span>.event;</span><br><span class="line">                <span class="keyword">var</span> elem = e.srcElement || e.target;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">while</span> (elem) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (elem != <span class="built_in">document</span>) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (elem.className == <span class="string">"password"</span>) &#123;</span><br><span class="line">                            <span class="comment">//$(".password").animate(&#123;paddingTop:"30px",width:"100%",borderWidth:"2px"&#125;,300)</span></span><br><span class="line">                            <span class="keyword">return</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        elem = elem.parentNode;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="comment">//$(".password").animate(&#123;paddingTop:"0px",width:"95%",borderWidth:"1px"&#125;,300)</span></span><br><span class="line">                        <span class="keyword">return</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//绑定enter键按下后离开的事件</span></span><br><span class="line">            $(<span class="built_in">document</span>).keyup(<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(event.keyCode ==<span class="number">13</span>&amp;&amp;$(<span class="string">'.password'</span>).length&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="comment">//console.log($('.password').val())</span></span><br><span class="line">                    <span class="comment">//console.log('&#123;&#123; page.password &#125;&#125;')</span></span><br><span class="line">                    <span class="keyword">if</span> ($(<span class="string">'.password'</span>).val() == <span class="string">'&#123;&#123; page.password &#125;&#125;'</span>) &#123;</span><br><span class="line">                        <span class="comment">//恢复文章内容</span></span><br><span class="line">                        (div).appendTo($(<span class="string">".post-header"</span>))</span><br><span class="line">                        <span class="comment">//恢复目录</span></span><br><span class="line">                        toc.appendTo($(<span class="string">".sidebar-inner"</span>))</span><br><span class="line">                        <span class="comment">//删除本页面的输入密码组件</span></span><br><span class="line">                        $(<span class="string">".description"</span>).remove();</span><br><span class="line">                        $(<span class="string">".qiang"</span>).remove();</span><br><span class="line">                        $(<span class="string">".password"</span>).remove();</span><br><span class="line"></span><br><span class="line">                        <span class="comment">//重新处理pjax事件,如果没有加pjax的从下面这行起到下面的else之间的代码需要去掉。</span></span><br><span class="line">                        <span class="comment">//图片懒加载，没有加入此功能的这个函数需要去掉</span></span><br><span class="line">                        $(<span class="string">'img'</span>).lazyload(&#123;</span><br><span class="line">                            placeholder: <span class="string">'/images/loading.gif'</span>,</span><br><span class="line">                            effect: <span class="string">'fadeIn'</span>,</span><br><span class="line">                            threshold : <span class="number">100</span>,</span><br><span class="line">                            failure_limit : <span class="number">20</span>,</span><br><span class="line">                            skip_invisible : <span class="literal">false</span></span><br><span class="line">                        &#125;);</span><br><span class="line">                        <span class="comment">//pjax后出现文章不显示，没有pjax的下面四行需要去掉</span></span><br><span class="line">                        $(<span class="string">".post-block"</span>).css(&#123;<span class="attr">opacity</span>:<span class="number">1</span>&#125;);</span><br><span class="line">                        $(<span class="string">".post-header"</span>).css(&#123;<span class="attr">opacity</span>:<span class="number">1</span>&#125;);</span><br><span class="line">                        $(<span class="string">".post-body"</span>).css(&#123;<span class="attr">opacity</span>:<span class="number">1</span>&#125;);</span><br><span class="line">                        $(<span class="string">".pagination"</span>).css(&#123;<span class="attr">opacity</span>:<span class="number">1</span>&#125;);</span><br><span class="line">                    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                        alert(<span class="string">"对不起，密码输入错误。"</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//将document的keyup移除，防止在pjax的情况下会重复绑定事件</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    password();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></div><h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a><em>使用</em></h1><p>新建一个 test.md ，内容如下</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="MD"><figure class="iseeu highlight /md"><table><tr><td class="code"><pre><span class="line">title: 测试</span><br><span class="line">date: 2019-03-30 21:18:02</span><br><span class="line">password: aaa</span><br><span class="line">---</span><br><span class="line"><span class="section"># aaaaaa</span></span><br><span class="line">我就很反感大家老是那么说我，</span><br><span class="line"><span class="section">## bbbbbb</span></span><br><span class="line">除了有才，就只剩下那无可比拟的颜值。</span><br></pre></td></tr></table></figure></div><p>上面的 password 后面的值自定义。</p><h1 id="注意"><a href="#注意" class="headerlink" title="注意"></a><em>注意</em></h1><p>如果自己的博客源码中的这篇文章上传到 github ，密码也就公诸于世了，可以在 push 到 github 的时候将这篇文章忽略。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Next</tag>
        <tag>Password</tag>
        <tag>Security</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo+NexT 博客搭建相册</title>
    <url>/posts/39d47c89.html</url>
    <content><![CDATA[<!-- build time:Wed Nov 13 2019 08:59:38 GMT+0000 (Coordinated Universal Time) --><p>首先说一下实现想法，在 <a href="https://dev.tencent.com/" rel="external nofollow noopener noreferrer" target="_blank">腾讯云开发者平台</a> 上面创建一个相册库（PS：腾讯云开发者平台是腾讯云与 CODING 共同为开发者打造的云端工具平台，旨在为更多的开发者带去便捷、高效的开发体验，提供包括需求管理、代码编写、代码管理、代码运行的整套系统），当有更新时，提交到腾讯云开发者平台上面，同时在博客 resource 下面生成一个 data.json 来生成所有相册文件的 json 文件，博客读取 data.json 来展示相册。</p><p>实现效果链接：</p><p><a href="https://hasaik.com/photos/" class="LinkCard">Photos</a></p><h1 id="创建相册"><a href="#创建相册" class="headerlink" title="创建相册"></a><em>创建相册</em></h1><p>在腾讯云开发者平台上面创建一个仓库,命名为 <code>Blog_Back_Up</code> (仓库名字随便). 用 <code>git clone</code> 把仓库 <code>clone</code> 到本地来.</p><blockquote><p><strong><em>cd Blog_Back_Up</em></strong></p></blockquote><p>创建 <code>photos</code> 和 <code>min_photos</code> 两个目录,把要上传的相册图片 放到 <code>photos</code> 文件夹下面.</p><div class="note info"><p><strong><em>相册图片命名方式 : yyyy-MM-dd_des.jpg/png/jpef/gif. &emsp;eg: 2017-9-18_风景.jpg</em></strong></p></div><h1 id="处理图片"><a href="#处理图片" class="headerlink" title="处理图片"></a><em>处理图片</em></h1><p>图片的处理我用 <code>python</code> 脚本来处理，这样每次只要执行脚本就可以了。如果您的电脑没有 <code>Python</code> ，自行上网搜索安装教程，一搜一大把。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#coding: utf-8</span></span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">from</span> ImageProcess <span class="keyword">import</span> Graphics</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义压缩比，数值越大，压缩越小</span></span><br><span class="line">SIZE_normal = <span class="number">1.0</span></span><br><span class="line">SIZE_small = <span class="number">1.5</span></span><br><span class="line">SIZE_more_small = <span class="number">2.0</span></span><br><span class="line">SIZE_more_small_small = <span class="number">3.0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_directory</span><span class="params">(directory)</span>:</span></span><br><span class="line">    <span class="string">"""创建目录"""</span></span><br><span class="line">    os.makedirs(directory)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">directory_exists</span><span class="params">(directory)</span>:</span></span><br><span class="line">    <span class="string">"""判断目录是否存在"""</span></span><br><span class="line">    <span class="keyword">if</span> os.path.exists(directory):</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">list_img_file</span><span class="params">(directory)</span>:</span></span><br><span class="line">    <span class="string">"""列出目录下所有文件，并筛选出图片文件列表返回"""</span></span><br><span class="line">    old_list = sorted(os.listdir(directory), reverse=<span class="literal">True</span>)</span><br><span class="line">    print(old_list)</span><br><span class="line">    new_list = []</span><br><span class="line">    <span class="keyword">for</span> filename <span class="keyword">in</span> old_list:</span><br><span class="line">        name, fileformat = filename.split(<span class="string">"."</span>)</span><br><span class="line">        <span class="keyword">if</span> fileformat.lower() == <span class="string">"jpg"</span> <span class="keyword">or</span> fileformat.lower() == <span class="string">"png"</span> <span class="keyword">or</span> fileformat.lower() == <span class="string">"gif"</span> <span class="keyword">or</span> fileformat.lower() == <span class="string">"jpeg"</span>:</span><br><span class="line">            new_list.append(filename)</span><br><span class="line">    <span class="comment"># print new_list</span></span><br><span class="line">    <span class="keyword">return</span> new_list</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_help</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"""</span></span><br><span class="line"><span class="string">    This program helps compress many image files</span></span><br><span class="line"><span class="string">    you can choose which scale you want to compress your img(jpg/png/etc)</span></span><br><span class="line"><span class="string">    1) normal compress(4M to 1M around)</span></span><br><span class="line"><span class="string">    2) small compress(4M to 500K around)</span></span><br><span class="line"><span class="string">    3) smaller compress(4M to 300K around)</span></span><br><span class="line"><span class="string">    """</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compress</span><span class="params">(choose, des_dir, src_dir, file_list)</span>:</span></span><br><span class="line">    <span class="string">"""压缩算法，img.thumbnail对图片进行压缩，</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    参数</span></span><br><span class="line"><span class="string">    -----------</span></span><br><span class="line"><span class="string">    choose: str</span></span><br><span class="line"><span class="string">            选择压缩的比例，有4个选项，越大压缩后的图片越小</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">if</span> choose == <span class="string">'1'</span>:</span><br><span class="line">        scale = SIZE_normal</span><br><span class="line">    <span class="keyword">if</span> choose == <span class="string">'2'</span>:</span><br><span class="line">        scale = SIZE_small</span><br><span class="line">    <span class="keyword">if</span> choose == <span class="string">'3'</span>:</span><br><span class="line">        scale = SIZE_more_small</span><br><span class="line">    <span class="keyword">if</span> choose == <span class="string">'4'</span>:</span><br><span class="line">        scale = SIZE_more_small_small</span><br><span class="line">    <span class="keyword">for</span> infile <span class="keyword">in</span> file_list:</span><br><span class="line">        img = Image.open(src_dir+infile)</span><br><span class="line">        <span class="comment"># size_of_file = os.path.getsize(infile)</span></span><br><span class="line">        w, h = img.size</span><br><span class="line">        img.thumbnail((int(w/scale), int(h/scale)))</span><br><span class="line">        img.save(des_dir + infile)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compress_photo</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''调用压缩图片的函数</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    src_dir, des_dir = <span class="string">"photos/"</span>, <span class="string">"min_photos/"</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> directory_exists(src_dir):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> directory_exists(src_dir):</span><br><span class="line">            make_directory(src_dir)</span><br><span class="line">        <span class="comment"># business logic</span></span><br><span class="line">        file_list_src = list_img_file(src_dir)</span><br><span class="line">    <span class="keyword">if</span> directory_exists(des_dir):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> directory_exists(des_dir):</span><br><span class="line">            make_directory(des_dir)</span><br><span class="line">        file_list_des = list_img_file(des_dir)</span><br><span class="line">        <span class="comment"># print file_list</span></span><br><span class="line">    <span class="string">'''如果已经压缩了，就不再压缩'''</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(file_list_des)):</span><br><span class="line">        <span class="keyword">if</span> file_list_des[i] <span class="keyword">in</span> file_list_src:</span><br><span class="line">            file_list_src.remove(file_list_des[i])</span><br><span class="line">    compress(<span class="string">'4'</span>, des_dir, src_dir, file_list_src)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handle_photo</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''根据图片的文件名处理成需要的json格式的数据</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    -----------</span></span><br><span class="line"><span class="string">    最后将data.json文件存到博客的source/photos文件夹下</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    src_dir, des_dir = <span class="string">"photos/"</span>, <span class="string">"min_photos/"</span></span><br><span class="line">    file_list = list_img_file(src_dir)</span><br><span class="line">    print(file_list)</span><br><span class="line">    list_info = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(file_list)):</span><br><span class="line">        filename = file_list[i]</span><br><span class="line">        date_str, info = filename.split(<span class="string">"_"</span>)</span><br><span class="line">        info, _ = info.split(<span class="string">"."</span>)</span><br><span class="line">        date = datetime.strptime(date_str, <span class="string">"%Y-%m-%d"</span>)</span><br><span class="line">        year_month = date_str[<span class="number">0</span>:<span class="number">7</span>]            </span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">0</span>:  <span class="comment"># 处理第一个文件</span></span><br><span class="line">            new_dict = &#123;<span class="string">"date"</span>: year_month, <span class="string">"arr"</span>:&#123;<span class="string">'year'</span>: date.year,</span><br><span class="line">                                                                   <span class="string">'month'</span>: date.month,</span><br><span class="line">                                                                   <span class="string">'link'</span>: [filename],</span><br><span class="line">                                                                   <span class="string">'text'</span>: [info],</span><br><span class="line">                                                                   <span class="string">'type'</span>: [<span class="string">'image'</span>]</span><br><span class="line">                                                                   &#125;</span><br><span class="line">                                        &#125; </span><br><span class="line">            list_info.append(new_dict)</span><br><span class="line">        <span class="keyword">elif</span> year_month != list_info[<span class="number">-1</span>][<span class="string">'date'</span>]:  <span class="comment"># 不是最后的一个日期，就新建一个dict</span></span><br><span class="line">            new_dict = &#123;<span class="string">"date"</span>: year_month, <span class="string">"arr"</span>:&#123;<span class="string">'year'</span>: date.year,</span><br><span class="line">                                                   <span class="string">'month'</span>: date.month,</span><br><span class="line">                                                   <span class="string">'link'</span>: [filename],</span><br><span class="line">                                                   <span class="string">'text'</span>: [info],</span><br><span class="line">                                                   <span class="string">'type'</span>: [<span class="string">'image'</span>]</span><br><span class="line">                                                   &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">            list_info.append(new_dict)</span><br><span class="line">        <span class="keyword">else</span>:  <span class="comment"># 同一个日期</span></span><br><span class="line">            list_info[<span class="number">-1</span>][<span class="string">'arr'</span>][<span class="string">'link'</span>].append(filename)</span><br><span class="line">            list_info[<span class="number">-1</span>][<span class="string">'arr'</span>][<span class="string">'text'</span>].append(info)</span><br><span class="line">            list_info[<span class="number">-1</span>][<span class="string">'arr'</span>][<span class="string">'type'</span>].append(<span class="string">'image'</span>)</span><br><span class="line">    list_info.reverse()  <span class="comment"># 翻转</span></span><br><span class="line">    tmp = bubbleYear(list_info)</span><br><span class="line">    bubble(tmp)</span><br><span class="line">    final_dict = &#123;<span class="string">"list"</span>: list_info&#125;</span><br><span class="line">    <span class="keyword">with</span> open(<span class="string">"../xuxugood.github.io/source/photos/data.json"</span>,<span class="string">"w"</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        json.dump(final_dict, fp)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cut_photo</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""裁剪算法</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    ----------</span></span><br><span class="line"><span class="string">    调用Graphics类中的裁剪算法，将src_dir目录下的文件进行裁剪（裁剪成正方形）</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    src_dir = <span class="string">"photos/"</span></span><br><span class="line">    <span class="keyword">if</span> directory_exists(src_dir):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> directory_exists(src_dir):</span><br><span class="line">            make_directory(src_dir)</span><br><span class="line">        <span class="comment"># business logic</span></span><br><span class="line">        file_list = list_img_file(src_dir)</span><br><span class="line">        <span class="comment"># print file_list</span></span><br><span class="line">        <span class="keyword">if</span> file_list:</span><br><span class="line">            print_help()</span><br><span class="line">            <span class="keyword">for</span> infile <span class="keyword">in</span> file_list:</span><br><span class="line">                img = Image.open(src_dir+infile)</span><br><span class="line">                Graphics(infile=src_dir+infile, outfile=src_dir + infile).cut_by_ratio()            </span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">"source directory not exist!"</span>)     </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">git_operation</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    git 命令行函数，将仓库提交</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    ----------</span></span><br><span class="line"><span class="string">    需要安装git命令行工具，并且添加到环境变量中</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    os.system(<span class="string">'git add --all'</span>)</span><br><span class="line">    os.system(<span class="string">'git commit -m "add photos"'</span>)</span><br><span class="line">    os.system(<span class="string">'git push origin master'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bubble</span><span class="params">(bubbleList)</span>:</span></span><br><span class="line">    listLength = len(bubbleList)</span><br><span class="line">    <span class="keyword">while</span> listLength &gt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(listLength - <span class="number">1</span>):    <span class="comment"># 这个循环负责设置冒泡排序进行的次数</span></span><br><span class="line">            <span class="comment"># print(bubbleList[i])</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(listLength-i<span class="number">-1</span>):  <span class="comment"># ｊ为列表下标</span></span><br><span class="line">                <span class="keyword">if</span>(bubbleList[j].get(<span class="string">'arr'</span>).get(<span class="string">'year'</span>) == bubbleList[j+<span class="number">1</span>].get(<span class="string">'arr'</span>).get(<span class="string">'year'</span>)):</span><br><span class="line">                    <span class="keyword">if</span> bubbleList[j].get(<span class="string">'arr'</span>).get(<span class="string">'month'</span>) &lt; bubbleList[j+<span class="number">1</span>].get(<span class="string">'arr'</span>).get(<span class="string">'month'</span>):</span><br><span class="line">                </span><br><span class="line">                        bubbleList[j], bubbleList[j+<span class="number">1</span>] = bubbleList[j+<span class="number">1</span>], bubbleList[j]</span><br><span class="line">        <span class="keyword">return</span> bubbleList</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">        <span class="comment"># for i in range(listLength - 1):</span></span><br><span class="line">        <span class="comment">#     if(bubbleList[i].get('arr').get('year') == bubbleList[i+1].get('arr').get('year')):</span></span><br><span class="line">        <span class="comment">#         if bubbleList[i].get('arr').get('month') &gt; bubbleList[i+1].get('arr').get('month'):</span></span><br><span class="line">        <span class="comment">#             bubbleList[i] = bubbleList[i] + bubbleList[i+1]</span></span><br><span class="line">        <span class="comment">#             bubbleList[i+1] = bubbleList[i] - bubbleList[i+1]</span></span><br><span class="line">        <span class="comment">#             bubbleList[i] = bubbleList[i] - bubbleList[i+1]</span></span><br><span class="line">        <span class="comment"># listLength -= 1</span></span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bubbleYear</span><span class="params">(bubbleList)</span>:</span></span><br><span class="line">    listLength = len(bubbleList)</span><br><span class="line">    <span class="keyword">while</span> listLength &gt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(listLength - <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(listLength-i<span class="number">-1</span>):</span><br><span class="line">                <span class="keyword">if</span> bubbleList[j].get(<span class="string">'arr'</span>).get(<span class="string">'year'</span>) &lt; bubbleList[j+<span class="number">1</span>].get(<span class="string">'arr'</span>).get(<span class="string">'year'</span>):</span><br><span class="line">                    </span><br><span class="line">                    bubbleList[j], bubbleList[j+<span class="number">1</span>] = bubbleList[j+<span class="number">1</span>], bubbleList[j]</span><br><span class="line">        <span class="comment"># print(bubbleList)</span></span><br><span class="line">        <span class="keyword">return</span> bubbleList</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    cut_photo()        <span class="comment"># 裁剪图片，裁剪成正方形，去中间部分</span></span><br><span class="line">    compress_photo()   <span class="comment"># 压缩图片，并保存到mini_photos文件夹下</span></span><br><span class="line">    git_operation()    <span class="comment"># 提交到github仓库</span></span><br><span class="line">    handle_photo()     <span class="comment"># 将文件处理成json格式，存到博客仓库中</span></span><br></pre></td></tr></table></figure></div><p>其中 <code>../xuxugood.github.io/source/photos/data.json</code> 是我博客地址，这里换成你的博客地址。</p><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a><em>使用方法</em></h2><p>执行命令 <code>python3 tool.py</code> ，因为我用的是 <code>python3</code> 这里可以根据你的 <code>python</code> 版本来使用。</p><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a><em>问题</em></h2><p>如果出现 <code>from PIL import Image</code> 这种报错，说明没有 PIL 这个库，执行 <code>python3 -m pip install Pillow</code></p><h1 id="增加相册style"><a href="#增加相册style" class="headerlink" title="增加相册style"></a><em>增加相册style</em></h1><p>在 Next 主题下面增加 <code>photo.swig</code> 页面，路径如下 <code>next/layout</code></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% extends <span class="string">'_layout.swig'</span> %&#125;</span><br><span class="line">&#123;% import <span class="string">'_macro/post-collapse.swig'</span> as post_template %&#125;</span><br><span class="line">&#123;% import <span class="string">'_macro/sidebar.swig'</span> as sidebar_template %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block title %&#125;&#123;&#123; page.title &#125;&#125; | &#123;&#123; config.title &#125;&#125;&#123;% endblock %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line"></span><br><span class="line">  &#123;<span class="comment">#################&#125;</span></span><br><span class="line">  &#123;<span class="comment">### Photo BLOCK ###&#125;</span></span><br><span class="line">  &#123;<span class="comment">#################&#125;</span></span><br><span class="line">  &lt;div class=<span class="string">"post-block photo"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div id=<span class="string">"posts"</span> class=<span class="string">"posts-collapse"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &#123;<span class="comment">#####################&#125;</span></span><br><span class="line">  &#123;<span class="comment">### END Photo BLOCK ###&#125;</span></span><br><span class="line">  &#123;<span class="comment">#####################&#125;</span></span><br><span class="line"></span><br><span class="line">  &#123;% include <span class="string">'_partials/pagination.swig'</span> %&#125;</span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block sidebar %&#125;</span><br><span class="line">  &#123;&#123; sidebar_template.render(<span class="literal">false</span>) &#125;&#125;</span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure></div><h1 id="生成相册页面"><a href="#生成相册页面" class="headerlink" title="生成相册页面"></a><em>生成相册页面</em></h1><p>生成相册页面 <code>hexo new page photos</code>，修改 <code>photos</code> 下的 <code>index.md</code> 文件如下</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">title: 我的相册</span><br><span class="line">date: 2017-09-15 09:51:05</span><br><span class="line"><span class="built_in">type</span>: <span class="string">"photos"</span></span><br><span class="line">comments: <span class="literal">false</span></span><br><span class="line">---</span><br><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"./ins.css"</span>&gt;</span><br><span class="line"> &lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"./photoswipe.css"</span>&gt; </span><br><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"./default-skin/default-skin.css"</span>&gt; </span><br><span class="line">&lt;div class=<span class="string">"photos-btn-wrap"</span>&gt;</span><br><span class="line">	&lt;a class=<span class="string">"photos-btn active"</span> href=<span class="string">"javascript:void(0)"</span>&gt;Photos&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class=<span class="string">"instagram itemscope"</span>&gt;</span><br><span class="line">	&lt;a href=<span class="string">"https://xuxugood.github.io"</span> target=<span class="string">"_blank"</span> class=<span class="string">"open-ins"</span>&gt;图片正在加载中…&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line">  (<span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">    var loadScript = <span class="keyword">function</span>(path) &#123;</span><br><span class="line">      var <span class="variable">$script</span> = document.createElement(<span class="string">'script'</span>)</span><br><span class="line">      document.getElementsByTagName(<span class="string">'body'</span>)[0].appendChild(<span class="variable">$script</span>)</span><br><span class="line">      <span class="variable">$script</span>.setAttribute(<span class="string">'src'</span>, path)</span><br><span class="line">    &#125;</span><br><span class="line">    setTimeout(<span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">        loadScript(<span class="string">'./ins.js'</span>)</span><br><span class="line">    &#125;, 0)</span><br><span class="line">  &#125;)()</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></div><p>其中 <code>&lt;a href=&quot;https://xuxugood.github.io&quot; target=&quot;_blank&quot; class=&quot;open-ins&quot;&gt;图片正在加载中…&lt;/a&gt;</code> 中的 url 替换成你的博客网址。</p><p>需要三个 css 文件和一个 js 文件放在 photos 文件夹下，其文件都在我的 <a href="https://dev.tencent.com/u/XuxuGood/p/Blog_Back_Up/git/tree/master/source/photos" rel="external nofollow noopener noreferrer" target="_blank">腾讯云开发者平台</a> 上面，需要修改 <code>ins.js</code> 的 120 和 121 行的 url 为你腾讯云开发者平台图片的网址。</p><h1 id="查看相册插件-photoswipe"><a href="#查看相册插件-photoswipe" class="headerlink" title="查看相册插件 photoswipe"></a><em>查看相册插件 photoswipe</em></h1><p>上面 <code>index.md</code> 中加入了两个 css 文件，这是我们用 photoswipe 查看相册用到的，具体可以参考网址 <a href="https://photoswipe.com/" rel="external nofollow noopener noreferrer" target="_blank">photoswipe</a> 。这里我们已经把 css 文件加上了，之后我们要加上 js 文件 <code>photoswipe.min.js</code> 和 <code>photoswipe-ui-default.min.js</code>，js 资源下载地址 <a href="https://dev.tencent.com/u/XuxuGood/p/Blog_Back_Up/git/tree/master/source/photoswipe" rel="external nofollow noopener noreferrer" target="_blank">photoswipe</a> ，js 存放路径为 <code>next/source/js/src</code></p><h1 id="引用-js-文件"><a href="#引用-js-文件" class="headerlink" title="引用 js 文件"></a><em>引用 js 文件</em></h1><p>在 <code>layout/_scripts/pages/post-details.swig</code> 中插入</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;script src=<span class="string">"&#123;&#123; url_for(theme.js) &#125;&#125;/src/photoswipe.min.js?v=&#123;&#123; theme.version &#125;&#125;"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=<span class="string">"&#123;&#123; url_for(theme.js) &#125;&#125;/src/photoswipe-ui-default.min.js?v=&#123;&#123; theme.version &#125;&#125;"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></div><h1 id="在根目录加入标签"><a href="#在根目录加入标签" class="headerlink" title="在根目录加入标签"></a><em>在根目录加入标签</em></h1><p>在 <code>_layout.swig</code> 中的body标签里最前面插入以下内容</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% <span class="keyword">if</span> page.type === <span class="string">"photos"</span> %&#125;</span><br><span class="line">&lt;!-- Root element of PhotoSwipe. Must have class pswp. --&gt;</span><br><span class="line">&lt;div class=<span class="string">"pswp"</span> tabindex=<span class="string">"-1"</span> role=<span class="string">"dialog"</span> aria-hidden=<span class="string">"true"</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">"pswp__bg"</span>&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=<span class="string">"pswp__scroll-wrap"</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">"pswp__container"</span>&gt;</span><br><span class="line">            &lt;div class=<span class="string">"pswp__item"</span>&gt;&lt;/div&gt;</span><br><span class="line">            &lt;div class=<span class="string">"pswp__item"</span>&gt;&lt;/div&gt;</span><br><span class="line">            &lt;div class=<span class="string">"pswp__item"</span>&gt;&lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">"pswp__ui pswp__ui--hidden"</span>&gt;</span><br><span class="line">            &lt;div class=<span class="string">"pswp__top-bar"</span>&gt;</span><br><span class="line">                &lt;div class=<span class="string">"pswp__counter"</span>&gt;&lt;/div&gt;</span><br><span class="line">                &lt;button class=<span class="string">"pswp__button pswp__button--close"</span> title=<span class="string">"Close (Esc)"</span>&gt;&lt;/button&gt;</span><br><span class="line">                &lt;button class=<span class="string">"pswp__button pswp__button--share"</span> title=<span class="string">"Share"</span>&gt;&lt;/button&gt;</span><br><span class="line">                &lt;button class=<span class="string">"pswp__button pswp__button--fs"</span> title=<span class="string">"Toggle fullscreen"</span>&gt;&lt;/button&gt;</span><br><span class="line">                &lt;button class=<span class="string">"pswp__button pswp__button--zoom"</span> title=<span class="string">"Zoom in/out"</span>&gt;&lt;/button&gt;</span><br><span class="line">                &lt;!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR --&gt;</span><br><span class="line">                &lt;!-- element will get class pswp__preloader--active when preloader is running --&gt;</span><br><span class="line">                &lt;div class=<span class="string">"pswp__preloader"</span>&gt;</span><br><span class="line">                    &lt;div class=<span class="string">"pswp__preloader__icn"</span>&gt;</span><br><span class="line">                      &lt;div class=<span class="string">"pswp__preloader__cut"</span>&gt;</span><br><span class="line">                        &lt;div class=<span class="string">"pswp__preloader__donut"</span>&gt;&lt;/div&gt;</span><br><span class="line">                      &lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;div class=<span class="string">"pswp__share-modal pswp__share-modal--hidden pswp__single-tap"</span>&gt;</span><br><span class="line">                &lt;div class=<span class="string">"pswp__share-tooltip"</span>&gt;&lt;/div&gt; </span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;button class=<span class="string">"pswp__button pswp__button--arrow--left"</span> title=<span class="string">"Previous (arrow left)"</span>&gt;</span><br><span class="line">            &lt;/button&gt;</span><br><span class="line">            &lt;button class=<span class="string">"pswp__button pswp__button--arrow--right"</span> title=<span class="string">"Next (arrow right)"</span>&gt;</span><br><span class="line">            &lt;/button&gt;</span><br><span class="line">            &lt;div class=<span class="string">"pswp__caption"</span>&gt;</span><br><span class="line">                &lt;div class=<span class="string">"pswp__caption__center"</span>&gt;&lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></div><p>至此相册查看插件 photoswipe 已经配置完毕。</p><h1 id="整个流程使用"><a href="#整个流程使用" class="headerlink" title="整个流程使用"></a><em>整个流程使用</em></h1><ol><li>在 Blog_Back_Up 里面加入图片,图片路径在 photos 里面 图片命名方式 yyyy-MM-dd_des.jpg/jpeg/gif/png</li><li>执行 python3 tool.py</li><li>切换到博客 resource 目录下</li><li>在 photos 里面生成了 data.json 文件，提交到腾讯云开发者平台仓库上面</li><li>输入网址查看照片</li></ol><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Next</tag>
        <tag>Photos</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo NexT主题之代码块Mac Panel特效</title>
    <url>/posts/d7399e80.html</url>
    <content><![CDATA[<!-- build time:Wed Nov 13 2019 08:59:38 GMT+0000 (Coordinated Universal Time) --><p>偶然间发现一款不错的文章代码块样式，类似Mac的面板效果。能设置阴影效果和实现文本编辑功能，不过文本只存在浏览器页面上，不会真正保存。配置的方式也很简单，觉得不错的朋友可以试一下。</p><h1 id="引入-JS"><a href="#引入-JS" class="headerlink" title="引入 JS"></a><em>引入 JS</em></h1><p>这里需要新建两个 js 文件 <code>events.js</code> 和 <code>codeblock.js</code> ，路径位于 <code>/themes/next/scripts/</code> 包下。</p><div class="note success"><p><strong><em>events.js 代码：</em></strong></p></div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// mac Panel效果代码块相关</span></span><br><span class="line"><span class="keyword">var</span> exec = <span class="built_in">require</span>(<span class="string">'child_process'</span>).exec;</span><br><span class="line"></span><br><span class="line"><span class="comment">// new 后自动打开编辑器</span></span><br><span class="line">hexo.on(<span class="string">'new'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">  exec(<span class="string">'open -a MacDown '</span> + data.path);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div><p>这个js会在你敲 <code>hexo new xxx</code> 命令后，调用本地的MarkDown编辑器打开新建的md文件 <code>xxx</code></p><div class="note success"><p><strong><em>codeblock.js 代码：</em></strong></p></div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// mac Panel效果代码块相关</span></span><br><span class="line"><span class="keyword">var</span> attributes = [</span><br><span class="line">  <span class="string">'autocomplete="off"'</span>,</span><br><span class="line">  <span class="string">'autocorrect="off"'</span>,</span><br><span class="line">  <span class="string">'autocapitalize="off"'</span>,</span><br><span class="line">  <span class="string">'spellcheck="false"'</span>,</span><br><span class="line">  <span class="string">'contenteditable="true"'</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> attributesStr = attributes.join(<span class="string">' '</span>)</span><br><span class="line"></span><br><span class="line">hexo.extend.filter.register(<span class="string">'after_post_render'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">while</span> (<span class="regexp">/&lt;figure class="highlight ([a-zA-Z]+)"&gt;.*?&lt;\/figure&gt;/</span>.test(data.content)) &#123;</span><br><span class="line">    data.content = data.content.replace(<span class="regexp">/&lt;figure class="highlight ([a-zA-Z]+)"&gt;.*?&lt;\/figure&gt;/</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> language = <span class="built_in">RegExp</span>.$<span class="number">1</span> || <span class="string">'plain'</span></span><br><span class="line">      <span class="keyword">var</span> lastMatch = <span class="built_in">RegExp</span>.lastMatch</span><br><span class="line">      lastMatch = lastMatch.replace(<span class="regexp">/&lt;figure class="highlight /</span>, <span class="string">'&lt;figure class="iseeu highlight /'</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'&lt;div class="highlight-wrap"'</span> + attributesStr + <span class="string">'data-rel="'</span> + language.toUpperCase() + <span class="string">'"&gt;'</span> + lastMatch + <span class="string">'&lt;/div&gt;'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> data</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div><h1 id="引入-CSS"><a href="#引入-CSS" class="headerlink" title="引入 CSS"></a><em>引入 CSS</em></h1><p>在 <code>/themes/next/source/css/_common/components/highlight/</code> 目录下新建 <code>macPanel.styl</code> 文件，内容如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CSS"><figure class="iseeu highlight /css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*mac Panel效果代码块相关*/</span></span><br><span class="line"><span class="selector-class">.highlight-wrap</span><span class="selector-attr">[data-rel]</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="comment">/*box-shadow: 0 10px 30px 0px rgba(0, 0, 0, 0.4);*/</span></span><br><span class="line">  <span class="attribute">box-shadow</span>:<span class="number">18px</span> <span class="number">18px</span> <span class="number">15px</span> <span class="number">0px</span> <span class="built_in">rgba</span>(0,0,0,.4);</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">35px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">25px</span>;</span><br><span class="line">  ::-webkit-scrollbar &#123;</span><br><span class="line">    <span class="selector-tag">height</span>: 10<span class="selector-tag">px</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-pseudo">::-webkit-scrollbar-track</span> &#123;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> <span class="built_in">rgba</span>(0, 0, 0, 0.3);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-pseudo">::-webkit-scrollbar-thumb</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> <span class="built_in">rgba</span>(0, 0, 0, 0.5);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;<span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="built_in">attr</span>(data-rel);</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">38px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">38px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#21252b</span>;</span><br><span class="line">    <span class="comment">/*background: #108414de;*/</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="comment">/*position: absolute;*/</span></span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="comment">/*font-family: 'Source Sans Pro', sans-serif;*/</span></span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0px</span> <span class="number">80px</span>;</span><br><span class="line">    <span class="attribute">text-indent</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;<span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">' '</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">-webkit-border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fc625d</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">13px</span>;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: <span class="number">20px</span> <span class="number">0px</span> <span class="number">#fdbc40</span>, <span class="number">40px</span> <span class="number">0px</span> <span class="number">#35cd4b</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">20px</span> <span class="number">0px</span> <span class="number">#fdbc40</span>, <span class="number">40px</span> <span class="number">0px</span> <span class="number">#35cd4b</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">3</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>此css是根据我本地的样式做过调整，注释的代码为原有的，根据需要调整样式即可。</p><h1 id="配置引用"><a href="#配置引用" class="headerlink" title="配置引用"></a><em>配置引用</em></h1><p>在 <code>/themes/next/source/css/_common/components/highlight/highlight.styl</code> 中引入刚才新建的 <code>macPanel.styl</code>：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="STYLUS"><figure class="iseeu highlight /stylus"><table><tr><td class="code"><pre><span class="line">@require <span class="string">"macPanel"</span></span><br></pre></td></tr></table></figure></div><p>配置在文件的顶部位置即可。</p><p>到此Mac Panel配置完成，根据需要可调整主题配置文件中的 <code>highlight_theme</code> 的值，选择自己喜欢的样式。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Next</tag>
        <tag>代码块</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo博客静态资源压缩</title>
    <url>/posts/495d0b23.html</url>
    <content><![CDATA[<!-- build time:Wed Nov 13 2019 08:59:38 GMT+0000 (Coordinated Universal Time) --><p>针对于博文静态资源压缩，介绍一下两种压缩方式，第一种方式是使用Gulp来进行压缩，<code>Gulp</code> 是 <code>Node.js</code> 下的自动构建工具，通过一列的task执行步骤进行自动流程化处理。第二种方式就是使用由rozbo大佬开发的 <code>Hexo-Neat</code> 压缩插件，配置简单，无需额外命令。</p><p>附上大佬的 <code>Github</code> 链接：</p><p><a href="https://github.com/rozbo/hexo-neat" class="LinkCard" rel="external nofollow noopener noreferrer" target="_blank">Hexo-Neat</a></p><h1 id="Hexo-Neat使用"><a href="#Hexo-Neat使用" class="headerlink" title="Hexo-Neat使用"></a><em>Hexo-Neat使用</em></h1><p>1、在站点根目录下安装 <code>Hexo-Neat</code></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CMD"><figure class="iseeu highlight /cmd"><table><tr><td class="code"><pre><span class="line">$ npm install hexo-neat --save</span><br></pre></td></tr></table></figure></div><p>2、在站点配置文件中末尾添加以下相关配置即可，也可以按照自己的需求去自定义配置。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># hexo-neat</span></span><br><span class="line"><span class="comment"># 博文压缩</span></span><br><span class="line">neat_enable: <span class="literal">true</span></span><br><span class="line"><span class="comment"># 压缩html</span></span><br><span class="line">neat_html:</span><br><span class="line"> <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line"> exclude:</span><br><span class="line"><span class="comment"># 压缩css</span></span><br><span class="line">neat_css:</span><br><span class="line"> <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line"> exclude:</span><br><span class="line">   - <span class="string">'**/*.min.css'</span></span><br><span class="line"><span class="comment"># 压缩js</span></span><br><span class="line">neat_js:</span><br><span class="line"> <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line"> mangle: <span class="literal">true</span></span><br><span class="line"> output:</span><br><span class="line"> compress:</span><br><span class="line"> exclude:</span><br><span class="line">   - <span class="string">'**/*.min.js'</span></span><br><span class="line">   - <span class="string">'**/jquery.fancybox.pack.js'</span></span><br><span class="line">   - <span class="string">'**/index.js'</span></span><br></pre></td></tr></table></figure></div><h1 id="Gulp使用"><a href="#Gulp使用" class="headerlink" title="Gulp使用"></a><em>Gulp使用</em></h1><p>1、在站点的根目录下执行以下命令</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CMD"><figure class="iseeu highlight /cmd"><table><tr><td class="code"><pre><span class="line">$ npm install gulp -g</span><br><span class="line">$ npm install gulp-minify-css gulp-uglify gulp-htmlmin gulp-htmlclean gulp --save</span><br></pre></td></tr></table></figure></div><p>2、在博客根目录下新建 <code>gulpfile.js</code> ，并填入以下内容</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">var gulp = require(<span class="string">'gulp'</span>);</span><br><span class="line">var minifycss = require(<span class="string">'gulp-minify-css'</span>);</span><br><span class="line">var uglify = require(<span class="string">'gulp-uglify'</span>);</span><br><span class="line">var htmlmin = require(<span class="string">'gulp-htmlmin'</span>);</span><br><span class="line">var htmlclean = require(<span class="string">'gulp-htmlclean'</span>);</span><br><span class="line">var imagemin = require(<span class="string">'gulp-imagemin'</span>);</span><br><span class="line"></span><br><span class="line">// 压缩html</span><br><span class="line">gulp.task(<span class="string">'minify-html'</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">    <span class="built_in">return</span> gulp.src(<span class="string">'./public/**/*.html'</span>)</span><br><span class="line">        .pipe(htmlclean())</span><br><span class="line">        .pipe(htmlmin(&#123;</span><br><span class="line">            collapseWhitespace: <span class="literal">true</span>, //从字面意思应该可以看出来，清除空格，压缩html，这一条比较重要，作用比较大，引起的改变压缩量也特别大</span><br><span class="line">            collapseBooleanAttributes: <span class="literal">true</span>, //省略布尔属性的值，比如：&lt;input checked=<span class="string">"checked"</span>/&gt;,那么设置这个属性后，就会变成 &lt;input checked/&gt;</span><br><span class="line">            removeComments: <span class="literal">true</span>, //清除html中注释的部分</span><br><span class="line">            removeEmptyAttributes: <span class="literal">true</span>, //清除所有的空属性</span><br><span class="line">            removeScriptTypeAttributes: <span class="literal">true</span>, //清除所有script标签中的<span class="built_in">type</span>=<span class="string">"text/javascript"</span>属性。</span><br><span class="line">            removeStyleLinkTypeAttributes: <span class="literal">true</span>, //清楚所有Link标签上的<span class="built_in">type</span>属性。</span><br><span class="line">            minifyJS: <span class="literal">true</span>,</span><br><span class="line">            minifyCSS: <span class="literal">true</span>,</span><br><span class="line">            minifyURLs: <span class="literal">true</span>,</span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./public'</span>));</span><br><span class="line">&#125;);</span><br><span class="line">// 压缩css</span><br><span class="line">gulp.task(<span class="string">'minify-css'</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">    <span class="built_in">return</span> gulp.src(<span class="string">'./public/**/*.css'</span>)</span><br><span class="line">        .pipe(minifycss(&#123;</span><br><span class="line">            compatibility: <span class="string">'ie8'</span></span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./public'</span>));</span><br><span class="line">&#125;);</span><br><span class="line">// 压缩js !代表排除的js,例如[<span class="string">'!./public/js/**/*min.js'</span>]</span><br><span class="line">gulp.task(<span class="string">'minify-js'</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">    <span class="built_in">return</span> gulp.src([<span class="string">'./public/js/**/.js'</span>])</span><br><span class="line">        .pipe(uglify()) //压缩混淆</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./public'</span>));</span><br><span class="line">&#125;);</span><br><span class="line">// 压缩图片</span><br><span class="line">gulp.task(<span class="string">'minify-images'</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">    <span class="built_in">return</span> gulp.src(<span class="string">'./public/images/**/*.*'</span>)</span><br><span class="line">        .pipe(imagemin(</span><br><span class="line">        [imagemin.gifsicle(&#123;<span class="string">'optimizationLevel'</span>: 3&#125;),</span><br><span class="line">        imagemin.jpegtran(&#123;<span class="string">'progressive'</span>: <span class="literal">true</span>&#125;),</span><br><span class="line">        imagemin.optipng(&#123;<span class="string">'optimizationLevel'</span>: 7&#125;),</span><br><span class="line">        imagemin.svgo()],</span><br><span class="line">        &#123;<span class="string">'verbose'</span>: <span class="literal">true</span>&#125;))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./public/images'</span>));</span><br><span class="line">&#125;);</span><br><span class="line">// 默认任务</span><br><span class="line">gulp.task(<span class="string">'default'</span>,gulp.series(gulp.parallel(<span class="string">'minify-html'</span>,<span class="string">'minify-css'</span>,<span class="string">'minify-js'</span>,<span class="string">'minify-images'</span>)));</span><br></pre></td></tr></table></figure></div><p>3、生成博文时执行 <code>hexo g &amp;&amp; gulp</code> 就会根据 <code>gulpfile.js</code> 中的配置，对 <code>public</code> 目录中的静态资源文件进行压缩。</p><div class="note success">以上就是关于博文静态资源压缩的两种方式，欢迎自由选择引用，如有不明白的地方欢迎下方留言 o(^▽^)o ，谢谢阅读。</div><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Gulp</tag>
        <tag>Hexo-Neat</tag>
      </tags>
  </entry>
  <entry>
    <title>基于 TravisCI 实现 Hexo 在 Github 和 Coding 的同步部署</title>
    <url>/posts/3e5a3bb6.html</url>
    <content><![CDATA[<!-- build time:Wed Nov 13 2019 08:59:38 GMT+0000 (Coordinated Universal Time) --><p>关于TravisCI我这里简单介绍一下，TravisCI是一个在线的、分布式的持续集成服务，可以用来构建和测试托管在Github上的代码，并且其本身就是开源的。TravisCI提供了主流编程语言如C#、Java、JavaScript、Ruby、PHP、Node.js等的支持，相比Jenkins而言，它是一个轻量级的持续集成平台，它会在每次提交代码后，根据配置文件来创建一个虚拟机，并执行用户定义的Build任务，这个虚拟机提供版本控制(Git)、项目构建(Node.js)等，在此前提下，我们下面着手Hexo的自动化部署。</p><p>其原理就是Github和Coding（<code>小插曲：Coding现在已经被腾讯收购了</code>）各为TravisCI分配一个token，当我们向 Github 推送新的代码以后，TravisCI就会从代码仓库中拉取代码，并通过 npm 安装依赖生成静态页面，我们将这些静态页面推送到 master 分支，即可完成对Hexo的部署操作。</p><p>对于我个人博客是以 Github 作为代码的主仓库，其上面的 blog-source 分支存放博客的源代码，master 分支存放博客的静态页面，在此基础上，我们同时推送静态页面到 Github 和 Coding 的代码仓库，这样就可以实现两个平台的同步部署，这里的部署自然是指由 Travis 完成的自动化部署。整体的流程如下图所示：</p><p><img src="https://s2.ax1x.com/2019/10/21/KlNiCR.png" alt="Travis自动构建流程图"></p><h1 id="Github相关操作"><a href="#Github相关操作" class="headerlink" title="Github相关操作"></a><em>Github相关操作</em></h1><p>1、按规定仓库名称为 <code>XXXXX.github.io</code>，其中 <code>XXXXX</code> 为你的用户名，进行创建仓库。</p><p><img src="https://s2.ax1x.com/2019/10/21/Kl0wjI.png" alt="Github建库"></p><p>2、建好仓库以后我们在仓库中新建一个分支放博客源码，我这里命名为 <code>blog-source</code>，建好以后将源码提交到该分支下即可。</p><p><img src="https://s2.ax1x.com/2019/10/22/K3szy4.png" alt="blog-source"></p><p>3、为了使 Travis 能够将编译好的文件 push 回咱们的 Github，我们需要生成 <code>token</code>，步骤如下：</p><ol><li>在 Github 上 Setting 中找到 <a href="https://github.com/settings/tokens" rel="external nofollow noopener noreferrer" target="_blank">Personal access tokens</a> 设置。</li><li>点 Generate new token，为 <code>token</code> 起一个名字，勾选 repo，然后点击生成一个新的 <code>token</code> ，并复制下来记录好，待会下面 Travis 配置会用到。（这个只会出现一次！！）</li></ol><h1 id="Coding相关操作"><a href="#Coding相关操作" class="headerlink" title="Coding相关操作"></a><em>Coding相关操作</em></h1><p>1、因为腾讯云已经收购了 <a href="https://coding.net" rel="external nofollow noopener noreferrer" target="_blank">Coding</a> ，所以我们直接在 <a href="https://dev.tencent.com/production" rel="external nofollow noopener noreferrer" target="_blank">腾讯云开发者平台</a> 注册账号来管理我们的仓库。</p><p>2、注册完毕后我们新建一个名为 <code>XXXXX.coding.me</code> 的项目，其中 <code>XXXXX</code> 为你的用户名，基本操作与 Github 一致，实在不会的可以留言。</p><p>3、Coding可以和 Github 一样可以生成一个 <code>token</code> 如下图，成功以后将 <code>token</code> 保存好，一会下面会用到。</p><p><img src="https://s2.ax1x.com/2019/10/22/K34SXV.png" alt="blog-source"></p><h1 id="Travis相关操作"><a href="#Travis相关操作" class="headerlink" title="Travis相关操作"></a><em>Travis相关操作</em></h1><p>1、使用 <code>github</code> 帐号登录 <a href="https://travis-ci.org" rel="external nofollow noopener noreferrer" target="_blank">TravisCI</a> ，左上方按钮点击同步项目，下方打开需要集成的项目，最后点击齿轮进入项目配置页面</p><p><img src="https://s2.ax1x.com/2019/10/24/KN4q56.png" alt="Travis-首页"></p><p>2、具体 <code>Travis</code> 配置如下图</p><p><img src="https://s2.ax1x.com/2019/10/24/KN5IW8.png" alt="Travis-配置页"></p><p>3、配置好 <code>Travis</code> 后，回到终端，进入 <code>blog</code> 所在的文件夹下，新建 <code>.travis.yml</code> 文件，并添加以下内容</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">sudo: <span class="literal">false</span></span><br><span class="line">language: node_js</span><br><span class="line">node_js:</span><br><span class="line">  - 10 <span class="comment"># use nodejs v10 LTS</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定缓存模块，可选。缓存可加快编译速度。</span></span><br><span class="line">cache:</span><br><span class="line">  directories:</span><br><span class="line">    - node_modules</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定博客的仓库地址</span></span><br><span class="line">env:</span><br><span class="line"> global:</span><br><span class="line">   <span class="comment"># Github Pages</span></span><br><span class="line">   - GH_REF: github.com/XuxuGood/XuxuGood.github.io</span><br><span class="line">   <span class="comment"># Coding Pages</span></span><br><span class="line">   - CO_REF: git.dev.tencent.com/XuxuGood/XuxuGood.coding.me.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定博客分支</span></span><br><span class="line">branches:</span><br><span class="line">  only:</span><br><span class="line">    - blog-source <span class="comment"># build master branch only</span></span><br><span class="line"></span><br><span class="line">before_install:</span><br><span class="line">  - npm install -g hexo-cli</span><br><span class="line"></span><br><span class="line"><span class="comment"># Start: Build Lifecycle</span></span><br><span class="line">install:</span><br><span class="line">  - npm install</span><br><span class="line">  - npm install hexo-deployer-git --save</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 执行清缓存，生成网页操作</span></span><br><span class="line">script:</span><br><span class="line">  - hexo clean</span><br><span class="line">  - hexo generate</span><br><span class="line">  <span class="comment">#gulp压缩文件</span></span><br><span class="line">  - gulp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置git提交名，邮箱；替换真实token到_config.yml文件，最后depoy部署</span></span><br><span class="line">after_script:</span><br><span class="line">  - <span class="built_in">cd</span> ./public</span><br><span class="line">  - git init</span><br><span class="line">  - git config user.name <span class="string">"xuxu"</span></span><br><span class="line">  - git config user.email <span class="string">"22476705@qq.com"</span></span><br><span class="line">  - git add .</span><br><span class="line">  - git commit -m <span class="string">"TravisCI 自动部署"</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Github Pages</span></span><br><span class="line">  - git push --force --quiet <span class="string">"https://<span class="variable">$&#123;GH_TOKEN&#125;</span>@<span class="variable">$&#123;GH_REF&#125;</span>"</span> master:master</span><br><span class="line">  <span class="comment"># Coding Pages</span></span><br><span class="line">  - git push --force --quiet <span class="string">"https://XuxuGood:<span class="variable">$&#123;CO_TOKEN&#125;</span>@<span class="variable">$&#123;CO_REF&#125;</span>"</span> master:master</span><br><span class="line">  - git tag v0.0.<span class="variable">$TRAVIS_BUILD_NUMBER</span> -a -m <span class="string">"Auto Taged By TravisCI With Build <span class="variable">$TRAVIS_BUILD_NUMBER</span>"</span></span><br><span class="line">  <span class="comment"># Github Pages</span></span><br><span class="line">  - git push --quiet <span class="string">"https://<span class="variable">$&#123;GH_TOKEN&#125;</span>@<span class="variable">$&#123;GH_REF&#125;</span>"</span> master:master --tags</span><br><span class="line">  <span class="comment"># Coding Pages</span></span><br><span class="line">  - git push --quiet <span class="string">"https://XuxuGood:<span class="variable">$&#123;CO_TOKEN&#125;</span>@<span class="variable">$&#123;CO_REF&#125;</span>"</span> master:master --tags</span><br><span class="line"></span><br><span class="line">  <span class="comment"># Build Salver Repository(Github Pages)</span></span><br><span class="line">  <span class="comment">#- git push --force --quiet "https://$&#123;GH_TOKEN&#125;@$&#123;GH_REF&#125;" master:master</span></span><br><span class="line">  <span class="comment"># Build Salver Repository(Github Pages)</span></span><br><span class="line">  <span class="comment">#- git push --force --quiet "https://$&#123;GH_TOKEN&#125;@$&#123;GH_REF&#125;" master:master</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># End: Build LifeCycle</span></span><br></pre></td></tr></table></figure></div><p>4、然后，准备 <code>push</code> 该项目到 <code>github</code> ，看下是否成功，最终成功则会看到 <code>Travis</code> 构建页面显示如下图</p><p><img src="https://s2.ax1x.com/2019/10/24/KNo94P.png" alt="Travis-构建页面"></p><p>以上就是基于 TravisCI 实现 Hexo 在 Github 和 Coding 同步部署的全部介绍，如有不明白的地方欢迎下方留言 o(^▽^)o ，谢谢阅读。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Github</tag>
        <tag>Coding</tag>
        <tag>TravisCI</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo搭建本地个人博客（基础篇）</title>
    <url>/posts/e1b9c6c5.html</url>
    <content><![CDATA[<!-- build time:Wed Nov 13 2019 08:59:38 GMT+0000 (Coordinated Universal Time) --><p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 <a href="http://daringfireball.net/projects/markdown/" rel="external nofollow noopener noreferrer" target="_blank">Markdown</a>（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p><h1 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a><em>安装Hexo</em></h1><p>建立 Hexo 只需要几分钟，安装 Hexo 非常简单。但是，您首先需要安装其他一些东西。</p><ol><li><a href="http://nodejs.org/" rel="external nofollow noopener noreferrer" target="_blank">Node.js</a> &nbsp;&nbsp;(Node.js 版本需不低于 8.6，建议使用 Node.js 10.0 及以上版本)</li><li><a href="http://git-scm.com/" rel="external nofollow noopener noreferrer" target="_blank">Git</a></li></ol><p>如果您的电脑中已经安装上述必备程序，那么恭喜您！接下来只需要使用 npm 即可完成 Hexo 的安装。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CMD"><figure class="iseeu highlight /cmd"><table><tr><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure></div><p>如果没有，那就一起来看下面吧 (<code>这里只说一下 windows 的安装，因为本人现在比较穷，买不起mac啊 テ_デ，其他相关教程大家就去搜搜很多的。</code>)</p><h2 id="安装git"><a href="#安装git" class="headerlink" title="安装git"></a><em>安装git</em></h2><p><img src="https://s2.ax1x.com/2019/10/21/KlpZvD.md.png" alt="安装git"></p><div class="image-caption">安装git.png</div><p><a href="https://git-scm.com/downloads" class="LinkCard" rel="external nofollow noopener noreferrer" target="_blank">安装地址</a></p><p>一切按照默认走就行了，没什么特殊的地方，安装完成之后检查git是否安装成功（执行一下cmd命令），显示版本号即为成功！</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CMD"><figure class="iseeu highlight /cmd"><table><tr><td class="code"><pre><span class="line">git --version</span><br></pre></td></tr></table></figure></div><h2 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a><em>安装Node.js</em></h2><p><img src="https://s2.ax1x.com/2019/10/21/KlpmKe.md.png" alt="安装Node.js"></p><div class="image-caption">安装Node.js.png</div><p><a href="https://nodejs.org/en/" class="LinkCard" rel="external nofollow noopener noreferrer" target="_blank">安装地址</a></p><p>我们这里简单点，直接下载并运行安装程序就完了，还是走默认就行，安装完成之后检查 node 是否安装成功（执行一下cmd命令），显示版本号即为成功！</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CMD"><figure class="iseeu highlight /cmd"><table><tr><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure></div><h2 id="安装Hexo-1"><a href="#安装Hexo-1" class="headerlink" title="安装Hexo"></a><em>安装Hexo</em></h2><p>所有必备的应用程序安装完成后，即可使用 npm 安装 Hexo。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CMD"><figure class="iseeu highlight /cmd"><table><tr><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure></div><h1 id="利用Hexo初始化我们的站点跟目录-文件"><a href="#利用Hexo初始化我们的站点跟目录-文件" class="headerlink" title="利用Hexo初始化我们的站点跟目录(文件)"></a><em>利用Hexo初始化我们的站点跟目录(文件)</em></h1><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CMD"><figure class="iseeu highlight /cmd"><table><tr><td class="code"><pre><span class="line">$ hexo init &lt;文件夹&gt;</span><br><span class="line">$ <span class="built_in">cd</span> &lt;文件夹&gt;</span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure></div><p>选择你想要的盘符来建立我们的博客站点文件,我这里选择 D:\blog ，这里的 blog 是你的文件夹名字（根据自己的喜好建一个文件夹）</p><p><img src="https://s2.ax1x.com/2019/10/21/KlPjo9.png" alt="init hexo"></p><p>cd 到你的站点目录下，然后 初始化站点 $ npm install，执行成功后到你的 blog 文件夹下看看是否这样的（一致就成功啦~~）</p><p><img src="https://s2.ax1x.com/2019/10/21/Klkwa4.png" alt="blog"></p><p>介绍几个个命令 ,以后经常要用到的</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CMD"><figure class="iseeu highlight /cmd"><table><tr><td class="code"><pre><span class="line">hexo g: 编译,生成静态文件，也就是public文件夹的东西。</span><br><span class="line">hexo s: 开启本地服务(以上两步的操作可以合并成hexo s -g)。</span><br><span class="line">hexo clean: 顾名思义就是清除缓存的意思了啦，这招一般在你改动之后网站没有变化时候用。</span><br></pre></td></tr></table></figure></div><p>接下来看看 你博客的初步成果吧。</p><p>进入 <code>blog</code> 文件根目录:</p><ol><li>执行命令: <code>hexo g</code> 和 <code>hexo s</code></li><li>然后在你的浏览器输入<code>http://localhost:4000</code>，查看你的博客。</li></ol><p><img src="https://s2.ax1x.com/2019/10/21/KlAJFH.png" alt="blog首页"></p><p>到此为止，你的个人博客就已经搭建完成了。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/posts/27514.html</url>
    <content><![CDATA[<!-- build time:Wed Nov 13 2019 08:59:38 GMT+0000 (Coordinated Universal Time) --><p>Welcome to <a href="https://hexo.io/" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" rel="external nofollow noopener noreferrer" target="_blank">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" rel="external nofollow noopener noreferrer" target="_blank">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" rel="external nofollow noopener noreferrer" target="_blank">GitHub</a>.</p><h1 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h1><h2 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h2><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure></div><p>More info: <a href="https://hexo.io/docs/writing.html" rel="external nofollow noopener noreferrer" target="_blank">Writing</a></p><h2 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h2><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure></div><p>More info: <a href="https://hexo.io/docs/server.html" rel="external nofollow noopener noreferrer" target="_blank">Server</a></p><h2 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h2><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure></div><p>More info: <a href="https://hexo.io/docs/generating.html" rel="external nofollow noopener noreferrer" target="_blank">Generating</a></p><h2 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h2><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure></div><p>More info: <a href="https://hexo.io/docs/deployment.html" rel="external nofollow noopener noreferrer" target="_blank">Deployment</a></p><!-- rebuild by neat -->]]></content>
  </entry>
</search>
