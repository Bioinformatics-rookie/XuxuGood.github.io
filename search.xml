<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hexo优化之lazyload图片懒加载</title>
    <url>/posts/61913369.html</url>
    <content><![CDATA[<!-- build time:Thu Nov 21 2019 08:41:57 GMT+0000 (Coordinated Universal Time) --><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Hexo 博客虽然功能很强大，但也越来越繁重了，访问速度上有了一些问题，这里我也考虑了许多，例如加 cdn，将国外的资源引用改为国内镜像等方式。今天又想到如果一个页面的图片很多，那么如何来提高博客的访问速度呢？</p><p>经过一番寻找之后，找到一个方案，就是懒加载，通俗点讲就是当你翻到图片的时候再加载那张图片，而不是以下将本页面的所有图片都加载完。</p><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>在你的 Hexo 目录下，执行以下命令：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-lazyload-image --save</span><br></pre></td></tr></table></figure></div><p>然后在你的 Hexo 目录的配置文件 <code>_config.yml</code> 中添加配置:</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">lazyload:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  onlypost: <span class="literal">false</span></span><br><span class="line">  loadingImg: /images/loading.gif</span><br></pre></td></tr></table></figure></div><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><ol><li>onlypost：是否仅文章中的图片做懒加载，如果为 false，则主题中的其他图片，也会做懒加载，如头像，logo 等任何图片。</li><li>loadingImg：图片未加载时的代替图，不填写使用默认加载图片，如果需要自定义，添填入 loading 图片地址，如果是本地图片，不要忘记把图片添加到你的主题目录下。 Next 主题需将图片放到 <code>\themes\next\source\images</code> 目录下，然后引用时：<code>loadingImg: /images/图片文件名</code></li></ol><h2 id="福利"><a href="#福利" class="headerlink" title="福利"></a>福利</h2><p>送上两个gif加载中动图</p><a class="btn" href="https://hasaik.com/images/loading3.gif"><i class="fa fa-download fa-lg fa-fw"></i>点击下载动图1</a> <a class="btn" href="https://hasaik.com/images/loading4.gif"><i class="fa fa-download fa-lg fa-fw"></i>点击下载动图2</a><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>lazyload</tag>
        <tag>图片</tag>
      </tags>
  </entry>
  <entry>
    <title>Java base64加密解密</title>
    <url>/posts/c4782247.html</url>
    <content><![CDATA[<!-- build time:Thu Nov 21 2019 08:41:57 GMT+0000 (Coordinated Universal Time) --><h2 id="为什么要使用Base64"><a href="#为什么要使用Base64" class="headerlink" title="为什么要使用Base64"></a>为什么要使用Base64</h2><p>Base 64主要用途不是加密，而是把一些二进制数转成普通字符，方便在网络上传输。 由于一些二进制字符在传输协议中属于控制字符，不能直接传送，所以需要转换一下才可以。由于某些系统中只能使用ASCII字符，Base64就是用来将非ASCII字符的数据转换成ASCII字符的一种方法，Base64特别适合在http，mime协议下快速传输数据。比如网络中图片的传输。</p><p>Base64并非安全领域下的加密解密算法。虽然经常遇到所谓的base64的加密解密。但base64只能算是一个编码算法，对数据内容进行编码来适合传输。虽然base64编码过后原文也变成不能看到的字符格式，但是方式初级又简单。</p><h2 id="Base64原理"><a href="#Base64原理" class="headerlink" title="Base64原理"></a>Base64原理</h2><p>Base64编码方法，要求把每三个8Bit的字节转换为四个6Bit的字节，其中，转换之后的这四个字节中每6个有效bit为是有效数据，空余的那两个 bit用0补上成为一个字节。因此Base64所造成数据冗余不是很严重，Base64是当今比较流行的编码方法，因为它编起来速度快而且简单。</p><p>举个例子，有三个字节的原始数据：aaaaaabb　bbbbccccc　ccdddddd（这里每个字母表示一个bit位）</p><p>那么编码之后会变成：00aaaaaa　00bbbbbb　00cccccc　00dddddd</p><p>所以可以看出base64编码简单，虽然编码后不是明文，看不出原文，但是解码也很简单。</p><h2 id="实现方式"><a href="#实现方式" class="headerlink" title="实现方式"></a>实现方式</h2><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.scaffolding.demo.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.nio.charset.StandardCharsets;</span><br><span class="line"><span class="keyword">import</span> java.util.Base64;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: Xuxu</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2019-11-19 11:49</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Base64Util</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 加密</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">asBase64</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Base64.getEncoder().encodeToString(str.getBytes(StandardCharsets.UTF_8));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 解密</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">asString</span><span class="params">(String base64)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> String(Base64.getDecoder().decode(base64), StandardCharsets.UTF_8);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String str = <span class="string">"123456"</span>;</span><br><span class="line">        <span class="comment">//加密</span></span><br><span class="line">        System.out.println(Base64Util.asBase64(str));</span><br><span class="line">        <span class="comment">//解密后</span></span><br><span class="line">        System.out.println(Base64Util.asString(Base64Util.asBase64(str)));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Java</category>
        <category>Base64</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Base64</tag>
      </tags>
  </entry>
  <entry>
    <title>Java实现MD5加盐加密和MD5与SHA-1混合加盐加密两种方式</title>
    <url>/posts/a7df3b40.html</url>
    <content><![CDATA[<!-- build time:Thu Nov 21 2019 08:41:57 GMT+0000 (Coordinated Universal Time) --><p>现在一般的MD5加密在网上随随便便就能够解密，解密的网站有以下几个：</p><p><a href="http://pmd5.com/" class="LinkCard" rel="external nofollow noopener noreferrer" target="_blank">PMD5</a></p><p><a href="http://www.cmd5.com/" class="LinkCard" rel="external nofollow noopener noreferrer" target="_blank">CMD5</a></p><p><a href="http://tool.chinaz.com/tools/md5.aspx" class="LinkCard" rel="external nofollow noopener noreferrer" target="_blank">站长工具</a></p><p>好了介绍了这么多密码解密的网站，现在我们来介绍如何提高密码的安全性，来防止上面的网站轻松破解我们的密码。</p><h2 id="MD5加盐加密"><a href="#MD5加盐加密" class="headerlink" title="MD5加盐加密"></a>MD5加盐加密</h2><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.scaffolding.demo.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.security.MessageDigest;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: Xuxu</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2019-11-18 11:20</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MD5Util</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * byte[]字节数组 转换成 十六进制字符串</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> arr 要转换的byte[]字节数组</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> String 返回十六进制字符串</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">hex</span><span class="params">(<span class="keyword">byte</span>[] arr)</span> </span>&#123;</span><br><span class="line">        StringBuffer sb = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; ++i) &#123;</span><br><span class="line">            sb.append(Integer.toHexString((arr[i] &amp; <span class="number">0xFF</span>) | <span class="number">0x100</span>).substring(<span class="number">1</span>, <span class="number">3</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * MD5加密,并把结果由字节数组转换成十六进制字符串</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> str 要加密的内容</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> String 返回加密后的十六进制字符串</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">md5Hex</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            MessageDigest md = MessageDigest.getInstance(<span class="string">"MD5"</span>);</span><br><span class="line">            <span class="keyword">byte</span>[] digest = md.digest(str.getBytes());</span><br><span class="line">            <span class="keyword">return</span> hex(digest);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            System.out.println(e.toString());</span><br><span class="line">            <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 生成含有随机盐的密码</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> password 要加密的密码</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> String 含有随机盐的密码</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getSaltMD5</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 生成一个16位的随机数</span></span><br><span class="line">        Random random = <span class="keyword">new</span> Random();</span><br><span class="line">        StringBuilder sBuilder = <span class="keyword">new</span> StringBuilder(<span class="number">16</span>);</span><br><span class="line">        sBuilder.append(random.nextInt(<span class="number">99999999</span>)).append(random.nextInt(<span class="number">99999999</span>));</span><br><span class="line">        <span class="keyword">int</span> len = sBuilder.length();</span><br><span class="line">        <span class="keyword">if</span> (len &lt; <span class="number">16</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">16</span> - len; i++) &#123;</span><br><span class="line">                sBuilder.append(<span class="string">"0"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 生成最终的加密盐</span></span><br><span class="line">        String salt = sBuilder.toString();</span><br><span class="line">        password = md5Hex(password + salt);</span><br><span class="line">        <span class="keyword">char</span>[] cs = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">48</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">48</span>; i += <span class="number">3</span>) &#123;</span><br><span class="line">            cs[i] = password.charAt(i / <span class="number">3</span> * <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">char</span> c = salt.charAt(i / <span class="number">3</span>);</span><br><span class="line">            cs[i + <span class="number">1</span>] = c;</span><br><span class="line">            cs[i + <span class="number">2</span>] = password.charAt(i / <span class="number">3</span> * <span class="number">2</span> + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> String.valueOf(cs);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 验证加盐后是否和原密码一致</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> password 原密码</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> password 加密之后的密码</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> boolean true表示和原密码一致   false表示和原密码不一致</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">getSaltverifyMD5</span><span class="params">(String password, String md5str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span>[] cs1 = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">32</span>];</span><br><span class="line">        <span class="keyword">char</span>[] cs2 = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">16</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">48</span>; i += <span class="number">3</span>) &#123;</span><br><span class="line">            cs1[i / <span class="number">3</span> * <span class="number">2</span>] = md5str.charAt(i);</span><br><span class="line">            cs1[i / <span class="number">3</span> * <span class="number">2</span> + <span class="number">1</span>] = md5str.charAt(i + <span class="number">2</span>);</span><br><span class="line">            cs2[i / <span class="number">3</span>] = md5str.charAt(i + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        String Salt = <span class="keyword">new</span> String(cs2);</span><br><span class="line">        <span class="keyword">return</span> md5Hex(password + Salt).equals(String.valueOf(cs1));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 原密码</span></span><br><span class="line">        String plaintext = <span class="string">"123456"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取加盐后的MD5值</span></span><br><span class="line">        String ciphertext = MD5Util.getSaltMD5(plaintext);</span><br><span class="line">        System.out.println(<span class="string">"加盐后MD5："</span> + ciphertext);</span><br><span class="line">        System.out.println(<span class="string">"是否是同一字符串:"</span> + MD5Util.getSaltverifyMD5(plaintext, ciphertext));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>输出结果为：</p><p>加盐后MD5：e9a97f49db0f20911ab1d815624b33e75a3236e76040f509</p><p>是否是同一字符串：true</p><p>这时，我们可以把加盐后的 加密密码 拿到 MD5加密网上去验证是否能够解密（这里我只列举其中一个网站进行验证，你们也可以自行拿去各个MD5加密网站上去验证）</p><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/11/19/Mgdtjs.png" alt="md5"></p><p>我们可以看到，MD5加密网站已经无法破解我们加密的密码了，所以MD5加盐加密的密码相对来说还是比较安全的。</p><h2 id="MD5和SHA-1混合加盐加密"><a href="#MD5和SHA-1混合加盐加密" class="headerlink" title="MD5和SHA-1混合加盐加密"></a>MD5和SHA-1混合加盐加密</h2><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.scaffolding.demo.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.UnsupportedEncodingException;</span><br><span class="line"><span class="keyword">import</span> java.security.MessageDigest;</span><br><span class="line"><span class="keyword">import</span> java.security.NoSuchAlgorithmException;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: Xuxu</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2019-11-18 13:15</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MD5Utils</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * md5和sha-1混合加密</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> inputText 要加密的内容</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> String md5和sha-1混合加密之后的密码</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">md5AndSha</span><span class="params">(String inputText)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sha(md5(inputText));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * md5加密</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> inputText 要加密的内容</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> String  md5加密之后的密码</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">md5</span><span class="params">(String inputText)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> encrypt(inputText, <span class="string">"md5"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * sha-1加密</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> inputText 要加密的内容</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> sha-1加密之后的密码</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">sha</span><span class="params">(String inputText)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> encrypt(inputText, <span class="string">"sha-1"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * md5或者sha-1加密</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> inputText     要加密的内容</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> algorithmName 加密算法名称：md5或者sha-1，不区分大小写</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> String  md5或者sha-1加密之后的结果</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">encrypt</span><span class="params">(String inputText, String algorithmName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (inputText == <span class="keyword">null</span> || <span class="string">""</span>.equals(inputText.trim())) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"请输入要加密的内容"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (algorithmName == <span class="keyword">null</span> || <span class="string">""</span>.equals(algorithmName.trim())) &#123;</span><br><span class="line">            algorithmName = <span class="string">"md5"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        String encryptText = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            MessageDigest m = MessageDigest.getInstance(algorithmName);</span><br><span class="line">            m.update(inputText.getBytes(<span class="string">"UTF8"</span>));</span><br><span class="line">            <span class="keyword">byte</span> s[] = m.digest();</span><br><span class="line">            <span class="keyword">return</span> hex(s);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchAlgorithmException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> encryptText;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * byte[]字节数组 转换成 十六进制字符串</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> arr 要转换的byte[]字节数组</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> String 返回十六进制字符串</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">hex</span><span class="params">(<span class="keyword">byte</span>[] arr)</span> </span>&#123;</span><br><span class="line">        StringBuffer sb = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; ++i) &#123;</span><br><span class="line">            sb.append(Integer.toHexString((arr[i] &amp; <span class="number">0xFF</span>) | <span class="number">0x100</span>).substring(<span class="number">1</span>, <span class="number">3</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 生成含有随机盐的密码</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> password 要加密的密码</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> String 含有随机盐的密码</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getSaltMd5AndSha</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 生成一个16位的随机数</span></span><br><span class="line">        Random random = <span class="keyword">new</span> Random();</span><br><span class="line">        StringBuilder sBuilder = <span class="keyword">new</span> StringBuilder(<span class="number">16</span>);</span><br><span class="line">        sBuilder.append(random.nextInt(<span class="number">99999999</span>)).append(random.nextInt(<span class="number">99999999</span>));</span><br><span class="line">        <span class="keyword">int</span> len = sBuilder.length();</span><br><span class="line">        <span class="keyword">if</span> (len &lt; <span class="number">16</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">16</span> - len; i++) &#123;</span><br><span class="line">                sBuilder.append(<span class="string">"0"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 生成最终的加密盐</span></span><br><span class="line">        String salt = sBuilder.toString();</span><br><span class="line">        password = md5AndSha(password + salt);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">char</span>[] cs = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">48</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">48</span>; i += <span class="number">3</span>) &#123;</span><br><span class="line">            cs[i] = password.charAt(i / <span class="number">3</span> * <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">char</span> c = salt.charAt(i / <span class="number">3</span>);</span><br><span class="line">            cs[i + <span class="number">1</span>] = c;</span><br><span class="line">            cs[i + <span class="number">2</span>] = password.charAt(i / <span class="number">3</span> * <span class="number">2</span> + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> String.valueOf(cs);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 验证加盐后是否和原密码一致</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> password 原密码</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> password 加密之后的密码</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> boolean true表示和原密码一致   false表示和原密码不一致</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">getSaltverifyMd5AndSha</span><span class="params">(String password, String md5str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span>[] cs1 = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">32</span>];</span><br><span class="line">        <span class="keyword">char</span>[] cs2 = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">16</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">48</span>; i += <span class="number">3</span>) &#123;</span><br><span class="line">            cs1[i / <span class="number">3</span> * <span class="number">2</span>] = md5str.charAt(i);</span><br><span class="line">            cs1[i / <span class="number">3</span> * <span class="number">2</span> + <span class="number">1</span>] = md5str.charAt(i + <span class="number">2</span>);</span><br><span class="line">            cs2[i / <span class="number">3</span>] = md5str.charAt(i + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        String salt = <span class="keyword">new</span> String(cs2);</span><br><span class="line">        String encrypPassword = md5AndSha(password + salt);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 加密密码去掉最后8位数</span></span><br><span class="line">        encrypPassword = encrypPassword.substring(<span class="number">0</span>, encrypPassword.length() - <span class="number">8</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> encrypPassword.equals(String.valueOf(cs1));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 原密码</span></span><br><span class="line">        String plaintext = <span class="string">"123456"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取加盐后的MD5值</span></span><br><span class="line">        String ciphertext = MD5Utils.getSaltMd5AndSha(plaintext);</span><br><span class="line">        System.out.println(<span class="string">"加盐后MD5："</span> + ciphertext);</span><br><span class="line">        System.out.println(<span class="string">"是否是同一字符串:"</span> + MD5Utils.getSaltverifyMd5AndSha(plaintext, ciphertext));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>眼睛比较明亮的朋友，可能会发现 MD5 和 SHA-1 混合加盐加密 与 MD5 加盐加密 的 getSaltverifyMD5(String password, String md5str) 方法有些不同，是的，MD5和SHA-1混合加盐加密 的 getSaltverifyMD5(String password, String md5str) 多了下面这一行代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVA"><figure class="iseeu highlight /java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 加密密码去掉最后8位数</span></span><br><span class="line">encrypPassword = encrypPassword.substring(<span class="number">0</span> , encrypPassword.length() - <span class="number">8</span>);</span><br></pre></td></tr></table></figure></div><p>就会有人问了，为什么要去掉加密密码的最后8位数，而MD5加盐加密却不要？其实这是有原因的</p><p>我们可以看到密码为 123456 经过 MD5、MD5和SHA-1 混合加密的结果：</p><p>&emsp;&emsp;MD5 ：e10adc3949ba59abbe56e057f20f883e （32位数）</p><p>&emsp;&emsp;MD5和SHA-1 ：10470c3b4b1fed12c3baac014be15fac67c6e815 （40位数）</p><p>发现有什么不同了没？两种加密之后的密码长度是不是 不一样了 经过MD5加密之后的密码长度为32，而MD5和SHA-1的为40</p><p>而我们在 getSaltMd5AndSha （与getSaltMD5代码相同，只是方法名称不一样）中定义的</p><p>盐长度为 16位数（即 StringBuilder sBuilder = new StringBuilder(16) ;）</p><p>加盐加密后的密码长度为 48位数 (即 char[] cs = new char[48]; )</p><p>加盐加密后的密码长度 = 盐长度 + MD5加密的密码长度 (即 48 = 16 + 32 )</p><p>长度刚刚等于48位数，所以char[] cs 刚好可以把 密码和盐全部都存储起来，可是MD5和SHA-1 加密的密码长度为40，即</p><p>48 &lt; 40 + 16，还会有八位数不能够存储到char[] cs 中, 这也就意味着 char[] cs 只能够存储 MD5和SHA-1 加密密码的前32位数 和 16位数的盐，MD5和SHA-1 加密密码的最后八位会丢失，而在验证加盐后是否和原密码一致的getSaltverifyMd5AndSha(String password, String md5str)方法中，我们定义的 char[] cs1 = new char[32];（即去掉盐之后的MD5和SHA-1 加密密码）只有32位数，而MD5和SHA-1 加密密码实际位数有40位数，那么在进行encrypPassword.equals(String.valueOf(cs1) ) 时，就会返回false，即原密码与加密密码验证不一致。</p><p>所以要解决这个问题，就是把MD5和SHA-1 加密的密码结果 去掉最后8位数，再进行比较，这样就可以验证原密码是否与加密密码一致了。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Java</category>
        <category>MD5</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>MD5</tag>
        <tag>SHA-1</tag>
      </tags>
  </entry>
  <entry>
    <title>使用增强版valine</title>
    <url>/posts/bf9eba42.html</url>
    <content><![CDATA[<!-- build time:Thu Nov 21 2019 08:41:57 GMT+0000 (Coordinated Universal Time) --><p>云淡风轻在很早之前就开发了一款极简的<a href="https://ioliu.cn/2017/add-valine-comments-to-your-blog/" rel="external nofollow noopener noreferrer" target="_blank">valine评论系统</a>，由于现在Disqus被墙，使用起来步骤太复杂，所以现在大多数个人博客还是以valine为主。但是原生的valine功能过于单调，后来有不少大佬在基于原作者的基础上增强了valine的功能，我想推荐的一款就是 <a href="https://deserts.io/" rel="external nofollow noopener noreferrer" target="_blank">Deserts</a> 增强的valine，<a href="https://deserts.io/diy-a-comment-system/" rel="external nofollow noopener noreferrer" target="_blank">作者介绍文档</a>并没有针对hexo博客做出适配，所以我记录一下我在hexo博客中做出的修改。</p><p>相比于原生valine，作者做出了以下增强功能：</p><ol><li>支持博主标记显示</li><li>必须填写昵称和邮箱才能评论（反垃圾评论的作用）</li><li>支持PJAX主题</li><li>可以自定义表情包，评论样式修改，点赞功能（新版中被作者去掉了。。。）</li><li>评论表情包</li><li>支持Disqus数据迁移到valine</li><li>隐私保护：敏感字段限制读取，如E-mail、用户信息（使用的浏览器等）、IP</li><li>头像显示、样式美化</li><li>完善的邮件通知</li><li>基于Akimmet的垃圾评论自动标注和过滤</li><li>通知邮件补发</li><li>……</li></ol><p><a href="https://desertsp.github.io/Valine/" rel="external nofollow noopener noreferrer" target="_blank">评论在线预览</a>，具体介绍可以参考作者<a href="https://deserts.io/diy-a-comment-system/" rel="external nofollow noopener noreferrer" target="_blank">原文博客</a></p><p>为了适配hexo博客，可以做如下修改：</p><ol><li><p>先<a href="https://site-1258928558.cos.ap-guangzhou.myqcloud.com/js/Valine.min.js" rel="external nofollow noopener noreferrer" target="_blank">下载</a>作者给出的 <code>Valine.min.js</code> 文件，放到 <code>hexo/themes/next/source/js/src</code> 下，或者你的其它托管路径下</p></li><li><p>然后修改代码如下：</p></li></ol><p>文件位置：hexo/themes/next/layout/_third-party/comments/valine.swig</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% <span class="keyword">if</span> theme.valine.enable and theme.valine.appid and theme.valine.appkey %&#125;</span><br><span class="line">  &lt;script src=<span class="string">"//cdn1.lncld.net/static/js/3.0.4/av-min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script src=<span class="string">"/js/src/Valine.min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!--&lt;script src=<span class="string">"//unpkg.com/valine/dist/Valine.min.js"</span>&gt;&lt;/script&gt;--&gt;</span><br><span class="line">  &lt;!-- https://deserts.io/diy<span class="_">-a</span>-comment-system/ --&gt;</span><br><span class="line">  &lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    new Valine(&#123;</span><br><span class="line">        lang: <span class="string">'zh-cn'</span>,</span><br><span class="line">        admin_email: <span class="string">'22476705@qq.com'</span>, //博主邮箱</span><br><span class="line">        el: <span class="string">'#comments'</span> ,</span><br><span class="line">        appId: <span class="string">'&#123;&#123; theme.valine.appid &#125;&#125;'</span>,</span><br><span class="line">        appKey: <span class="string">'&#123;&#123; theme.valine.appkey &#125;&#125;'</span>,</span><br><span class="line">        emoticon_url: <span class="string">'https://cloud.panjunwen.com/alu'</span>,</span><br><span class="line">        emoticon_list: [<span class="string">"吐.png"</span>,<span class="string">"喷血.png"</span>,<span class="string">"狂汗.png"</span>,<span class="string">"不说话.png"</span>,<span class="string">"汗.png"</span>,<span class="string">"坐等.png"</span>,<span class="string">"献花.png"</span>,<span class="string">"不高兴.png"</span>,<span class="string">"中刀.png"</span>,<span class="string">"害羞.png"</span>,<span class="string">"皱眉.png"</span>,<span class="string">"小眼睛.png"</span>,<span class="string">"中指.png"</span>,<span class="string">"尴尬.png"</span>,<span class="string">"瞅你.png"</span>,<span class="string">"想一想.png"</span>,<span class="string">"中枪.png"</span>,<span class="string">"得意.png"</span>,<span class="string">"肿包.png"</span>,<span class="string">"扇耳光.png"</span>,<span class="string">"亲亲.png"</span>,<span class="string">"惊喜.png"</span>,<span class="string">"脸红.png"</span>,<span class="string">"无所谓.png"</span>,<span class="string">"便便.png"</span>,<span class="string">"愤怒.png"</span>,<span class="string">"蜡烛.png"</span>,<span class="string">"献黄瓜.png"</span>,<span class="string">"内伤.png"</span>,<span class="string">"投降.png"</span>,<span class="string">"观察.png"</span>,<span class="string">"看不见.png"</span>,<span class="string">"击掌.png"</span>,<span class="string">"抠鼻.png"</span>,<span class="string">"邪恶.png"</span>,<span class="string">"看热闹.png"</span>,<span class="string">"口水.png"</span>,<span class="string">"抽烟.png"</span>,<span class="string">"锁眉.png"</span>,<span class="string">"装大款.png"</span>,<span class="string">"吐舌.png"</span>,<span class="string">"无奈.png"</span>,<span class="string">"长草.png"</span>,<span class="string">"赞一个.png"</span>,<span class="string">"呲牙.png"</span>,<span class="string">"无语.png"</span>,<span class="string">"阴暗.png"</span>,<span class="string">"不出所料.png"</span>,<span class="string">"咽气.png"</span>,<span class="string">"期待.png"</span>,<span class="string">"高兴.png"</span>,<span class="string">"吐血倒地.png"</span>,<span class="string">"哭泣.png"</span>,<span class="string">"欢呼.png"</span>,<span class="string">"黑线.png"</span>,<span class="string">"喜极而泣.png"</span>,<span class="string">"喷水.png"</span>,<span class="string">"深思.png"</span>,<span class="string">"鼓掌.png"</span>,<span class="string">"暗地观察.png"</span>],</span><br><span class="line">        placeholder: <span class="string">'&#123;&#123; theme.valine.placeholder &#125;&#125;'</span>,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  &lt;!--点击邮件中的链接跳转至相应评论--&gt;</span><br><span class="line">  <span class="keyword">if</span>(window.location.hash)&#123;</span><br><span class="line">      var checkExist = setInterval(<span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">         <span class="keyword">if</span> ($(window.location.hash).length) &#123;</span><br><span class="line">            $(<span class="string">'html, body'</span>).animate(&#123;scrollTop: $(window.location.hash).offset().top-90&#125;, 1000);</span><br><span class="line">            clearInterval(checkExist);</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;, 100);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  &lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></div><p>这样就可以基本替代了，但是…但是还是存在不少BUG，比如，原生valine自带的首页元数据评论数量统计不见了，有人提出了issue，作者表示无意开发这个功能。</p><p>如果你懂一些css知识的话，评论样式依旧可以自己在 <code>cuntom.styl</code> 文件中修改。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Valine</category>
      </categories>
      <tags>
        <tag>Valine</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo博客+Next主题归档页美化</title>
    <url>/posts/f68f129b.html</url>
    <content><![CDATA[<!-- build time:Thu Nov 21 2019 08:41:57 GMT+0000 (Coordinated Universal Time) --><p>大家在使用hexo博客的Next主题的时候应该都觉得原来默认的归档页面很丑吧，最近也有小伙伴问我这个归档页面美化怎么弄的，今天就小小的总结一下。</p><p><a href="https://hasaik.com/archives/" class="LinkCard">我的归档页面</a></p><p>首先我们打开Next主题目录（注意这个美化样式只支持Next主题），然后找到 <code>next/layout/_macro/post-collapse.swig</code> 文件。</p><div class="note warning">注意：Next5和Next6主题下这个文件中内容可能会有点不太一样，需要找到对应内容对应一一修改。</div><p>以下基于Next5，其中原始内容如下，Next6主题下类似：</p><p>文件位置：/hexo/next/layout/_macro/post-collapse.swig</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% macro render(post) %&#125;</span><br><span class="line"></span><br><span class="line"> &lt;article class=<span class="string">"post post-type-&#123;&#123; post.type | default('normal') &#125;&#125;"</span> itemscope itemtype=<span class="string">"http://schema.org/Article"</span>&gt;</span><br><span class="line">    &lt;header class=<span class="string">"post-header"</span>&gt;</span><br><span class="line"></span><br><span class="line">       &lt;&#123;% <span class="keyword">if</span> theme.seo %&#125;h3&#123;% <span class="keyword">else</span> %&#125;h2&#123;% endif %&#125; class=<span class="string">"post-title"</span>&gt;</span><br><span class="line">            &#123;% <span class="keyword">if</span> post.link %&#125;&#123;<span class="comment"># Link posts #&#125;</span></span><br><span class="line">            &lt;a class=<span class="string">"post-title-link post-title-link-external"</span> target=<span class="string">"_blank"</span> href=<span class="string">"&#123;&#123; url_for(post.link) &#125;&#125;"</span> itemprop=<span class="string">"url"</span>&gt;</span><br><span class="line">                &#123;&#123; post.title or post.link &#125;&#125;</span><br><span class="line">                &lt;i class=<span class="string">"fa fa-external-link"</span>&gt;&lt;/i&gt;</span><br><span class="line">            &lt;/a&gt;</span><br><span class="line">            &#123;% <span class="keyword">else</span> %&#125;</span><br><span class="line">            &lt;a class=<span class="string">"post-title-link"</span> href=<span class="string">"&#123;&#123; url_for(post.path) &#125;&#125;"</span> itemprop=<span class="string">"url"</span>&gt;</span><br><span class="line">                &#123;% <span class="keyword">if</span> post.type === <span class="string">'picture'</span> %&#125;</span><br><span class="line">                &#123;&#123; post.content &#125;&#125;</span><br><span class="line">                &#123;% <span class="keyword">else</span> %&#125;</span><br><span class="line">                &lt;span itemprop=<span class="string">"name"</span>&gt;&#123;&#123; post.title | default(__(<span class="string">'post.untitled'</span>)) &#125;&#125;&lt;/span&gt;</span><br><span class="line">                &#123;% endif %&#125;</span><br><span class="line">            &lt;/a&gt;</span><br><span class="line">            &#123;% endif %&#125;</span><br><span class="line">            &lt;/&#123;% <span class="keyword">if</span> theme.seo %&#125;h3&#123;% <span class="keyword">else</span> %&#125;h2&#123;% endif %&#125;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div class=<span class="string">"post-meta"</span>&gt;</span><br><span class="line">            &lt;time class=<span class="string">"post-time"</span> itemprop=<span class="string">"dateCreated"</span></span><br><span class="line">                  datetime=<span class="string">"&#123;&#123; moment(post.date).format() &#125;&#125;"</span></span><br><span class="line">                  content=<span class="string">"&#123;&#123; date(post.date, config.date_format) &#125;&#125;"</span> &gt;</span><br><span class="line">                &#123;&#123; date(post.date, <span class="string">'MM-DD'</span>) &#125;&#125;</span><br><span class="line">            &lt;/time&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/header&gt;</span><br><span class="line">&lt;/article&gt;</span><br><span class="line"></span><br><span class="line">&#123;% endmacro %&#125;</span><br></pre></td></tr></table></figure></div><p>然后主要找 class 属性做修改，首先将 <code>post-meta</code> 代码块的内容上移到 <code>post-header</code> 下面，如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DIFF"><figure class="iseeu highlight /diff"><table><tr><td class="code"><pre><span class="line">&#123;% macro render(post) %&#125;</span><br><span class="line"></span><br><span class="line"> &lt;article class="post post-type-&#123;&#123; post.type | default('normal') &#125;&#125;" itemscope itemtype="http://schema.org/Article"&gt;</span><br><span class="line">    &lt;header class="post-header"&gt;</span><br><span class="line">    </span><br><span class="line"><span class="addition">+       &lt;div class="post-meta"&gt;</span></span><br><span class="line"><span class="addition">+            &lt;time class="post-time" itemprop="dateCreated"</span></span><br><span class="line"><span class="addition">+                  datetime="&#123;&#123; moment(post.date).format() &#125;&#125;"</span></span><br><span class="line"><span class="addition">+                  content="&#123;&#123; date(post.date, config.date_format) &#125;&#125;" &gt;</span></span><br><span class="line"><span class="addition">+                &#123;&#123; date(post.date, 'MM-DD') &#125;&#125;</span></span><br><span class="line"><span class="addition">+            &lt;/time&gt;</span></span><br><span class="line"><span class="addition">+        &lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line">       &lt;&#123;% if theme.seo %&#125;h3&#123;% else %&#125;h2&#123;% endif %&#125; class="post-title"&gt;</span><br><span class="line">            &#123;% if post.link %&#125;&#123;# Link posts #&#125;</span><br><span class="line">            &lt;a class="post-title-link post-title-link-external" target="_blank" href="&#123;&#123; url_for(post.link) &#125;&#125;" itemprop="url"&gt;</span><br><span class="line">                &#123;&#123; post.title or post.link &#125;&#125;</span><br><span class="line">                &lt;i class="fa fa-external-link"&gt;&lt;/i&gt;</span><br><span class="line">            &lt;/a&gt;</span><br><span class="line">            &#123;% else %&#125;</span><br><span class="line">            &lt;a class="post-title-link" href="&#123;&#123; url_for(post.path) &#125;&#125;" itemprop="url"&gt;</span><br><span class="line">                &#123;% if post.type <span class="comment">=== 'picture' %&#125;</span></span><br><span class="line">                &#123;&#123; post.content &#125;&#125;</span><br><span class="line">                &#123;% else %&#125;</span><br><span class="line">                &lt;span itemprop="name"&gt;&#123;&#123; post.title | default(__('post.untitled')) &#125;&#125;&lt;/span&gt;</span><br><span class="line">                &#123;% endif %&#125;</span><br><span class="line">            &lt;/a&gt;</span><br><span class="line">            &#123;% endif %&#125;</span><br><span class="line">            &lt;/&#123;% if theme.seo %&#125;h3&#123;% else %&#125;h2&#123;% endif %&#125;&gt;</span><br><span class="line">        </span><br><span class="line"><span class="deletion">-       &lt;div class="post-meta"&gt;</span></span><br><span class="line"><span class="deletion">-            &lt;time class="post-time" itemprop="dateCreated"</span></span><br><span class="line"><span class="deletion">-                  datetime="&#123;&#123; moment(post.date).format() &#125;&#125;"</span></span><br><span class="line"><span class="deletion">-                  content="&#123;&#123; date(post.date, config.date_format) &#125;&#125;" &gt;</span></span><br><span class="line"><span class="deletion">-                &#123;&#123; date(post.date, 'MM-DD') &#125;&#125;</span></span><br><span class="line"><span class="deletion">-            &lt;/time&gt;</span></span><br><span class="line"><span class="deletion">-        &lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line">    &lt;/header&gt;</span><br><span class="line">&lt;/article&gt;</span><br><span class="line"></span><br><span class="line">&#123;% endmacro %&#125;</span><br></pre></td></tr></table></figure></div><p>然后对照下面代码修改 class 属性，红色代码为原始代码，绿色代码为修改后的代码，实际上修改的地方只是在对应的 class 属性前面加上 <code>my-</code> 即可，比如原始是 <code>post-title-link</code> ，修改为 <code>my-post-title-link</code> 。注意以下只是原始代码和修改代码参考对比，不要直接复制！</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DIFF"><figure class="iseeu highlight /diff"><table><tr><td class="code"><pre><span class="line">&#123;% macro render(post) %&#125;</span><br><span class="line"></span><br><span class="line"><span class="deletion">- &lt;article class="post post-type-&#123;&#123; post.type | default('normal') &#125;&#125;" itemscope itemtype="http://schema.org/Article"&gt;</span></span><br><span class="line"><span class="addition">+ &lt;article class="my-post post-type-&#123;&#123; post.type | default('normal') &#125;&#125;" itemscope itemtype="http://schema.org/Article"&gt;</span></span><br><span class="line"><span class="deletion">-    &lt;header class="post-header"&gt;</span></span><br><span class="line"><span class="addition">+    &lt;header class="my-post-header"&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-       &lt;div class="post-meta"&gt;</span></span><br><span class="line"><span class="addition">+       &lt;div class="my-post-meta"&gt;</span></span><br><span class="line"><span class="deletion">-            &lt;time class="post-time" itemprop="dateCreated"</span></span><br><span class="line"><span class="addition">+            &lt;time class="my-post-time" itemprop="dateCreated"</span></span><br><span class="line">                  datetime="&#123;&#123; moment(post.date).format() &#125;&#125;"</span><br><span class="line">                  content="&#123;&#123; date(post.date, config.date_format) &#125;&#125;" &gt;</span><br><span class="line">                &#123;&#123; date(post.date, 'MM-DD') &#125;&#125;</span><br><span class="line">            &lt;/time&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="deletion">-       &lt;&#123;% if theme.seo %&#125;h3&#123;% else %&#125;h2&#123;% endif %&#125; class="post-title"&gt;</span></span><br><span class="line"><span class="addition">+       &lt;&#123;% if theme.seo %&#125;h3&#123;% else %&#125;h2&#123;% endif %&#125; class="my-post-title"&gt;</span></span><br><span class="line">            &#123;% if post.link %&#125;&#123;# Link posts #&#125;</span><br><span class="line"><span class="deletion">-            &lt;a class="post-title-link post-title-link-external" target="_blank" href="&#123;&#123; url_for(post.link) &#125;&#125;" itemprop="url"&gt;</span></span><br><span class="line"><span class="addition">+            &lt;a class="my-post-title-link post-title-link-external" target="_blank" href="&#123;&#123; url_for(post.link) &#125;&#125;" itemprop="url"&gt;</span></span><br><span class="line">                &#123;&#123; post.title or post.link &#125;&#125;</span><br><span class="line">                &lt;i class="fa fa-external-link"&gt;&lt;/i&gt;</span><br><span class="line">            &lt;/a&gt;</span><br><span class="line">            &#123;% else %&#125;</span><br><span class="line"><span class="deletion">-            &lt;a class="post-title-link" href="&#123;&#123; url_for(post.path) &#125;&#125;" itemprop="url"&gt;</span></span><br><span class="line"><span class="addition">+            &lt;a class="my-post-title-link" href="&#123;&#123; url_for(post.path) &#125;&#125;" itemprop="url"&gt;</span></span><br><span class="line">                &#123;% if post.type <span class="comment">=== 'picture' %&#125;</span></span><br><span class="line">                &#123;&#123; post.content &#125;&#125;</span><br><span class="line">                &#123;% else %&#125;</span><br><span class="line">                &lt;span itemprop="name"&gt;&#123;&#123; post.title | default(__('post.untitled')) &#125;&#125;&lt;/span&gt;</span><br><span class="line">                &#123;% endif %&#125;</span><br><span class="line">            &lt;/a&gt;</span><br><span class="line">            &#123;% endif %&#125;</span><br><span class="line">            &lt;/&#123;% if theme.seo %&#125;h3&#123;% else %&#125;h2&#123;% endif %&#125;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/header&gt;</span><br><span class="line">&lt;/article&gt;</span><br><span class="line"></span><br><span class="line">&#123;% endmacro %&#125;</span><br></pre></td></tr></table></figure></div><p>最后打开主题目录下的 <code>next/source/css/_custom/custom.styl</code> 文件，在文件末尾添加如下样式：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">/* 归档页样式 began */</span><br><span class="line">.page-archive .archive-page-counter &#123;</span><br><span class="line">  font-size: 18px;</span><br><span class="line">  background-color: <span class="comment">#49b1f5;</span></span><br><span class="line">  padding-left: 10px;</span><br><span class="line">  padding-right: 10px;</span><br><span class="line">  border-radius: 8px;</span><br><span class="line">  color: <span class="comment">#fff;</span></span><br><span class="line">  +<span class="function"><span class="title">mobile</span></span>() &#123;</span><br><span class="line">    font-size: 16px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">.my-post-time&#123;</span><br><span class="line">  font-size: 11px;</span><br><span class="line">  position: absolute;</span><br><span class="line">  color: <span class="comment">#fff;</span></span><br><span class="line">  background-color: <span class="comment">#49b1f5;</span></span><br><span class="line">  border-radius: 5px;</span><br><span class="line">  padding-left: 5px;</span><br><span class="line">  padding-right: 5px;</span><br><span class="line">  margin-left: 15px;</span><br><span class="line">&#125;</span><br><span class="line">.mypost&#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  margin-bottom: 1rem;</span><br><span class="line">  -webkit-transition: all .2s ease-in-out;</span><br><span class="line">  -moz-transition: all .2s ease-in-out;</span><br><span class="line">  -o-transition: all .2s ease-in-out;</span><br><span class="line">  -ms-transition: all .2s ease-in-out;</span><br><span class="line">  transition: all .2s ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line">a.my-post-title-link:before&#123;</span><br><span class="line">  top: 10px;</span><br><span class="line">  width: 18px;</span><br><span class="line">  height: 18px;</span><br><span class="line">  content: <span class="string">"📚"</span>;</span><br><span class="line">  margin-right: 5px;</span><br><span class="line">  font: normal normal normal 14px/1 FontAwesome;</span><br><span class="line">  font-size: 15px;</span><br><span class="line">  line-height: 18px;</span><br><span class="line">&#125;</span><br><span class="line">.my-post:hover&#123;</span><br><span class="line">  transform: scale(1.1);</span><br><span class="line">  box-shadow: 10px 10px 15px 2px rgba(0,0,0,.12), 0 0 6px 0 rgba(104, 104, 105, 0.1);</span><br><span class="line">  border-radius: 30px;</span><br><span class="line">  width: 400px;</span><br><span class="line">  padding: 1px 10px;</span><br><span class="line">  margin-left: 25px;</span><br><span class="line">  font-size: 16px;</span><br><span class="line">  transition-duration: 0.15s;</span><br><span class="line">  +<span class="function"><span class="title">mobile</span></span>()&#123;</span><br><span class="line">    width: 260px;</span><br><span class="line">    margin-left: 18px;</span><br><span class="line">  &#125;</span><br><span class="line">  //display:flex;</span><br><span class="line">&#125;</span><br><span class="line">a.my-post-title-link&#123;</span><br><span class="line">  text-decoration: none;</span><br><span class="line">  font-size: 15px;</span><br><span class="line">  font-weight: 400;</span><br><span class="line">  +<span class="function"><span class="title">mobile</span></span>() &#123;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">.my-post-title&#123;</span><br><span class="line">  display: block;</span><br><span class="line">  margin-left: 4.5rem;</span><br><span class="line">  color: <span class="comment">#4c4948;</span></span><br><span class="line">  text-decoration: none;</span><br><span class="line">  font-size: .8rem;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">  +<span class="function"><span class="title">mobile</span></span>() &#123;</span><br><span class="line">    //margin-left: 4rem;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">.my-post-header&#123;</span><br><span class="line">  position: top;</span><br><span class="line">  margin-bottom: 1rem;</span><br><span class="line">  -webkit-transition: all .2s ease-in-out;</span><br><span class="line">  -moz-transition: all .2s ease-in-out;</span><br><span class="line">  -o-transition: all .2s ease-in-out;</span><br><span class="line">  -ms-transition: all .2s ease-in-out;</span><br><span class="line">  transition: all .2s ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line">//.my-post-title-link&#123;</span><br><span class="line">//  font-size: 16px;</span><br><span class="line">//  font-weight: 500;</span><br><span class="line">//&#125;</span><br><span class="line">.my-post-meta&#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  color: <span class="comment">#99a9bf;</span></span><br><span class="line">  width: 80px;</span><br><span class="line">  color: <span class="comment">#114142;</span></span><br><span class="line">&#125;</span><br><span class="line">div.post-block.tag .collection-title h2 &#123;</span><br><span class="line">  border-width: 1px;</span><br><span class="line">  border-style: solid;</span><br><span class="line">  border-color: <span class="comment">#3f3f3f;</span></span><br><span class="line">  border-radius: 20px;</span><br><span class="line">  font-size: 22px;</span><br><span class="line">  background-color: <span class="comment">#b4e8fa;</span></span><br><span class="line">  padding: 2px 15px;</span><br><span class="line">  letter-spacing: 1.5px;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line">  color: <span class="comment">#3f3f3f;</span></span><br><span class="line">  display: inline-block;</span><br><span class="line">  margin: 10px 0 10px;</span><br><span class="line">  text-align: center;</span><br><span class="line">  +<span class="function"><span class="title">mobile</span></span>()&#123;</span><br><span class="line">    font-size: 18px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">.category-list-link:hover&#123;</span><br><span class="line">  transform: scale(1.1);</span><br><span class="line">  box-shadow: 10px 10px 15px 2px rgba(0,0,0,.12), 0 0 6px 0 rgba(104, 104, 105, 0.1);</span><br><span class="line">  border-radius: 8px;</span><br><span class="line">  padding: 1px 1px;</span><br><span class="line">  margin-left: 5px;</span><br><span class="line">  font-size: 16px;</span><br><span class="line">  transition-duration: 0.15s;</span><br><span class="line">  //display:flex;</span><br><span class="line">&#125;</span><br><span class="line">/* 归档页样式 end */</span><br></pre></td></tr></table></figure></div><p>然后 <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code> 就可以查看效果了！</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo博客Valine评论样式美化</title>
    <url>/posts/89ea6c8b.html</url>
    <content><![CDATA[<!-- build time:Thu Nov 21 2019 08:41:57 GMT+0000 (Coordinated Universal Time) --><p>Valine 是一款比较轻量级的纯前端的评论系统，目前很多个人博客都在使用 Valine 评论系统，并且支持匿名留言。</p><p><a href="https://github.com/xCss/Valine" class="LinkCard" rel="external nofollow noopener noreferrer" target="_blank">Valine的Github地址</a></p><p>我个人也是很喜欢这一款评论系统的，之前用过来必力、Gitalk 等评论系统，都觉得很难用，尤其是来必力，这款韩国人做的评论系统在国内使用很容易出现加载非常慢的情况，往往博客内容都加载完成评论系统还需要好久才加载完，在国内体验比较差吧。</p><p>那么 Valine 默认的样式其实比较素，当然不同人喜欢的风格都不一样，如果有喜欢我这种评论样式的，不妨留个言并且在文章末尾给个五星好评吧~</p><div class="note danger"><p>注意：本Valine美化目前只适应于 <code>valine1.3.4</code> 版本的，如果是其它版本的可能css样式会错乱。</p></div><p>具体更改 Valine 版本的话，主要是更改Valine的js版本，比如我的是next主题，那么就在主题目录下 <code>next\layout\_third-party\comments\valine.swig</code> 中找到引入 <code>valine.js</code> 的 <code>&lt;script&gt;&lt;/script&gt;</code> 语句，我是将 Valine 的 <code>1.3.4</code> 版本的 <code>js</code> 放到目录本地的，所以将引入 <code>js</code> 的语句改成了：<code>&lt;script src=&quot;/js/src/valine1.3.4.js&quot;&gt;&lt;/script&gt;</code></p><p>当然不同版本的next主题中 <code>valine.swig</code> 中内容也不同。</p><p>比如next6主题的 <code>valine.swig</code> 中代码是这样的：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% <span class="built_in">set</span> valine_uri = <span class="string">'//unpkg.com/valine/dist/Valine.min.js'</span> %&#125;</span><br><span class="line">&#123;% <span class="keyword">if</span> theme.vendors.valine %&#125;</span><br><span class="line">  &#123;% <span class="built_in">set</span> valine_uri = theme.vendors.valine %&#125;</span><br><span class="line">&#123;% endif %&#125;</span><br><span class="line">&lt;script src=<span class="string">"&#123;&#123; valine_uri &#125;&#125;"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></div><p>而next5主题的就在valine.swig开头，内容如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% <span class="keyword">if</span> theme.valine.enable and theme.valine.appid and theme.valine.appkey %&#125;</span><br><span class="line">  &lt;script src=<span class="string">"//cdn1.lncld.net/static/js/3.0.4/av-min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script src=<span class="string">"//unpkg.com/valine/dist/Valine.min.js"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></div><p>而url中 <code>//unpkg.com/valine/dist/Valine.min.js</code> 默认是引入最新的 <code>valine.js</code> 文件，所以不管是next5还是next6主题都是修改这个url地址，只要修改成 <code>valine1.3.4</code> 版本的js文件即可。</p><p>然后打开主题目录下 <code>next\source\css\_custom\custom.styl</code> ，在文件末尾添加如下代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">/*valine 评论系统样式*/</span><br><span class="line">div<span class="comment">#comments.comments.v&#123;</span></span><br><span class="line">  margin-top: 0px !important;</span><br><span class="line">  margin-left: 0px !important;</span><br><span class="line">  margin-right: 0px !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div.vheader.item2&#123;</span><br><span class="line">  border-bottom: 1px solid <span class="comment">#5f5f5f;</span></span><br><span class="line">  height: 35px !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vwrap .vheader.item2 .vinput&#123;</span><br><span class="line">  height: 30px !important;</span><br><span class="line">  border: 0px !important;</span><br><span class="line">  width: 25% !important;</span><br><span class="line">  margin: 0px !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">input.vnick.vinput&#123;</span><br><span class="line">  border-right: 2px solid <span class="comment">#a4d8fa !important;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div.vcontrol&#123;</span><br><span class="line">  padding-top: 0px !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div<span class="comment">#comments.comments.v&#123;</span></span><br><span class="line">  border: 0px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.v .vwrap&#123;</span><br><span class="line">  border: 2px solid black !important;</span><br><span class="line">  height: 250px !important;</span><br><span class="line">  border-radius: 6px !important;</span><br><span class="line">  overflow: visible !important;</span><br><span class="line">  counter-reset: avater;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vwrap .vedit .vemojis&#123;</span><br><span class="line">  width: 600px !important;</span><br><span class="line">  background-color: <span class="comment">#fff !important;</span></span><br><span class="line">  border-radius: 5px !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vwrap .vedit .vpreview &#123;</span><br><span class="line">  width: 600px !important;</span><br><span class="line">  background-color: <span class="comment">#fff !important;</span></span><br><span class="line">  border-radius: 5px !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vbtn&#123;</span><br><span class="line">  background-color: <span class="comment">#971212 !important;</span></span><br><span class="line">  color: <span class="comment">#fff !important;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vwrap .vedit .vctrl&#123;</span><br><span class="line">  text-align: left !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vwrap .vedit .vctrl span&#123;</span><br><span class="line">  background-color: <span class="comment">#7f7f7f !important;</span></span><br><span class="line">  color: <span class="comment">#fff !important;</span></span><br><span class="line">  border-radius: 3px !important;</span><br><span class="line">  padding: 3px !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vwrap .vedit .vctrl&#123;</span><br><span class="line">  padding: 0px !important;</span><br><span class="line">  margin: 0px !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vlist .vcard .vquote .vcontent &#123;</span><br><span class="line">  font-size: 15px;</span><br><span class="line">  font-weight: 200;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div.vedit&#123;</span><br><span class="line">  height: 120px;</span><br><span class="line">&#125;</span><br><span class="line">div.vcontrol&#123;</span><br><span class="line">	margin-top: 30px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .veditor&#123;</span><br><span class="line">  min-height: 70px !important;</span><br><span class="line">  height: 100px !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vlist .vcard &#123;</span><br><span class="line">  border: 1px solid <span class="comment">#ccc !important;</span></span><br><span class="line">  padding-left: 14px !important;</span><br><span class="line">  padding-right: 14px !important;</span><br><span class="line">  margin-bottom: 20px !important;</span><br><span class="line">  border-radius: 10px !important;</span><br><span class="line">&#125;</span><br><span class="line">.v .vlist  .vquote .vcard&#123;</span><br><span class="line">  border: 0px !important;</span><br><span class="line">  margin-bottom: 0px !important;</span><br><span class="line">  border-radius: 0px !important;</span><br><span class="line">  padding: 0px !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vlist .vcard .vhead .vsys&#123;</span><br><span class="line">  display:none !important;</span><br><span class="line">  background-color: <span class="comment">#fff !important;</span></span><br><span class="line">&#125;</span><br><span class="line">.v .vlist .vcard .vh .vmeta .vat&#123;</span><br><span class="line">  background-color: <span class="comment">#177714 !important;</span></span><br><span class="line">  color: <span class="comment">#fff !important;</span></span><br><span class="line">  border-radius: 3px !important;</span><br><span class="line">  padding-left: 10px !important;</span><br><span class="line">  padding-right: 10px !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vlist .vcard .vimg&#123;</span><br><span class="line">  margin: 0 12px 0 0;</span><br><span class="line">  counter-increment: avater;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*设置评论头像旋转*/</span><br><span class="line">.v .vlist .vcard .vimg:hover &#123;</span><br><span class="line">    -webkit-transform: rotate(360deg);</span><br><span class="line">    -moz-transform: rotate(360deg);</span><br><span class="line">    -ms-transform: rotate(360deg);</span><br><span class="line">    -transform: rotate(360deg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vlist .vcard .vquote&#123;</span><br><span class="line">  margin-left: 40px; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vlist .vcard .vquote&#123;</span><br><span class="line">  counter-reset: avaters;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vlist .vcard .vquote .vimg&#123;</span><br><span class="line">  display: avaters !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vlist .vcard .vquote  .vhead:before&#123;</span><br><span class="line">    display: block;</span><br><span class="line">    <span class="built_in">float</span>: left;</span><br><span class="line">    width: 38px;</span><br><span class="line">    height: 38px;</span><br><span class="line">    line-height: 38px;</span><br><span class="line">    margin: 0 12px 0 0;</span><br><span class="line">    color: <span class="comment">#fff;</span></span><br><span class="line">    font-size: 15px;</span><br><span class="line">    font-weight: bold;</span><br><span class="line">    font-style: normal;</span><br><span class="line">    background-color: <span class="comment">#2d4e41;</span></span><br><span class="line">    border: 3px solid <span class="comment">#60a1e5;</span></span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    text-align: center;</span><br><span class="line"></span><br><span class="line">    /*content: counter(avater)<span class="string">'.'</span>counter(avaters);</span><br><span class="line">    counter-increment: avaters;*/</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vlist .vcard p &#123;</span><br><span class="line">  top: -1.5em;</span><br><span class="line">  position: relative;</span><br><span class="line">  z-index: 1;</span><br><span class="line">  margin: <span class="built_in">unset</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vlist .vcard .vquote a.at &#123;</span><br><span class="line">  font-size: 13px;</span><br><span class="line">  color: <span class="comment">#bea124;</span></span><br><span class="line">  text-decoration: none;</span><br><span class="line">  border: <span class="built_in">unset</span>;</span><br><span class="line">  position: relative;</span><br><span class="line">  top: -40px;</span><br><span class="line">&#125;</span><br><span class="line">.v .vlist .vcard .vquote .vcontent&#123;</span><br><span class="line">  font-size: 15px;</span><br><span class="line">  font-weight: 200;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vlist .vcard .vcontent &#123;</span><br><span class="line">  margin-top: 58px !important;</span><br><span class="line">  font-size: 15px !important;</span><br><span class="line">  font-weight: 500 !important;</span><br><span class="line">  padding-top: 0 !important;</span><br><span class="line">  margin-bottom: <span class="built_in">unset</span> !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vlist .vcard .vquote .vhead .vnick &#123;</span><br><span class="line">  color: <span class="comment">#5af !important;</span></span><br><span class="line">  font-weight: 300 !important;</span><br><span class="line">  font-size: 15px !important;</span><br><span class="line">&#125;</span><br><span class="line">.v .vlist .vcard .vhead .vnick &#123;</span><br><span class="line">  font-size: 18px !important;</span><br><span class="line">  font-weight: 500 !important;</span><br><span class="line">  color: <span class="comment">#5b6b68 !important;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vlist .vcard&#123;</span><br><span class="line">  padding-top: 8px !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vlist .vcard .vhead&#123;</span><br><span class="line">  <span class="built_in">float</span>: left !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vlist .vcard .vh .vmeta&#123;</span><br><span class="line">  <span class="built_in">float</span>: right !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.v .vlist .vcard .vcontent.expand:after&#123;</span><br><span class="line">  content: <span class="string">"点击查看全部"</span> !important;</span><br><span class="line">  font-weight: 400 !important;</span><br><span class="line">&#125;</span><br><span class="line">/**/</span><br></pre></td></tr></table></figure></div><p>其中有需要自己修改的地方可以在浏览器中F12自行修改css样式即可。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Valine</category>
      </categories>
      <tags>
        <tag>Valine</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo博客+Next主题鼠标点击特效</title>
    <url>/posts/9c9b482b.html</url>
    <content><![CDATA[<!-- build time:Thu Nov 21 2019 08:41:57 GMT+0000 (Coordinated Universal Time) --><div class="note primary">感觉鼠标点击出现效果也还不错哈，不妨在本站空白处点击一下看看效果~</div><h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/11/15/MUqJgS.jpg" alt="效果"></p><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>在主题 <code>_config.yml</code> 中添加动态配置项</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">cursor_effect:</span><br><span class="line">  enabled: <span class="literal">true</span></span><br><span class="line">  <span class="built_in">type</span>: love  <span class="comment"># fireworks：礼花 | explosion：爆炸 | love：浮出爱心 | text：浮出文字</span></span><br></pre></td></tr></table></figure></div><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>文件位置：/themes/next/layout/_custom/custom.swig ，添加如下代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% <span class="keyword">if</span> theme.cursor_effect %&#125;</span><br><span class="line">  &#123;% <span class="keyword">if</span> theme.cursor_effect.type == <span class="string">"fireworks"</span> %&#125;</span><br><span class="line">    &lt;script src=<span class="string">"/js/cursor/fireworks.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">  &#123;% elseif theme.cursor_effect.type == <span class="string">"explosion"</span> %&#125;</span><br><span class="line">    &lt;canvas class=<span class="string">"fireworks"</span> style=<span class="string">"position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"</span> &gt;&lt;/canvas&gt;</span><br><span class="line">    &lt;script src=<span class="string">"//cdn.bootcss.com/animejs/2.2.0/anime.min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=<span class="string">"/js/cursor/explosion.min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">  &#123;% elseif theme.cursor_effect.type == <span class="string">"love"</span> %&#125;</span><br><span class="line">    &lt;script src=<span class="string">"/js/cursor/love.min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">  &#123;% elseif theme.cursor_effect.type == <span class="string">"text"</span> %&#125;</span><br><span class="line">    &lt;script src=<span class="string">"/js/cursor/text.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></div><p>如果是第一次使用这个 <code>custom.swig</code> ，则需要在 /themes/next/layout/_layout.swig 中引入</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% include <span class="string">'_custom/custom.swig'</span> %&#125;</span><br></pre></td></tr></table></figure></div><p>将以下4个 JS 文件复制到目录 /themes/next/source/js/cursor/ 下</p><div class="note default">fireworks.js</div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">class Circle &#123;</span><br><span class="line">  constructor(&#123; origin, speed, color, angle, context &#125;) &#123;</span><br><span class="line">    this.origin = origin</span><br><span class="line">    this.position = &#123; ...this.origin &#125;</span><br><span class="line">    this.color = color</span><br><span class="line">    this.speed = speed</span><br><span class="line">    this.angle = angle</span><br><span class="line">    this.context = context</span><br><span class="line">    this.renderCount = 0</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">draw</span></span>() &#123;</span><br><span class="line">    this.context.fillStyle = this.color</span><br><span class="line">    this.context.beginPath()</span><br><span class="line">    this.context.arc(this.position.x, this.position.y, 2, 0, Math.PI * 2)</span><br><span class="line">    this.context.fill()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">move</span></span>() &#123;</span><br><span class="line">    this.position.x = (Math.sin(this.angle) * this.speed) + this.position.x</span><br><span class="line">    this.position.y = (Math.cos(this.angle) * this.speed) + this.position.y + (this.renderCount * 0.3)</span><br><span class="line">    this.renderCount++</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Boom &#123;</span><br><span class="line">  constructor (&#123; origin, context, circleCount = 16, area &#125;) &#123;</span><br><span class="line">    this.origin = origin</span><br><span class="line">    this.context = context</span><br><span class="line">    this.circleCount = circleCount</span><br><span class="line">    this.area = area</span><br><span class="line">    this.stop = <span class="literal">false</span></span><br><span class="line">    this.circles = []</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  randomArray(range) &#123;</span><br><span class="line">    const length = range.length</span><br><span class="line">    const randomIndex = Math.floor(length * Math.random())</span><br><span class="line">    <span class="built_in">return</span> range[randomIndex]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">randomColor</span></span>() &#123;</span><br><span class="line">    const range = [<span class="string">'8'</span>, <span class="string">'9'</span>, <span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'D'</span>, <span class="string">'E'</span>, <span class="string">'F'</span>]</span><br><span class="line">    <span class="built_in">return</span> <span class="string">'#'</span> + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  randomRange(start, end) &#123;</span><br><span class="line">    <span class="built_in">return</span> (end - start) * Math.random() + start</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">init</span></span>() &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">let</span> i = 0; i &lt; this.circleCount; i++) &#123;</span><br><span class="line">      const circle = new Circle(&#123;</span><br><span class="line">        context: this.context,</span><br><span class="line">        origin: this.origin,</span><br><span class="line">        color: this.randomColor(),</span><br><span class="line">        angle: this.randomRange(Math.PI - 1, Math.PI + 1),</span><br><span class="line">        speed: this.randomRange(1, 6)</span><br><span class="line">      &#125;)</span><br><span class="line">      this.circles.push(circle)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">move</span></span>() &#123;</span><br><span class="line">    this.circles.forEach((circle, index) =&gt; &#123;</span><br><span class="line">      <span class="keyword">if</span> (circle.position.x &gt; this.area.width || circle.position.y &gt; this.area.height) &#123;</span><br><span class="line">        <span class="built_in">return</span> this.circles.splice(index, 1)</span><br><span class="line">      &#125;</span><br><span class="line">      circle.move()</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">if</span> (this.circles.length == 0) &#123;</span><br><span class="line">      this.stop = <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">draw</span></span>() &#123;</span><br><span class="line">    this.circles.forEach(circle =&gt; circle.draw())</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class CursorSpecialEffects &#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span></span>() &#123;</span><br><span class="line">    this.computerCanvas = document.createElement(<span class="string">'canvas'</span>)</span><br><span class="line">    this.renderCanvas = document.createElement(<span class="string">'canvas'</span>)</span><br><span class="line"></span><br><span class="line">    this.computerContext = this.computerCanvas.getContext(<span class="string">'2d'</span>)</span><br><span class="line">    this.renderContext = this.renderCanvas.getContext(<span class="string">'2d'</span>)</span><br><span class="line"></span><br><span class="line">    this.globalWidth = window.innerWidth</span><br><span class="line">    this.globalHeight = window.innerHeight</span><br><span class="line"></span><br><span class="line">    this.booms = []</span><br><span class="line">    this.running = <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleMouseDown(e) &#123;</span><br><span class="line">    const boom = new Boom(&#123;</span><br><span class="line">      origin: &#123; x: e.clientX, y: e.clientY &#125;,</span><br><span class="line">      context: this.computerContext,</span><br><span class="line">      area: &#123;</span><br><span class="line">        width: this.globalWidth,</span><br><span class="line">        height: this.globalHeight</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    boom.init()</span><br><span class="line">    this.booms.push(boom)</span><br><span class="line">    this.running || this.run()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">handlePageHide</span></span>() &#123;</span><br><span class="line">    this.booms = []</span><br><span class="line">    this.running = <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">init</span></span>() &#123;</span><br><span class="line">    const style = this.renderCanvas.style</span><br><span class="line">    style.position = <span class="string">'fixed'</span></span><br><span class="line">    style.top = style.left = 0</span><br><span class="line">    style.zIndex = <span class="string">'999999999999999999999999999999999999999999'</span></span><br><span class="line">    style.pointerEvents = <span class="string">'none'</span></span><br><span class="line"></span><br><span class="line">    style.width = this.renderCanvas.width = this.computerCanvas.width = this.globalWidth</span><br><span class="line">    style.height = this.renderCanvas.height = this.computerCanvas.height = this.globalHeight</span><br><span class="line"></span><br><span class="line">    document.body.append(this.renderCanvas)</span><br><span class="line"></span><br><span class="line">    window.addEventListener(<span class="string">'mousedown'</span>, this.handleMouseDown.bind(this))</span><br><span class="line">    window.addEventListener(<span class="string">'pagehide'</span>, this.handlePageHide.bind(this))</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">run</span></span>() &#123;</span><br><span class="line">    this.running = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">if</span> (this.booms.length == 0) &#123;</span><br><span class="line">      <span class="built_in">return</span> this.running = <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    requestAnimationFrame(this.run.bind(this))</span><br><span class="line"></span><br><span class="line">    this.computerContext.clearRect(0, 0, this.globalWidth, this.globalHeight)</span><br><span class="line">    this.renderContext.clearRect(0, 0, this.globalWidth, this.globalHeight)</span><br><span class="line"></span><br><span class="line">    this.booms.forEach((boom, index) =&gt; &#123;</span><br><span class="line">      <span class="keyword">if</span> (boom.stop) &#123;</span><br><span class="line">        <span class="built_in">return</span> this.booms.splice(index, 1)</span><br><span class="line">      &#125;</span><br><span class="line">      boom.move()</span><br><span class="line">      boom.draw()</span><br><span class="line">    &#125;)</span><br><span class="line">    this.renderContext.drawImage(this.computerCanvas, 0, 0, this.globalWidth, this.globalHeight)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const cursorSpecialEffects = new CursorSpecialEffects()</span><br><span class="line">cursorSpecialEffects.init()</span><br></pre></td></tr></table></figure></div><div class="note default">explosion.min.js</div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="string">"use strict"</span>;<span class="keyword">function</span> updateCoords(e)&#123;pointerX=(e.clientX||e.touches[0].clientX)-canvasEl.getBoundingClientRect().left,pointerY=e.clientY||e.touches[0].clientY-canvasEl.getBoundingClientRect().top&#125;<span class="keyword">function</span> setParticuleDirection(e)&#123;var t=anime.random(0,360)*Math.PI/180,a=anime.random(50,180),n=[-1,1][anime.random(0,1)]*a;<span class="built_in">return</span>&#123;x:e.x+n*Math.cos(t),y:e.y+n*Math.sin(t)&#125;&#125;<span class="keyword">function</span> createParticule(e,t)&#123;var a=&#123;&#125;;<span class="built_in">return</span> a.x=e,a.y=t,a.color=colors[anime.random(0,colors.length-1)],a.radius=anime.random(16,32),a.endPos=setParticuleDirection(a),a.draw=<span class="function"><span class="title">function</span></span>()&#123;ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.fillStyle=a.color,ctx.fill()&#125;,a&#125;<span class="keyword">function</span> createCircle(e,t)&#123;var a=&#123;&#125;;<span class="built_in">return</span> a.x=e,a.y=t,a.color=<span class="string">"#F00"</span>,a.radius=0.1,a.alpha=0.5,a.lineWidth=6,a.draw=<span class="function"><span class="title">function</span></span>()&#123;ctx.globalAlpha=a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.lineWidth=a.lineWidth,ctx.strokeStyle=a.color,ctx.stroke(),ctx.globalAlpha=1&#125;,a&#125;<span class="keyword">function</span> renderParticule(e)&#123;<span class="keyword">for</span>(var t=0;t&lt;e.animatables.length;t++)&#123;e.animatables[t].target.draw()&#125;&#125;<span class="keyword">function</span> animateParticules(e,t)&#123;<span class="keyword">for</span>(var a=createCircle(e,t),n=[],i=0;i&lt;numberOfParticules;i++)&#123;n.push(createParticule(e,t))&#125;anime.timeline().add(&#123;targets:n,x:<span class="keyword">function</span>(e)&#123;<span class="built_in">return</span> e.endPos.x&#125;,y:<span class="keyword">function</span>(e)&#123;<span class="built_in">return</span> e.endPos.y&#125;,radius:0.1,duration:anime.random(1200,1800),easing:<span class="string">"easeOutExpo"</span>,update:renderParticule&#125;).add(&#123;targets:a,radius:anime.random(80,160),lineWidth:0,alpha:&#123;value:0,easing:<span class="string">"linear"</span>,duration:anime.random(600,800)&#125;,duration:anime.random(1200,1800),easing:<span class="string">"easeOutExpo"</span>,update:renderParticule,offset:0&#125;)&#125;<span class="keyword">function</span> debounce(e,t)&#123;var a;<span class="built_in">return</span> <span class="function"><span class="title">function</span></span>()&#123;var n=this,i=arguments;clearTimeout(a),a=setTimeout(<span class="function"><span class="title">function</span></span>()&#123;e.apply(n,i)&#125;,t)&#125;&#125;var canvasEl=document.querySelector(<span class="string">".fireworks"</span>);<span class="keyword">if</span>(canvasEl)&#123;var ctx=canvasEl.getContext(<span class="string">"2d"</span>),numberOfParticules=30,pointerX=0,pointerY=0,tap=<span class="string">"mousedown"</span>,colors=[<span class="string">"#FF1461"</span>,<span class="string">"#18FF92"</span>,<span class="string">"#5A87FF"</span>,<span class="string">"#FBF38C"</span>],setCanvasSize=debounce(<span class="function"><span class="title">function</span></span>()&#123;canvasEl.width=2*window.innerWidth,canvasEl.height=2*window.innerHeight,canvasEl.style.width=window.innerWidth+<span class="string">"px"</span>,canvasEl.style.height=window.innerHeight+<span class="string">"px"</span>,canvasEl.getContext(<span class="string">"2d"</span>).scale(2,2)&#125;,500),render=anime(&#123;duration:1/0,update:<span class="function"><span class="title">function</span></span>()&#123;ctx.clearRect(0,0,canvasEl.width,canvasEl.height)&#125;&#125;);document.addEventListener(tap,<span class="keyword">function</span>(e)&#123;<span class="string">"sidebar"</span>!==e.target.id&amp;&amp;<span class="string">"toggle-sidebar"</span>!==e.target.id&amp;&amp;<span class="string">"A"</span>!==e.target.nodeName&amp;&amp;<span class="string">"IMG"</span>!==e.target.nodeName&amp;&amp;(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))&#125;,!1),setCanvasSize(),window.addEventListener(<span class="string">"resize"</span>,setCanvasSize,!1)&#125;<span class="string">"use strict"</span>;<span class="keyword">function</span> updateCoords(e)&#123;pointerX=(e.clientX||e.touches[0].clientX)-canvasEl.getBoundingClientRect().left,pointerY=e.clientY||e.touches[0].clientY-canvasEl.getBoundingClientRect().top&#125;<span class="keyword">function</span> setParticuleDirection(e)&#123;var t=anime.random(0,360)*Math.PI/180,a=anime.random(50,180),n=[-1,1][anime.random(0,1)]*a;<span class="built_in">return</span>&#123;x:e.x+n*Math.cos(t),y:e.y+n*Math.sin(t)&#125;&#125;<span class="keyword">function</span> createParticule(e,t)&#123;var a=&#123;&#125;;<span class="built_in">return</span> a.x=e,a.y=t,a.color=colors[anime.random(0,colors.length-1)],a.radius=anime.random(16,32),a.endPos=setParticuleDirection(a),a.draw=<span class="function"><span class="title">function</span></span>()&#123;ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.fillStyle=a.color,ctx.fill()&#125;,a&#125;<span class="keyword">function</span> createCircle(e,t)&#123;var a=&#123;&#125;;<span class="built_in">return</span> a.x=e,a.y=t,a.color=<span class="string">"#F00"</span>,a.radius=0.1,a.alpha=0.5,a.lineWidth=6,a.draw=<span class="function"><span class="title">function</span></span>()&#123;ctx.globalAlpha=a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.lineWidth=a.lineWidth,ctx.strokeStyle=a.color,ctx.stroke(),ctx.globalAlpha=1&#125;,a&#125;<span class="keyword">function</span> renderParticule(e)&#123;<span class="keyword">for</span>(var t=0;t&lt;e.animatables.length;t++)&#123;e.animatables[t].target.draw()&#125;&#125;<span class="keyword">function</span> animateParticules(e,t)&#123;<span class="keyword">for</span>(var a=createCircle(e,t),n=[],i=0;i&lt;numberOfParticules;i++)&#123;n.push(createParticule(e,t))&#125;anime.timeline().add(&#123;targets:n,x:<span class="keyword">function</span>(e)&#123;<span class="built_in">return</span> e.endPos.x&#125;,y:<span class="keyword">function</span>(e)&#123;<span class="built_in">return</span> e.endPos.y&#125;,radius:0.1,duration:anime.random(1200,1800),easing:<span class="string">"easeOutExpo"</span>,update:renderParticule&#125;).add(&#123;targets:a,radius:anime.random(80,160),lineWidth:0,alpha:&#123;value:0,easing:<span class="string">"linear"</span>,duration:anime.random(600,800)&#125;,duration:anime.random(1200,1800),easing:<span class="string">"easeOutExpo"</span>,update:renderParticule,offset:0&#125;)&#125;<span class="keyword">function</span> debounce(e,t)&#123;var a;<span class="built_in">return</span> <span class="function"><span class="title">function</span></span>()&#123;var n=this,i=arguments;clearTimeout(a),a=setTimeout(<span class="function"><span class="title">function</span></span>()&#123;e.apply(n,i)&#125;,t)&#125;&#125;var canvasEl=document.querySelector(<span class="string">".fireworks"</span>);<span class="keyword">if</span>(canvasEl)&#123;var ctx=canvasEl.getContext(<span class="string">"2d"</span>),numberOfParticules=30,pointerX=0,pointerY=0,tap=<span class="string">"mousedown"</span>,colors=[<span class="string">"#FF1461"</span>,<span class="string">"#18FF92"</span>,<span class="string">"#5A87FF"</span>,<span class="string">"#FBF38C"</span>],setCanvasSize=debounce(<span class="function"><span class="title">function</span></span>()&#123;canvasEl.width=2*window.innerWidth,canvasEl.height=2*window.innerHeight,canvasEl.style.width=window.innerWidth+<span class="string">"px"</span>,canvasEl.style.height=window.innerHeight+<span class="string">"px"</span>,canvasEl.getContext(<span class="string">"2d"</span>).scale(2,2)&#125;,500),render=anime(&#123;duration:1/0,update:<span class="function"><span class="title">function</span></span>()&#123;ctx.clearRect(0,0,canvasEl.width,canvasEl.height)&#125;&#125;);document.addEventListener(tap,<span class="keyword">function</span>(e)&#123;<span class="string">"sidebar"</span>!==e.target.id&amp;&amp;<span class="string">"toggle-sidebar"</span>!==e.target.id&amp;&amp;<span class="string">"A"</span>!==e.target.nodeName&amp;&amp;<span class="string">"IMG"</span>!==e.target.nodeName&amp;&amp;(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))&#125;,!1),setCanvasSize(),window.addEventListener(<span class="string">"resize"</span>,setCanvasSize,!1)&#125;;</span><br></pre></td></tr></table></figure></div><div class="note default">love.min.js</div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">!<span class="keyword">function</span>(e,t,a)&#123;<span class="keyword">function</span> <span class="function"><span class="title">n</span></span>()&#123;c(<span class="string">".heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;"</span>),o(),r()&#125;<span class="keyword">function</span> <span class="function"><span class="title">r</span></span>()&#123;<span class="keyword">for</span>(var e=0;e&lt;d.length;e++)d[e].alpha&lt;=0?(t.body.removeChild(d[e].el),d.splice(e,1)):(d[e].y--,d[e].scale+=.004,d[e].alpha-=.013,d[e].el.style.cssText=<span class="string">"left:"</span>+d[e].x+<span class="string">"px;top:"</span>+d[e].y+<span class="string">"px;opacity:"</span>+d[e].alpha+<span class="string">";transform:scale("</span>+d[e].scale+<span class="string">","</span>+d[e].scale+<span class="string">") rotate(45deg);background:"</span>+d[e].color+<span class="string">";z-index:99999"</span>);requestAnimationFrame(r)&#125;<span class="keyword">function</span> <span class="function"><span class="title">o</span></span>()&#123;var t=<span class="string">"function"</span>==typeof e.onclick&amp;&amp;e.onclick;e.onclick=<span class="keyword">function</span>(e)&#123;t&amp;&amp;t(),i(e)&#125;&#125;<span class="keyword">function</span> i(e)&#123;var a=t.createElement(<span class="string">"div"</span>);a.className=<span class="string">"heart"</span>,d.push(&#123;el:a,x:e.clientX-5,y:e.clientY-5,scale:1,alpha:1,color:s()&#125;),t.body.appendChild(a)&#125;<span class="keyword">function</span> c(e)&#123;var a=t.createElement(<span class="string">"style"</span>);a.type=<span class="string">"text/css"</span>;try&#123;a.appendChild(t.createTextNode(e))&#125;catch(t)&#123;a.styleSheet.cssText=e&#125;t.getElementsByTagName(<span class="string">"head"</span>)[0].appendChild(a)&#125;<span class="keyword">function</span> <span class="function"><span class="title">s</span></span>()&#123;<span class="built_in">return</span><span class="string">"rgb("</span>+~~(255*Math.random())+<span class="string">","</span>+~~(255*Math.random())+<span class="string">","</span>+~~(255*Math.random())+<span class="string">")"</span>&#125;var d=[];e.requestAnimationFrame=<span class="function"><span class="title">function</span></span>()&#123;<span class="built_in">return</span> e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||<span class="keyword">function</span>(e)&#123;setTimeout(e,1e3/60)&#125;&#125;(),n()&#125;(window,document);</span><br></pre></td></tr></table></figure></div><div class="note default">text.js</div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">var a_idx = 0;</span><br><span class="line">jQuery(document).ready(<span class="keyword">function</span>($) &#123;</span><br><span class="line">  $(<span class="string">"body"</span>).click(<span class="keyword">function</span>(e) &#123;</span><br><span class="line">    var a = new Array(<span class="string">"富强"</span>, <span class="string">"民主"</span>, <span class="string">"文明"</span>, <span class="string">"和谐"</span>, <span class="string">"自由"</span>, <span class="string">"平等"</span>, <span class="string">"公正"</span> ,<span class="string">"法治"</span>, <span class="string">"爱国"</span>, <span class="string">"敬业"</span>, <span class="string">"诚信"</span>, <span class="string">"友善"</span>);</span><br><span class="line">    var <span class="variable">$i</span> = $(<span class="string">"&lt;span/&gt;"</span>).text(a[a_idx]);</span><br><span class="line">    var x = e.pageX,</span><br><span class="line">      y = e.pageY;</span><br><span class="line">    <span class="variable">$i</span>.css(&#123;</span><br><span class="line">      <span class="string">"z-index"</span>: 99999,</span><br><span class="line">      <span class="string">"top"</span>: y - 28,</span><br><span class="line">      <span class="string">"left"</span>: x - a[a_idx].length * 8,</span><br><span class="line">      <span class="string">"position"</span>: <span class="string">"absolute"</span>,</span><br><span class="line">      <span class="string">"color"</span>: <span class="string">"#ff7a45"</span></span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="string">"body"</span>).append(<span class="variable">$i</span>);</span><br><span class="line">    <span class="variable">$i</span>.animate(&#123;</span><br><span class="line">      <span class="string">"top"</span>: y - 180,</span><br><span class="line">      <span class="string">"opacity"</span>: 0</span><br><span class="line">    &#125;, 1500, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">      <span class="variable">$i</span>.remove();</span><br><span class="line">    &#125;);</span><br><span class="line">    a_idx = (a_idx + 1) % a.length;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Hexo</category>
        <category>点击特效</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo博客中加入豆瓣读书页面</title>
    <url>/posts/7fbe9500.html</url>
    <content><![CDATA[<!-- build time:Thu Nov 21 2019 08:41:57 GMT+0000 (Coordinated Universal Time) --><p>在Hexo博客个性化定制中，加入豆瓣读书界面是一个很不错的功能，<a href="https://hasaik.com/books/">可以进入我的个人阅读界面查看效果</a>，那么我是怎么做到的呢？其实很简单，我们只需要加入一个 <code>hexo-douban</code> 模块即可。</p><p><a href="https://github.com/mythsman/hexo-douban" class="LinkCard" rel="external nofollow noopener noreferrer" target="_blank">hexo-douban的Github地址</a></p><h1 id="安装模块依赖"><a href="#安装模块依赖" class="headerlink" title="安装模块依赖"></a>安装模块依赖</h1><p>我们使用时可以先安装依赖模块，在GitBash中使用以下命令：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ npm install hexo-douban --save</span><br></pre></td></tr></table></figure></div><h1 id="站点配置文件中添加配置"><a href="#站点配置文件中添加配置" class="headerlink" title="站点配置文件中添加配置"></a>站点配置文件中添加配置</h1><p>然后我们再在Hexo站点根目录配置文件 <code>_config.xml</code> 中的末尾添加如下配置：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">douban:</span><br><span class="line">  user: mythsman</span><br><span class="line">  <span class="built_in">builtin</span>: <span class="literal">false</span></span><br><span class="line">  book:</span><br><span class="line">    title: <span class="string">'This is my book title'</span></span><br><span class="line">    quote: <span class="string">'This is my book quote'</span></span><br><span class="line">  movie:</span><br><span class="line">    title: <span class="string">'This is my movie title'</span></span><br><span class="line">    quote: <span class="string">'This is my movie quote'</span></span><br><span class="line">  game:</span><br><span class="line">    title: <span class="string">'This is my game title'</span></span><br><span class="line">    quote: <span class="string">'This is my game quote'</span></span><br><span class="line">  timeout: 10000</span><br></pre></td></tr></table></figure></div><p>上面参数说明：</p><ul><li>user: 你的豆瓣ID.打开豆瓣，登入账户，然后在右上角点击 “个人主页” ，这时候地址栏的URL大概是这样：”<a href="https://www.douban.com/people/xxxxxx/“" rel="external nofollow noopener noreferrer" target="_blank">https://www.douban.com/people/xxxxxx/“</a> ，其中的”xxxxxx”就是你的个人ID了。</li><li>builtin: 是否将生成页面的功能嵌入hexo s和hexo g中，默认是false,另一可选项为true(1.x.x版本新增配置项)。</li><li>title: 该页面的标题.</li><li>quote: 写在页面开头的一段话,支持html语法.</li><li>timeout: 爬取数据的超时时间，默认是 10000ms ,如果在使用时发现报了超时的错(ETIMEOUT)可以把这个数据设置的大一点。</li></ul><p>由于 <code>hexo-douban</code> 是默认抓取豆瓣读书、豆瓣电影以及豆瓣游戏的，如果只想要其中一部分，可以把其它部分在上述配置文件中去掉即可。</p><h1 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h1><p>那么我们如何去使用这个呢？</p><p>我们只需要在 <code>GitBash</code> 中输入以下命令：<code>hexo clean &amp;&amp; hexo douban -bgm &amp;&amp; hexo g &amp;&amp; hexo s</code> 即可，注意其中开启hexo-douban的命令中，<code>-bgm</code> 代表的是book、game、movie三个参数，如果只需要其中的一部分就只带你想要的那些参数。</p><div class="note danger"><p>另外注意的是，由于 <code>hexo douban</code> 的简写也是 <code>hexo d</code> ，与 <code>hexo deploy</code> 的简写指令 <code>hexo d</code> 冲突，因此在进行二者部署的时候，只能都打全名而不能打简写形式。</p></div><h1 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h1><p>上面都没问题之后，我们只需要在站点目录下测试 <code>http://localhost:4000/books</code> 或者 <code>http://localhost:4000/movies</code> 等，如果看到页面了就说明成功了。</p><h1 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h1><p>如果上述都没有问题，我们就可以在菜单栏中添加按钮了，打开主题配置文件 <code>_config.xml</code> ，找到菜单按钮，可以选择性的添加下面内容：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: /</span><br><span class="line">  archives: /archives</span><br><span class="line">  books: /books     <span class="comment"># 这是链接到books页面</span></span><br><span class="line">  movies: /movies   <span class="comment">#  这是链接到movies页面</span></span><br><span class="line">  games: /games   <span class="comment"># 这是链接到games页面</span></span><br></pre></td></tr></table></figure></div><p>注意添加完成之后按钮并不是中文的，这是由于在 <code>languages</code> 文件夹下面的 <code>zh-CN</code>（中文语言配置文件）没有添加上述对应的中文参数信息，所以我们需要主动添加。</p><p>语言文件夹在你的主题配置文件夹下面，比如我的是使用的next主题，则是在 <code>E:\blog\hexo\themes\next\languages</code> 目录下，找到 <code>zh-CN</code> 文件，在menu菜单下添加：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">  books: 阅读</span><br><span class="line">  movies: 电影</span><br><span class="line">  games: 游戏</span><br></pre></td></tr></table></figure></div><p>即可完成中文化自定义菜单。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Hexo</category>
        <category>豆瓣</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo博客+Next主题进阶写作技巧</title>
    <url>/posts/c7631ec1.html</url>
    <content><![CDATA[<!-- build time:Thu Nov 21 2019 08:41:57 GMT+0000 (Coordinated Universal Time) --><div class="note warning">以下博客写作都是基于Next主题，其它主题不一定集成了以下写作方式。</div><h1 id="note标签的官方文档使用"><a href="#note标签的官方文档使用" class="headerlink" title="note标签的官方文档使用"></a>note标签的官方文档使用</h1><p>首先我们需要在 <code>Next</code> 主题 <code>_config.xml</code> 中设置一下功能开关，有些默认是开的，有些默认是关的：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">note:</span><br><span class="line">  <span class="comment"># Note tag style values:</span></span><br><span class="line">  <span class="comment">#  - simple    bs-callout old alert style. Default.</span></span><br><span class="line">  <span class="comment">#  - modern    bs-callout new (v2-v3) alert style.</span></span><br><span class="line">  <span class="comment">#  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span></span><br><span class="line">  <span class="comment">#  - disabled  disable all CSS styles import of note tag.</span></span><br><span class="line">  style: simple</span><br><span class="line">  icons: <span class="literal">false</span></span><br><span class="line">  border_radius: 3</span><br><span class="line">  <span class="comment"># Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span></span><br><span class="line">  <span class="comment"># Offset also applied to label tag variables. This option can work with disabled note tag.</span></span><br><span class="line">  light_bg_offset: 0</span><br></pre></td></tr></table></figure></div><p>note写作方式正如我最上面的样式，我们可以这样使用：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% note [class] [no-icon] %&#125;</span><br><span class="line">这里写你需要写的内容</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">// 注意上面的class和no-icon属性是可以选择的</span><br><span class="line">[class]   : default | primary | success | info | warning | danger.</span><br><span class="line">[no-icon] : Disable icon <span class="keyword">in</span> note.</span><br></pre></td></tr></table></figure></div><h2 id="爬坑"><a href="#爬坑" class="headerlink" title="爬坑"></a>爬坑</h2><div class="note danger"><p>标签开头和结尾在一行的写法是错误的</p></div><p>比如，如果你这样写是错误的：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% note danger %&#125;note text, note text, note text&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></div><p>或者如果这样写也是错误的：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% note danger %&#125;note text</span><br><span class="line">note text</span><br><span class="line">note text</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></div><p>内容必须要跟note标签不在一行：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% note danger %&#125;</span><br><span class="line">note text, note text, note text</span><br><span class="line">note text, note text, note text</span><br><span class="line">note text, note text, note text</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></div><h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><p>1、没有定义样式类别</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% note %&#125;</span><br><span class="line">(没有定义样式类别)</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></div><div class="note"><p>(没有定义样式类别)</p></div><p>2、默认的类别</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% note default %&#125;</span><br><span class="line">默认形式的类别</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></div><div class="note default"><p>默认形式的类别</p></div><p>3、primary形式的类别</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% note primary %&#125;</span><br><span class="line">首要类型形式</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></div><div class="note primary"><p>首要类型形式</p></div><p>4、info形式的类别</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% note info %&#125;</span><br><span class="line">info形式的类别</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></div><div class="note info"><p>info形式的类别</p></div><p>5、success形式的类别</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% note success %&#125;</span><br><span class="line">success形式的类别</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></div><div class="note success"><p>success形式的类别</p></div><p>6、warning形式的类别</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% note warning %&#125;</span><br><span class="line">warning形式的类别</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></div><div class="note warning"><p>warning形式的类别</p></div><p>7、danger形式的类别</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% note danger %&#125;</span><br><span class="line">danger形式的类别</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></div><div class="note danger"><p>danger形式的类别</p></div><p>8、无图标形式的note标签</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% note info no-icon %&#125;</span><br><span class="line">没有图标的note标签</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></div><div class="note info no-icon"><p>没有图标的note标签</p></div><p>9、note标签中插入有序无序列表</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% note default no-icon %&#125;</span><br><span class="line">在note中放入无序、有序列表</span><br><span class="line">* ul</span><br><span class="line">* ul</span><br><span class="line">* ul</span><br><span class="line"></span><br><span class="line">1. ol</span><br><span class="line">2. ol</span><br><span class="line">3. ol</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></div><div class="note default no-icon"><p>在note中放入无序、有序列表</p><ul><li>ul</li><li>ul</li><li>ul</li></ul><ol><li>ol</li><li>ol</li><li>ol</li></ol></div><p>11、note标签中插入表格</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% note default no-icon %&#125;</span><br><span class="line">| 1 | 2 |</span><br><span class="line">| - | - |</span><br><span class="line">| 3 | 4 |</span><br><span class="line">| 5 | 6 |</span><br><span class="line">| 7 | 8 |</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></div><div class="note default no-icon"><table><thead><tr><th>1</th><th>2</th></tr></thead><tbody><tr><td>3</td><td>4</td></tr><tr><td>5</td><td>6</td></tr><tr><td>7</td><td>8</td></tr></tbody></table></div><h1 id="note标签的html使用"><a href="#note标签的html使用" class="headerlink" title="note标签的html使用"></a>note标签的html使用</h1><p>在主题配置文件 <code>_config.yml</code> 里有一个关于这个的配置，但官方文档没有提供 HTML 的使用方式，个人认为这种方式更简单，也不会产生一些奇怪的显示 bugs……</p><div class="note default">default</div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">"note default"</span>&gt;default&lt;/div&gt;</span><br></pre></td></tr></table></figure></div><div class="note primary">primary</div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">"note primary"</span>&gt;primary&lt;/div&gt;</span><br></pre></td></tr></table></figure></div><div class="note success">success</div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">"note success"</span>&gt;success&lt;/div&gt;</span><br></pre></td></tr></table></figure></div><div class="note info">info</div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">"note info"</span>&gt;info&lt;/div&gt;</span><br></pre></td></tr></table></figure></div><div class="note warning">warning</div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">"note warning"</span>&gt;warning&lt;/div&gt;</span><br></pre></td></tr></table></figure></div><div class="note danger">danger</div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">"note danger"</span>&gt;danger&lt;/div&gt;</span><br></pre></td></tr></table></figure></div><div class="note danger no-icon">danger no-icon</div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">"note danger no-icon"</span>&gt;danger no-icon&lt;/p&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure></div><h1 id="主题自带FontAwesome图标"><a href="#主题自带FontAwesome图标" class="headerlink" title="主题自带FontAwesome图标"></a>主题自带FontAwesome图标</h1><p>效果：</p><ol><li><i class="fa fa-pencil"></i>支持 Markdown</li></ol><p>Hexo 支持 GitHub Flavored Markdown 的所有功能，甚至可以整合 Octopress 的大多数插件。</p><ol start="2"><li><i class="fa fa-cloud-upload"></i>一件部署</li></ol><p>只需一条指令即可部署到 GitHub Pages，或其他网站。</p><ol start="3"><li><i class="fa fa-cog"></i>丰富的插件</li></ol><p>Hexo 拥有强大的插件系统，安装插件可以让 Hexo 支持 Jade，CoffeeScript。</p><p>源码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">1. &lt;i class=<span class="string">"fa fa-pencil"</span>&gt;&lt;/i&gt; 支持 Markdown</span><br><span class="line">   &lt;i&gt;Hexo 支持 GitHub Flavored Markdown 的所有功能，甚至可以整合 Octopress 的大多数插件。&lt;/i&gt;</span><br><span class="line">2. &lt;i class=<span class="string">"fa fa-cloud-upload"</span>&gt;&lt;/i&gt; 一件部署</span><br><span class="line">   &lt;i&gt;只需一条指令即可部署到 GitHub Pages，或其他网站。&lt;/i&gt;</span><br><span class="line">3. &lt;i class=<span class="string">"fa fa-cog"</span>&gt;&lt;/i&gt; 丰富的插件</span><br><span class="line">   &lt;i&gt;Hexo 拥有强大的插件系统，安装插件可以让 Hexo 支持 Jade，CoffeeScript。&lt;/i&gt;</span><br><span class="line">   采用的是 Font Awesome 的图标，下面给出一些简单的使用例子，更多请查看官网的使用示例。</span><br></pre></td></tr></table></figure></div><p>采用的是 <a href="https://fontawesome.com/v4.7.0/" rel="external nofollow noopener noreferrer" target="_blank">Font Awesome</a> 的图标，下面给出一些简单的使用例子，更多请查看官网的<a href="https://fontawesome.com/v4.7.0/examples/" rel="external nofollow noopener noreferrer" target="_blank">使用示例</a>。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">- &lt;i class=<span class="string">"fa fa-pencil"</span>&gt;&lt;/i&gt; 铅笔</span><br><span class="line">- &lt;i class=<span class="string">"fa fa-cloud-upload"</span>&gt;&lt;/i&gt; 上传</span><br><span class="line">- &lt;i class=<span class="string">"fa fa-download"</span>&gt;&lt;/i&gt; 下载</span><br></pre></td></tr></table></figure></div><ul><li><i class="fa fa-pencil"></i> 铅笔</li><li><i class="fa fa-cloud-upload"></i> 上传</li><li><i class="fa fa-download"></i> 下载</li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">- &lt;i class=<span class="string">"fa fa-download"</span>&gt;&lt;/i&gt; 下载</span><br><span class="line">- &lt;i class=<span class="string">"fa fa-download fa-lg"</span>&gt;&lt;/i&gt; 下载变大 33%</span><br><span class="line">- &lt;i class=<span class="string">"fa fa-download fa-2x"</span>&gt;&lt;/i&gt; 下载两倍大</span><br></pre></td></tr></table></figure></div><ul><li><i class="fa fa-download"></i> 下载</li><li><i class="fa fa-download fa-lg"></i> 下载变大 33%</li><li><i class="fa fa-download fa-2x"></i> 下载两倍大</li></ul><h1 id="代码块内部样式高亮"><a href="#代码块内部样式高亮" class="headerlink" title="代码块内部样式高亮"></a>代码块内部样式高亮</h1><p>Next主题其实是自带代码块高亮显示的，但是有另外一种好玩的代码块高亮写法，叫 <code>diff</code> 语言</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">highlight:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  line_number: <span class="literal">true</span></span><br><span class="line"><span class="comment"># 代码自动高亮</span></span><br><span class="line">-  auto_detect: <span class="literal">false</span></span><br><span class="line">+  auto_detect: <span class="literal">true</span></span><br></pre></td></tr></table></figure></div><p>只需要在 markdown 语法代码块的语言选择处写上 <code>diff</code> 即可，然后在相应代码前面加上 <code>-</code> 和 <code>+</code> 就行了。不过默认的 <code>-</code> 是绿色，<code>+</code> 是红色，与 GitHub 上相反，也可以自己修改成 Github 上样式。</p><p>文件位置：themes/next/source/css/_custom/custom.styl</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">// 文章```代码块diff样式</span><br><span class="line">pre .addition &#123;</span><br><span class="line">    background: <span class="comment">#e6ffed;</span></span><br><span class="line">&#125;</span><br><span class="line">pre .deletion &#123;</span><br><span class="line">    background: <span class="comment">#ffeef0;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>当然，要是你不满意顶部的文字样式，也可以自己在 <code>custom.styl</code> 自定义：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">// 文章```代码块顶部样式</span><br><span class="line">.highlight figcaption &#123;</span><br><span class="line">    margin: 0em;</span><br><span class="line">    padding: 0.5em;</span><br><span class="line">    background: <span class="comment">#eee;</span></span><br><span class="line">    border-bottom: 1px solid <span class="comment">#e9e9e9;</span></span><br><span class="line">&#125;</span><br><span class="line">.highlight figcaption a &#123;</span><br><span class="line">    color: rgb(80, 115, 184);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h1 id="文本居中引用"><a href="#文本居中引用" class="headerlink" title="文本居中引用"></a>文本居中引用</h1><p>效果：</p><blockquote class="blockquote-center"><p>人生乃是一面镜子，<br>从镜子里认识自己，<br>我要称之为头等大事，<br>也只是我们追求的目的！</p></blockquote><p>源码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% cq %&#125;</span><br><span class="line">人生乃是一面镜子，</span><br><span class="line">从镜子里认识自己，</span><br><span class="line">我要称之为头等大事，</span><br><span class="line">也只是我们追求的目的！</span><br><span class="line">&#123;% endcq %&#125;</span><br></pre></td></tr></table></figure></div><h1 id="主题自带label标签"><a href="#主题自带label标签" class="headerlink" title="主题自带label标签"></a>主题自带label标签</h1><p>首先需要在Next主题 <code>_config.xml</code> 中配置：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Label tag.</span></span><br><span class="line">label: <span class="literal">true</span></span><br></pre></td></tr></table></figure></div><p>然后效果如下（@ 前面的是 <code>label</code> 的名字，后面的是要显示的文字）：</p><ul><li><span class="label default">default</span></li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% label default@default %&#125;</span><br></pre></td></tr></table></figure></div><ul><li><span class="label primary">primary</span></li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% label primary@primary %&#125;</span><br></pre></td></tr></table></figure></div><ul><li><span class="label success">success</span></li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% label success@success %&#125;</span><br></pre></td></tr></table></figure></div><ul><li><span class="label info">info</span></li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% label info@info %&#125;</span><br></pre></td></tr></table></figure></div><ul><li><span class="label warning">warning</span></li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% label warning@warning %&#125;</span><br></pre></td></tr></table></figure></div><ul><li><span class="label danger">danger</span></li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% label danger@danger %&#125;</span><br></pre></td></tr></table></figure></div><div class="note warning"><p>注意这个有一个BUG，千万不要把这个放到段首。。。</p></div><h1 id="主题自带tabs标签"><a href="#主题自带tabs标签" class="headerlink" title="主题自带tabs标签"></a>主题自带tabs标签</h1><div class="tabs" id="选项卡"><ul class="nav-tabs"><li class="tab active"><a href="#选项卡-1">选项卡 1</a></li><li class="tab"><a href="#选项卡-2">选项卡 2</a></li><li class="tab"><a href="#选项卡-3">选项卡 3</a></li></ul><div class="tab-content"><div class="tab-pane active" id="选项卡-1"><p><strong>这是选项卡 1</strong> 哈哈哈 φ(≧ω≦*)♪～</p></div><div class="tab-pane" id="选项卡-2"><p><strong>这是选项卡 2</strong> 嘿嘿嘿 φ(≧ω≦*)♪～</p></div><div class="tab-pane" id="选项卡-3"><p><strong>这是选项卡 3</strong> 嘻嘻嘻 φ(≧ω≦*)♪～</p></div></div></div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% tabs 选项卡, 1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**这是选项卡 1** 哈哈哈 φ(≧ω≦*)♪～</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**这是选项卡 2** 嘿嘿嘿 φ(≧ω≦*)♪～</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**这是选项卡 3** 嘻嘻嘻 φ(≧ω≦*)♪～</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure></div><p>首先还是需要在Next主题配置文件中配置：</p><p>文件位置：~/hexo/themes/next/_config.yml</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Tabs tag.</span></span><br><span class="line">tabs:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  transition:</span><br><span class="line">    tabs: <span class="literal">false</span></span><br><span class="line">    labels: <span class="literal">true</span></span><br><span class="line">  border_radius: 0</span><br></pre></td></tr></table></figure></div><p>然后上面源码中 <code>, 1</code> 表示一开始在第一个选项卡，非必须，若数值为 <code>-1</code> 则隐藏选项卡内容。更多用法请查看<a href="https://almostover.ru/2016-01/hexo-theme-next-test/#Tab-tag-test" rel="external nofollow noopener noreferrer" target="_blank">这个页面</a>。</p><h1 id="主题自带样式按钮"><a href="#主题自带样式按钮" class="headerlink" title="主题自带样式按钮"></a>主题自带样式按钮</h1><p>效果：</p><a class="btn" href="https://www.baidu.com" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-download fa-lg fa-fw"></i>点击下载百度</a><p>源码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% btn https://www.baidu.com, 点击下载百度, download fa-lg fa-fw %&#125;</span><br></pre></td></tr></table></figure></div><p>关于按钮的更多使用可以前往<a href="https://almostover.ru/2016-01/hexo-theme-next-test/#Button-tag-test" rel="external nofollow noopener noreferrer" target="_blank">这个页面</a>查看。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo博客界面美化</title>
    <url>/posts/dff7e11c.html</url>
    <content><![CDATA[<!-- build time:Thu Nov 21 2019 08:41:57 GMT+0000 (Coordinated Universal Time) --><div class="note warning">注意：本样式美化方式只适用于 Next 主题，并且最好懂一些 CSS 前端知识，以便有些不兼容样式部分可以自行在浏览器中 F12 调试。</div><p><a href="https://github.com/iissnan/hexo-theme-next" class="LinkCard" rel="external nofollow noopener noreferrer" target="_blank">Next5主题的Github地址</a></p><p>我的个人博客样式都是基于 Next5 主题的，如果你用的是 Next6 主题，那么会有一部分样式不是很兼容， 需要自己在浏览器中定位该样式并做一些调整。</p><p>修改的话就找到next主题目录下的 <code>next\source\css\_custom\custom.styl</code> ，这个文件是Next主题预留给用户自定义修改css样式的文件，所以我们绝大多数全局样式都在这里进行修改即可。</p><p>以下附上我的 <code>custom.styl</code> 文件内容供大家参考，注意出现问题一定要在浏览器中调试修改！</p><p>文件位置：hexo/themes/next/source/css/_custom/custom.styl</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">// Custom styles.</span><br><span class="line">// 自定义的侧栏时间样式</span><br><span class="line"><span class="comment">#days &#123;</span></span><br><span class="line">  display: block;</span><br><span class="line">  color: rgb(7, 179, 155);</span><br><span class="line">  font-size: 13px;</span><br><span class="line">  //margin-top: 15px;</span><br><span class="line">  //margin-left: 35px;</span><br><span class="line">  //margin-bottom: 15px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*菜单*/</span><br><span class="line">.menu-item:hover &#123;</span><br><span class="line">  transform: scale(1.1);</span><br><span class="line">  box-shadow: 10px 10px 15px 2px rgba(0, 0, 0, .12), 0 0 6px 0 rgba(104, 104, 105, 0.1);</span><br><span class="line">  //border-radius: 3px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*近期文章*/</span><br><span class="line">.my-links-of-blogroll-li:hover &#123;</span><br><span class="line">  transform: scale(1.1);</span><br><span class="line">  box-shadow: 10px 10px 15px 2px rgba(0, 0, 0, .12), 0 0 6px 0 rgba(104, 104, 105, 0.1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 排行榜 */</span><br><span class="line">.my-article-top:hover &#123;</span><br><span class="line">  transform: scale(1.1);</span><br><span class="line">  box-shadow: 10px 10px 15px 2px rgba(0, 0, 0, .12), 0 0 6px 0 rgba(104, 104, 105, 0.1);</span><br><span class="line">  border-radius: 30px;</span><br><span class="line">  width: 580px;</span><br><span class="line">  padding: 5px 10px;</span><br><span class="line">  transition-duration: 0.15s;</span><br><span class="line">  +<span class="function"><span class="title">mobile</span></span>() &#123;</span><br><span class="line">    width: 315px;</span><br><span class="line">    //display: block;//不换行</span><br><span class="line">    //margin-left: 18px;</span><br><span class="line">  &#125;</span><br><span class="line">  //display:flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*归档页样式优化 began*/</span><br><span class="line">.page-archive .archive-page-counter &#123;</span><br><span class="line">  font-size: 18px;</span><br><span class="line">  background-color: <span class="comment">#49b1f5;</span></span><br><span class="line">  padding-left: 10px;</span><br><span class="line">  padding-right: 10px;</span><br><span class="line">  border-radius: 8px;</span><br><span class="line">  color: <span class="comment">#fff;</span></span><br><span class="line">  +<span class="function"><span class="title">mobile</span></span>() &#123;</span><br><span class="line">    font-size: 16px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.my-post-time &#123;</span><br><span class="line">  font-size: 11px;</span><br><span class="line">  position: absolute;</span><br><span class="line">  color: <span class="comment">#fff;</span></span><br><span class="line">  background-color: <span class="comment">#49b1f5;</span></span><br><span class="line">  border-radius: 5px;</span><br><span class="line">  padding-left: 5px;</span><br><span class="line">  padding-right: 5px;</span><br><span class="line">  margin-left: 15px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.mypost &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  margin-bottom: 1rem;</span><br><span class="line">  -webkit-transition: all .2s ease-in-out;</span><br><span class="line">  -moz-transition: all .2s ease-in-out;</span><br><span class="line">  -o-transition: all .2s ease-in-out;</span><br><span class="line">  -ms-transition: all .2s ease-in-out;</span><br><span class="line">  transition: all .2s ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a.my-post-title-link:before &#123;</span><br><span class="line">  top: 10px;</span><br><span class="line">  width: 18px;</span><br><span class="line">  height: 18px;</span><br><span class="line">  content: <span class="string">"📚"</span>;</span><br><span class="line">  margin-right: 5px;</span><br><span class="line">  font: normal normal normal 14px / 1 FontAwesome;</span><br><span class="line">  font-size: 15px;</span><br><span class="line">  line-height: 18px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.my-post:hover &#123;</span><br><span class="line">  transform: scale(1.1);</span><br><span class="line">  box-shadow: 10px 10px 15px 2px rgba(0, 0, 0, .12), 0 0 6px 0 rgba(104, 104, 105, 0.1);</span><br><span class="line">  border-radius: 30px;</span><br><span class="line">  width: 550px;</span><br><span class="line">  padding: 1px 10px;</span><br><span class="line">  margin-left: 25px;</span><br><span class="line">  font-size: 16px;</span><br><span class="line">  transition-duration: 0.15s;</span><br><span class="line">  +<span class="function"><span class="title">mobile</span></span>() &#123;</span><br><span class="line">    width: 260px;</span><br><span class="line">    margin-left: 18px;</span><br><span class="line">  &#125;</span><br><span class="line">  //display:flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a.my-post-title-link &#123;</span><br><span class="line">  text-decoration: none;</span><br><span class="line">  font-size: 15px;</span><br><span class="line">  font-weight: 400;</span><br><span class="line">  +<span class="function"><span class="title">mobile</span></span>() &#123;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.my-post-title &#123;</span><br><span class="line">  display: block;</span><br><span class="line">  margin-left: 4.5rem;</span><br><span class="line">  color: <span class="comment">#4c4948;</span></span><br><span class="line">  text-decoration: none;</span><br><span class="line">  font-size: .8rem;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">  +<span class="function"><span class="title">mobile</span></span>() &#123;</span><br><span class="line">    //margin-left: 4rem;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.my-post-header &#123;</span><br><span class="line">  position: top;</span><br><span class="line">  margin-bottom: 1rem;</span><br><span class="line">  -webkit-transition: all .2s ease-in-out;</span><br><span class="line">  -moz-transition: all .2s ease-in-out;</span><br><span class="line">  -o-transition: all .2s ease-in-out;</span><br><span class="line">  -ms-transition: all .2s ease-in-out;</span><br><span class="line">  transition: all .2s ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//.my-post-title-link&#123;</span><br><span class="line">//  font-size: 16px;</span><br><span class="line">//  font-weight: 500;</span><br><span class="line">//&#125;</span><br><span class="line">.my-post-meta &#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  color: <span class="comment">#99a9bf;</span></span><br><span class="line">  width: 80px;</span><br><span class="line">  color: <span class="comment">#114142;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div.post-block.tag .collection-title h2 &#123;</span><br><span class="line">  border-width: 1px;</span><br><span class="line">  border-style: solid;</span><br><span class="line">  border-color: <span class="comment">#3f3f3f;</span></span><br><span class="line">  border-radius: 20px;</span><br><span class="line">  font-size: 22px;</span><br><span class="line">  background-color: <span class="comment">#b4e8fa;</span></span><br><span class="line">  padding: 2px 15px;</span><br><span class="line">  letter-spacing: 1.5px;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line">  color: <span class="comment">#3f3f3f;</span></span><br><span class="line">  display: inline-block;</span><br><span class="line">  margin: 10px 0 10px;</span><br><span class="line">  text-align: center;</span><br><span class="line">  +<span class="function"><span class="title">mobile</span></span>() &#123;</span><br><span class="line">    font-size: 18px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.category-list-link:hover &#123;</span><br><span class="line">  transform: scale(1.1);</span><br><span class="line">  box-shadow: 10px 10px 15px 2px rgba(0, 0, 0, .12), 0 0 6px 0 rgba(104, 104, 105, 0.1);</span><br><span class="line">  border-radius: 8px;</span><br><span class="line">  padding: 1px 1px;</span><br><span class="line">  margin-left: 5px;</span><br><span class="line">  font-size: 16px;</span><br><span class="line">  transition-duration: 0.15s;</span><br><span class="line">  //display:flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*归档页样式优化 end */</span><br><span class="line"></span><br><span class="line">.main &#123;</span><br><span class="line">  padding-bottom: 150px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//hexo next主题下，自动更换背景图片 began</span><br><span class="line">// 图片来源https://source.unsplash.com/</span><br><span class="line">body &#123;</span><br><span class="line">  //background: url(https://source.unsplash.com/random/1920x1080);</span><br><span class="line">  background-image: url(/images/bg1.jpeg);</span><br><span class="line">  background-repeat: no-repeat;</span><br><span class="line">  background-attachment: fixed;</span><br><span class="line">  background-position: 50% 50%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//hexo next主题下，自动更换背景图片 end</span><br><span class="line"></span><br><span class="line">/*评论数*/</span><br><span class="line">.posts-expand .post-comments-count &#123;</span><br><span class="line">  display: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*鼠标样式*/</span><br><span class="line">* &#123;</span><br><span class="line">  cursor: url(/images/default.cur), auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">:active &#123;</span><br><span class="line">  //cursor: url(/images/pointer.cur),auto</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">:link &#123;</span><br><span class="line">  cursor: url(/images/pointer.cur), auto</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*文章底部评分相关*/</span><br><span class="line">.post-widgets &#123;</span><br><span class="line">  //padding-top: 9px;</span><br><span class="line">  margin-bottom: 45px;</span><br><span class="line">  margin-top: 30px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*文章底部标签样式*/</span><br><span class="line">.posts-expand .post-tags a &#123;</span><br><span class="line">  -webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, .12), 0 1px 2px rgba(0, 0, 0, .24);</span><br><span class="line">  -moz-box-shadow: 0 1px 3px rgba(0, 0, 0, .12), 0 1px 2px rgba(0, 0, 0, .24);</span><br><span class="line">  box-shadow: 0 1px 3px rgba(0, 0, 0, .12), 0 1px 2px rgba(0, 0, 0, .24);</span><br><span class="line">  font-family: <span class="string">'Comic Sans MS'</span>, sans-serif;</span><br><span class="line">  transition: .2s ease-out;</span><br><span class="line">  padding: 3px 5px;</span><br><span class="line">  margin: 5px;</span><br><span class="line">  background: <span class="comment">#f5f5f5;</span></span><br><span class="line">  border-bottom: none;</span><br><span class="line">  border-radius: 15px;</span><br><span class="line"></span><br><span class="line">  +<span class="function"><span class="title">mobile</span></span>() &#123;</span><br><span class="line">    padding: 1px 3px;</span><br><span class="line">    font-size: 8px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    background: rgba(100, 154, 182, 0.902);</span><br><span class="line">    color: <span class="comment">#fff;</span></span><br><span class="line">    -webkit-box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);</span><br><span class="line">    -moz-box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);</span><br><span class="line">    box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// pc主页文章添加阴影效果</span><br><span class="line">.post &#123;</span><br><span class="line">  margin-top: 0px;</span><br><span class="line">  margin-bottom: 50px;</span><br><span class="line">  padding: 25px;</span><br><span class="line">  -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);</span><br><span class="line">  -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 1~4级标题设置 */</span><br><span class="line">h1,</span><br><span class="line">h2,</span><br><span class="line">h3,</span><br><span class="line">h4,</span><br><span class="line">strong &#123;</span><br><span class="line">  font-weight: 600;</span><br><span class="line">  color: <span class="comment">#2c3e50;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">blockquote &#123; // PC端&gt;符号表示的内容样式</span><br><span class="line">  font-size: 15px;</span><br><span class="line">  //background: <span class="comment">#e8f7ef;</span></span><br><span class="line">  //border-left-color: <span class="comment">#42b983;</span></span><br><span class="line">  background: <span class="comment">#d9efdc5e;</span></span><br><span class="line">  border-left-color: <span class="comment">#0fc530 85;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.tip, blockquote &#123;</span><br><span class="line">  padding: 12px 24px 12px 30px;</span><br><span class="line">  margin: 1em 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">p &#123;</span><br><span class="line">  margin: 10px 0 10px 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*文章页*/</span><br><span class="line">.posts-expand &#123;</span><br><span class="line">  margin: 0 1px;</span><br><span class="line">  padding-top: 0px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.posts-expand .post-body p &#123;</span><br><span class="line">  font-size: 16px;</span><br><span class="line">  letter-spacing: 1px;</span><br><span class="line">  margin: 3px 0;</span><br><span class="line">  padding-bottom: 4px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 一到六级标题设置 */</span><br><span class="line">.posts-expand .post-body h1,</span><br><span class="line">.posts-expand .post-body h2,</span><br><span class="line">.posts-expand .post-body h3,</span><br><span class="line">.posts-expand .post-body h4,</span><br><span class="line">.posts-expand .post-body h5,</span><br><span class="line">.posts-expand .post-body h6 &#123;</span><br><span class="line">  padding-top: 10px;</span><br><span class="line">  margin-bottom: 10px;</span><br><span class="line">  border-bottom: 1px solid <span class="comment">#eee;</span></span><br><span class="line">  padding-bottom: 10px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*修改h1前面图标*/</span><br><span class="line">.posts-expand .post-body h1:before &#123;</span><br><span class="line">  top: 10px;</span><br><span class="line">  width: 18px;</span><br><span class="line">  height: 18px;</span><br><span class="line">  content: <span class="string">"⛅"</span>;</span><br><span class="line">  font-size: 18px;</span><br><span class="line">  line-height: 18px;</span><br><span class="line">  margin-right: 16px;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*修改h2前面图标*/</span><br><span class="line">.posts-expand .post-body h2:before &#123;</span><br><span class="line">  top: 10px;</span><br><span class="line">  width: 18px;</span><br><span class="line">  height: 18px;</span><br><span class="line">  content: <span class="string">"🌞"</span>;</span><br><span class="line">  font-size: 18px;</span><br><span class="line">  line-height: 18px;</span><br><span class="line">  margin-right: 16px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*修改h3前面图标*/</span><br><span class="line">.posts-expand .post-body h3:before &#123;</span><br><span class="line">  top: 10px;</span><br><span class="line">  width: 18px;</span><br><span class="line">  height: 18px;</span><br><span class="line">  content: <span class="string">"🔍"</span>;</span><br><span class="line">  font-size: 18px;</span><br><span class="line">  line-height: 18px;</span><br><span class="line">  margin-right: 16px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.posts-expand .post-body ul li &#123;</span><br><span class="line">  margin-bottom: 10px;</span><br><span class="line">  //list-style: none;</span><br><span class="line">  list-style: disc;</span><br><span class="line">  color: <span class="comment">#000;</span></span><br><span class="line">  font-size: 15px;</span><br><span class="line">  //list-style: disc;</span><br><span class="line">  //margin-left: 3%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.posts-expand .post-body ul li p &#123;</span><br><span class="line">  //margin-bottom: 10px;</span><br><span class="line">  //border-radius: 6px;</span><br><span class="line">  text-align: left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 有序图标设置 */</span><br><span class="line">ol &#123;</span><br><span class="line">  padding-left: 0;</span><br><span class="line">  font-size: 15px;</span><br><span class="line">  margin-top: .4rem;</span><br><span class="line">  //padding: 0 0 0 .8rem;</span><br><span class="line">  list-style: none;</span><br><span class="line">  counter-reset: ol-li;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.posts-expand .post-body ol li:before &#123;</span><br><span class="line">  display: block;</span><br><span class="line">  <span class="built_in">float</span>: left;</span><br><span class="line">  width: 17px;</span><br><span class="line">  height: 17px;</span><br><span class="line">  line-height: 16px;</span><br><span class="line">  margin: .4rem 12px 0 0;</span><br><span class="line">  color: <span class="comment">#fff;</span></span><br><span class="line">  font-size: 15px;</span><br><span class="line">  font-weight: 500;</span><br><span class="line">  font-style: normal;</span><br><span class="line">  background-color: <span class="comment">#49b1f5;</span></span><br><span class="line">  border-radius: 50%;</span><br><span class="line">  text-align: center;</span><br><span class="line">  content: counter(ol-li);</span><br><span class="line">  counter-increment: ol-li;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//.posts-expand .post-body ul li &#123;</span><br><span class="line">//  margin-bottom: 10px;</span><br><span class="line">//  list-style: none;</span><br><span class="line">//  color: <span class="comment">#000;</span></span><br><span class="line">//&#125;</span><br><span class="line">//</span><br><span class="line">//.posts-expand .post-body ul li:before &#123;</span><br><span class="line">//  display: block;</span><br><span class="line">//  <span class="built_in">float</span>: left;</span><br><span class="line">//  width: 12px;</span><br><span class="line">//  height: 12px;</span><br><span class="line">//  line-height: 28px;</span><br><span class="line">//  margin: .5rem 12px 0 0;</span><br><span class="line">//  color: <span class="comment">#fff;</span></span><br><span class="line">//  font-size: 15px;</span><br><span class="line">//  font-weight: 700;</span><br><span class="line">//  font-style: normal;</span><br><span class="line">//  background-color: <span class="comment">#49b1f5;</span></span><br><span class="line">//  border-radius: 50%;</span><br><span class="line">//  text-align: center;</span><br><span class="line">//  content: <span class="string">""</span>;</span><br><span class="line">//&#125;</span><br><span class="line"></span><br><span class="line">//自定义回到顶部样式</span><br><span class="line">.back-to-top &#123;</span><br><span class="line">  //right: 60px;</span><br><span class="line">  width: 70px; //图片素材宽度</span><br><span class="line">  height: 900px; //图片素材高度</span><br><span class="line">  top: -900px;</span><br><span class="line">  bottom: <span class="built_in">unset</span>;</span><br><span class="line">  transition: all .5s ease-in-out;</span><br><span class="line">  background: url(<span class="string">"/images/scroll.png"</span>);</span><br><span class="line">  //隐藏箭头图标</span><br><span class="line"></span><br><span class="line">  &gt; i &#123;</span><br><span class="line">    display: none;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;.back-to-top-on &#123;</span><br><span class="line">    bottom: <span class="built_in">unset</span>;</span><br><span class="line">    top: 100vh &lt; (900px + 200px) ? calc(100vh - 900px - 200px):0px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//代码块复制按钮</span><br><span class="line">.highlight &#123;</span><br><span class="line">  //方便copy代码按钮（btn-copy）的定位</span><br><span class="line">  //position: relative;</span><br><span class="line">  position: static;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">highlight-wrap &#123;</span><br><span class="line">  background: <span class="comment">#008b89;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.btn-copy &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">  background-color: <span class="comment">#eee;</span></span><br><span class="line">  background-image: linear-gradient(<span class="comment">#fcfcfc, #eee);</span></span><br><span class="line">  border: 1px solid <span class="comment">#d5d5d5;</span></span><br><span class="line">  border-radius: 3px;</span><br><span class="line">  -webkit-user-select: none;</span><br><span class="line">  -moz-user-select: none;</span><br><span class="line">  -ms-user-select: none;</span><br><span class="line">  user-select: none;</span><br><span class="line">  -webkit-appearance: none;</span><br><span class="line">  font-size: 13px;</span><br><span class="line">  font-weight: 700;</span><br><span class="line">  line-height: 20px;</span><br><span class="line">  color: <span class="comment">#333;</span></span><br><span class="line">  -webkit-transition: opacity .3s ease-in-out;</span><br><span class="line">  -o-transition: opacity .3s ease-in-out;</span><br><span class="line">  transition: opacity .3s ease-in-out;</span><br><span class="line">  padding: 2px 6px;</span><br><span class="line">  position: absolute;</span><br><span class="line">  right: 5px;</span><br><span class="line">  top: 5px;</span><br><span class="line">  opacity: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.btn-copy span &#123;</span><br><span class="line">  margin-left: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.highlight:hover .btn-copy &#123;</span><br><span class="line">  opacity: 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//pc端</span><br><span class="line">.<span class="built_in">read</span>-over &#123; //本文阅读结束</span><br><span class="line">  text-align: center;</span><br><span class="line">  margin-top: 20px;</span><br><span class="line">  color: <span class="comment">#ea103d91;</span></span><br><span class="line">  font-size: 18px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.share_reward &#123; //pc打赏</span><br><span class="line">  margin: 10px auto;</span><br><span class="line">  width: 90%;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#rewardButton &#123; //打赏</span></span><br><span class="line">  margin: 15px auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 代码块样式 Custom styles.</span><br><span class="line">//code &#123;</span><br><span class="line">//  color: <span class="comment">#ff7600;</span></span><br><span class="line">//  background: <span class="comment">#fbf7f8;</span></span><br><span class="line">//  margin: 2px;</span><br><span class="line">//&#125;</span><br><span class="line">//行内代码样式</span><br><span class="line"></span><br><span class="line">code &#123;</span><br><span class="line">  color: <span class="comment">#c7254e;</span></span><br><span class="line">  background: <span class="comment">#f9f2f4;</span></span><br><span class="line">  border: 1px solid <span class="comment">#d6d6d6;</span></span><br><span class="line">  padding: 1px 4px;</span><br><span class="line">  word-break: <span class="built_in">break</span>-all;</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 大代码块的自定义样式</span><br><span class="line"></span><br><span class="line">.highlight, pre &#123;</span><br><span class="line">  margin: 0px 0;</span><br><span class="line">  //padding: 5px;</span><br><span class="line">  border-radius: 0px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.highlight, pre &#123;</span><br><span class="line">  border: 1px solid <span class="comment">#21252b;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.post-body &#123;</span><br><span class="line">  color: <span class="comment">#000;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.post-body .note &#123; //提示条</span><br><span class="line">  font-size: 15px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*文章标题字体*/</span><br><span class="line"></span><br><span class="line">.posts-expand .post-title &#123;</span><br><span class="line">  font-size: 26px;</span><br><span class="line">  letter-spacing: 1px;</span><br><span class="line">  font-weight: 700;</span><br><span class="line">  text-align: center;</span><br><span class="line">  +<span class="function"><span class="title">mobile</span></span>() &#123;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">    //margin: 10px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*文章标题动态效果*/</span><br><span class="line"></span><br><span class="line">.posts-expand .post-title-link::before &#123;</span><br><span class="line">  background-image: linear-gradient(90deg, <span class="comment">#a166ab 0%, #ef4e7b 25%, #f37055 50%, #ef4e7b 75%, #a166ab 100%);</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*文章大标题*/</span><br><span class="line"></span><br><span class="line">.posts-expand .post-title-link:hover &#123;</span><br><span class="line">  transform: scale(1.1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.posts-expand .post-meta &#123;</span><br><span class="line">  //margin: 3px 0 20px 0;</span><br><span class="line">  margin-bottom: 20px !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 文章内链接文本样式</span><br><span class="line"></span><br><span class="line">.post-body a &#123;</span><br><span class="line">  color: <span class="comment">#0593d3;</span></span><br><span class="line">  border-bottom: none;</span><br><span class="line">  border-bottom: 1px solid <span class="comment">#0593d3;</span></span><br><span class="line">  //text-decoration: underline  // none || underline || blink || overline || line-through</span><br><span class="line"></span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    color: <span class="comment">#fc6423;</span></span><br><span class="line">    //border-bottom: none;</span><br><span class="line">    //background: white;</span><br><span class="line">    text-decoration: none;</span><br><span class="line">    border-bottom: 1px solid <span class="comment">#fc6423;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//  精品文章 began</span><br><span class="line"></span><br><span class="line">.jingping &#123;</span><br><span class="line">  background: <span class="comment">#00a8c3;</span></span><br><span class="line">  padding: 2px 4px 2px 4px;</span><br><span class="line">  color: <span class="comment">#fff;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//  精品文章 end</span><br><span class="line"></span><br><span class="line">// new ------</span><br><span class="line">//热评文章</span><br><span class="line"></span><br><span class="line">.ds-top-threads li a &#123;</span><br><span class="line">  padding-left: 5px;</span><br><span class="line">  transition: border-width 0.2s linear 0s, color 0.2s linear 0s;</span><br><span class="line">  border-bottom: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.ds-top-threads li a:hover &#123;</span><br><span class="line">  border-left: 8px solid <span class="comment">#4d768c;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*相关文章推荐 pc样式设置*/</span><br><span class="line"></span><br><span class="line">summary &#123;</span><br><span class="line">  outline: 0;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">  margin-top: 15px;</span><br><span class="line">  +<span class="function"><span class="title">mobile</span></span>() &#123; /*手机端*/</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    margin-top: 10px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">details &#123;</span><br><span class="line">  margin-left: 20px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">details .popular-posts &#123;</span><br><span class="line">  +<span class="function"><span class="title">mobile</span></span>() &#123;</span><br><span class="line">    margin: 5px -12px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.popular-posts-header &#123;</span><br><span class="line">  margin-top: 45px;</span><br><span class="line">  font-size: 20px;</span><br><span class="line">  font-weight: 900;</span><br><span class="line">  border-bottom: 1px solid <span class="comment">#eee;</span></span><br><span class="line">  +<span class="function"><span class="title">mobile</span></span>() &#123; /*手机端*/</span><br><span class="line">    font-size: 18px;</span><br><span class="line">    margin-top: 25px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ul.popular-posts .popular-posts-item .popular-posts-title a &#123;</span><br><span class="line">  border-bottom: 1px solid <span class="comment">#999;</span></span><br><span class="line"></span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    border-bottom: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//小胡同背景图</span><br><span class="line"></span><br><span class="line">.xiaohutong-img-class &#123;</span><br><span class="line">  width: 960px;</span><br><span class="line">  height: 660px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//友链页样式 begain --------&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#links &#123;</span></span><br><span class="line">  margin-top: 5rem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.links-content &#123;</span><br><span class="line">  margin-top: 1rem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.link-navigation::after &#123;</span><br><span class="line">  content: <span class="string">" "</span>;</span><br><span class="line">  display: block;</span><br><span class="line">  clear: both;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card &#123;</span><br><span class="line">  width: 300px;</span><br><span class="line">  font-size: 1rem;</span><br><span class="line">  padding: 10px 20px;</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">  transition-duration: 0.15s;</span><br><span class="line">  margin-bottom: 1rem;</span><br><span class="line">  display: flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card:nth-child(odd) &#123;</span><br><span class="line">  <span class="built_in">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card:nth-child(even) &#123;</span><br><span class="line">  <span class="built_in">float</span>: right;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card:hover &#123;</span><br><span class="line">  transform: scale(1.1);</span><br><span class="line">  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.12), 0 0 6px 0 rgba(0, 0, 0, 0.04);</span><br><span class="line">  background-image: linear-gradient(to right, <span class="comment">#6a11cb 0, #2575fc 100%);</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card a &#123;</span><br><span class="line">  border: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card .ava &#123;</span><br><span class="line">  width: 3rem !important;</span><br><span class="line">  height: 3rem !important;</span><br><span class="line">  margin: 0 !important;</span><br><span class="line">  margin-right: 1em !important;</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card .card-header &#123;</span><br><span class="line">  font-style: italic;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  width: 236px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card .card-header a &#123;</span><br><span class="line">  font-style: normal;</span><br><span class="line">  color: <span class="comment">#2bbc8a;</span></span><br><span class="line">  font-weight: bold;</span><br><span class="line">  text-decoration: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card .card-header a:hover &#123;</span><br><span class="line">  color: <span class="comment">#d480aa;</span></span><br><span class="line">  text-decoration: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card .card-header .info &#123;</span><br><span class="line">  font-style: normal;</span><br><span class="line">  color: <span class="comment">#a3a3a3;</span></span><br><span class="line">  font-size: 14px;</span><br><span class="line">  min-width: 0;</span><br><span class="line">  text-overflow: ellipsis;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  white-space: nowrap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">span.focus-links &#123;</span><br><span class="line">  font-style: normal;</span><br><span class="line">  margin-left: 10px;</span><br><span class="line">  position: <span class="built_in">unset</span>;</span><br><span class="line">  left: 0;</span><br><span class="line">  padding: 0 7px 0 5px;</span><br><span class="line">  font-size: 11px;</span><br><span class="line">  border-color: <span class="comment">#42c02e;</span></span><br><span class="line">  border-radius: 40px;</span><br><span class="line">  line-height: 24px;</span><br><span class="line">  height: 22px;</span><br><span class="line">  color: <span class="comment">#fff !important;</span></span><br><span class="line">  background-color: <span class="comment">#42c02e;</span></span><br><span class="line">  display: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">span.focus-links:hover &#123;</span><br><span class="line">  background-color: <span class="comment">#318024;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.friends-btn &#123;</span><br><span class="line">  text-align: center;</span><br><span class="line">  color: <span class="comment">#555 !important;</span></span><br><span class="line">  background-color: <span class="comment">#fff;</span></span><br><span class="line">  border-radius: 3px;</span><br><span class="line">  font-size: 15px;</span><br><span class="line">  box-shadow: inset 0 0 10px 0 rgba(0, 0, 0, .35);</span><br><span class="line">  border: none !important;</span><br><span class="line">  transition-property: <span class="built_in">unset</span>;</span><br><span class="line">  padding: 0 15px;</span><br><span class="line">  margin: inherit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.friends-btn:hover &#123;</span><br><span class="line">  color: rgb(255, 255, 255) !important;</span><br><span class="line">  border-radius: 3px;</span><br><span class="line">  font-size: 15px;</span><br><span class="line">  box-shadow: inset 0px 0px 10px 0px rgba(0, 0, 0, 0.35);</span><br><span class="line">  background-image: linear-gradient(90deg, <span class="comment">#a166ab 0%, #ef4e7b 25%, #f37055 50%, #ef4e7b 75%, #a166ab 100%);</span></span><br><span class="line">  margin: inherit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//友链页样式 end    --------&gt;</span><br><span class="line"></span><br><span class="line">//首页头部样式</span><br><span class="line"></span><br><span class="line">.header &#123;</span><br><span class="line">  //background: url(<span class="string">"/images/header-bk.jpg"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.site-meta &#123;</span><br><span class="line">  <span class="built_in">float</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.menu &#123;</span><br><span class="line">  <span class="built_in">float</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.logo-line-before,</span><br><span class="line">.logo-line-after &#123;</span><br><span class="line">  display: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.menu .menu-item a &#123;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">  color: rgb(15, 46, 65);</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.site-meta &#123;</span><br><span class="line">  margin-left: 0px;</span><br><span class="line">  text-align: center;</span><br><span class="line">  //background: <span class="comment">#f7edd9</span></span><br><span class="line">  //background-image: linear-gradient(90deg,<span class="comment">#f79533 0,#f37055 15%,#ef4e7b 30%,#a166ab 44%,#5073b8 58%,#1098ad 72%,#07b39b 86%,#6dba82 100%)!important;</span></span><br><span class="line">  background-image: url(/images/bg.jpeg)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.site-meta .site-title &#123;</span><br><span class="line">  font-weight: 900;</span><br><span class="line">  font-size: 28px;</span><br><span class="line">  font-family: <span class="string">'Comic Sans MS'</span>, sans-serif;</span><br><span class="line">  color: <span class="comment">#fff;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.title1 &#123;</span><br><span class="line">  color: rgb(66, 133, 244)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.title2 &#123;</span><br><span class="line">  color: rgb(234, 67, 53)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.title3 &#123;</span><br><span class="line">  color: rgb(251, 188, 5)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.title4 &#123;</span><br><span class="line">  color: rgb(66, 133, 244)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.title5 &#123;</span><br><span class="line">  color: rgb(52, 168, 83)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.title6 &#123;</span><br><span class="line">  color: rgb(234, 67, 53)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.title7 &#123;</span><br><span class="line">  color: rgb(66, 133, 244)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.title8 &#123;</span><br><span class="line">  color: rgb(234, 67, 53)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.site-subtitle &#123;</span><br><span class="line">  color: <span class="comment">#213951;</span></span><br><span class="line">  font-weight: bold</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#myheartbeat &#123;</span></span><br><span class="line">  animation: heartAnimate 1.33s ease-in-out infinite;</span><br><span class="line">  color: <span class="comment">#f50404;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//首页尾部样式</span><br><span class="line"></span><br><span class="line">.footer &#123;</span><br><span class="line">  //background: none;</span><br><span class="line">  //font-size: 14px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.footer-inner &#123;</span><br><span class="line">  font-family: <span class="string">'Comic Sans MS'</span>, sans-serif;</span><br><span class="line">  text-align: center;</span><br><span class="line">  color: <span class="comment">#4c618f;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//侧边栏信息样式修改</span><br><span class="line"></span><br><span class="line">.site-author-name &#123;</span><br><span class="line">  margin: 18px 0 0;</span><br><span class="line">  color: <span class="comment">#090909;</span></span><br><span class="line">  font-family: <span class="string">'Comic Sans MS'</span>, sans-serif;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.links-of-blogroll &#123;</span><br><span class="line">  font-size: 13px;</span><br><span class="line">  margin-bottom: 22px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.links-of-author &#123;</span><br><span class="line">  margin-top: 10px;</span><br><span class="line">  //margin-bottom: 58px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.site-overview &#123; //左侧socia标签居中</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sidebar-inner &#123;</span><br><span class="line">  color: <span class="comment">#649ab6;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sidebar &#123;</span><br><span class="line">  margin-left: auto; /* <span class="keyword">for</span> IE */</span><br><span class="line">  margin-left: inherit;</span><br><span class="line">  box-shadow: inset 2px 2px 40px <span class="comment">#bdb2b2;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sidebar a &#123;</span><br><span class="line">  color: <span class="comment">#649ab6;</span></span><br><span class="line">  border-bottom-color: <span class="comment">#649ab6;</span></span><br><span class="line">  border-bottom: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sidebar a:hover &#123;</span><br><span class="line">  color: <span class="comment">#0c0b0b;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.site-state-item &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  padding: 8px 18px;</span><br><span class="line">  border-left: 1px solid <span class="comment">#649ab6;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sidebar-nav .sidebar-nav-active &#123;</span><br><span class="line">  color: <span class="comment">#649ab6;</span></span><br><span class="line">  border-bottom-color: <span class="comment">#649ab6;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sidebar-nav li:hover &#123;</span><br><span class="line">  color: <span class="comment">#0c0b0b;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//侧栏描述样式</span><br><span class="line"></span><br><span class="line">.site-description motion-element &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//侧栏按钮样式</span><br><span class="line"></span><br><span class="line">.sidebar-toggle &#123;</span><br><span class="line">  background: <span class="comment">#649ab6;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//文章目录样式</span><br><span class="line"></span><br><span class="line">.post-toc .nav .active &gt; a &#123;</span><br><span class="line">  color: <span class="comment">#4f7e96;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.post-toc ol a:hover &#123;</span><br><span class="line">  color: <span class="comment">#7784ba;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sidebar-nav .sidebar-nav-active:hover &#123;</span><br><span class="line">  color: <span class="comment">#37596c;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a &#123;</span><br><span class="line">  border-bottom: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//首页阅读全文样式</span><br><span class="line"></span><br><span class="line">.post-button .btn &#123;</span><br><span class="line">  color: <span class="comment">#555;</span></span><br><span class="line">  background-color: rgb(255, 255, 255);</span><br><span class="line">  border-radius: 3px;</span><br><span class="line">  font-size: 15px;</span><br><span class="line">  box-shadow: inset 0px 0px 10px 0px rgba(0, 0, 0, 0.35);</span><br><span class="line">  border: none !important;</span><br><span class="line">  transition-property: <span class="built_in">unset</span>;</span><br><span class="line">  padding: 0px 15px;</span><br><span class="line">  margin: inherit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.post-button .btn:hover &#123;</span><br><span class="line">  color: rgb(255, 255, 255);</span><br><span class="line">  border-radius: 3px;</span><br><span class="line">  font-size: 15px;</span><br><span class="line">  box-shadow: inset 0px 0px 10px 0px rgba(0, 0, 0, 0.35);</span><br><span class="line">  background-image: linear-gradient(90deg, <span class="comment">#a166ab 0%, #ef4e7b 25%, #f37055 50%, #ef4e7b 75%, #a166ab 100%);</span></span><br><span class="line">  margin: inherit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//.post-button a&#123;</span><br><span class="line">//  border-bottom: 1px solid <span class="comment">#666;</span></span><br><span class="line">//&#125;</span><br><span class="line">//.post-button a:hover &#123;</span><br><span class="line">//  color: <span class="comment">#7784ba;</span></span><br><span class="line">//&#125;</span><br><span class="line"></span><br><span class="line">// 自定义页脚跳动的心样式 began</span><br><span class="line">@keyframes heartAnimate &#123;</span><br><span class="line">  0%, 100% &#123;</span><br><span class="line">    transform: scale(1);</span><br><span class="line">  &#125;</span><br><span class="line">  10%, 30% &#123;</span><br><span class="line">    transform: scale(0.9);</span><br><span class="line">  &#125;</span><br><span class="line">  20%, 40%, 60%, 80% &#123;</span><br><span class="line">    transform: scale(1.1);</span><br><span class="line">  &#125;</span><br><span class="line">  50%, 70% &#123;</span><br><span class="line">    transform: scale(1.1);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.with-love &#123;</span><br><span class="line">  animation: heartAnimate 1.33s ease-in-out infinite;</span><br><span class="line">  color: rgb(255, 113, 168);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 自定义页脚跳动的心样式 end</span><br><span class="line"></span><br><span class="line">/*修改选择字体块背景颜色*/</span><br><span class="line"></span><br><span class="line">::selection &#123;</span><br><span class="line">  background: <span class="comment">#fff159;</span></span><br><span class="line">  color: <span class="comment">#222;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.pagination &#123;</span><br><span class="line">  margin: 50px;</span><br><span class="line">  text-align: center;</span><br><span class="line">  border-top: 0px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 页码数字显示当前页码样式设置 */</span><br><span class="line"></span><br><span class="line">.pagination .page-number.current &#123;</span><br><span class="line">  background-color: <span class="comment">#49b1f5;</span></span><br><span class="line">  background: <span class="comment">#49b1f5;</span></span><br><span class="line">  border-radius: 50%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* 页码样式设置 */</span><br><span class="line"></span><br><span class="line">.pagination .page-number &#123;</span><br><span class="line">  border: 3px solid <span class="comment">#49b1f5;</span></span><br><span class="line">  border-radius: 50%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/*valine 评论系统样式 began ------------------&gt; */</span><br><span class="line"></span><br><span class="line">/*valine 评论系统样式 end  ------------------&gt; */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 适配手机样式 began ------------------------&gt;</span><br><span class="line">@media (max-width: 767px</span><br><span class="line"></span><br><span class="line">) &#123;</span><br><span class="line">  /*手机端body体显示*/</span><br><span class="line">  body &#123;</span><br><span class="line">    background-image: none;</span><br><span class="line">    font-size: 16px;</span><br><span class="line">    -webkit-font-smoothing: antialiased;</span><br><span class="line">    -moz-osx-font-smoothing: grayscale;</span><br><span class="line">    color: <span class="comment">#34495e;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /*手机端菜单栏样式*/</span><br><span class="line">  .menu &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    margin-left: 5px;</span><br><span class="line">    <span class="built_in">float</span>: none !important;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  //.menu-item&#123;</span><br><span class="line">  //  display: inline;</span><br><span class="line">  //&#125;</span><br><span class="line">  ////不显示站点地图li</span><br><span class="line">  //.menu .menu-item menu-item-sitemap&#123;</span><br><span class="line">  //  display:none</span><br><span class="line">  //&#125;</span><br><span class="line">  .menu .menu-item a &#123;</span><br><span class="line">    /*font-weight: 600;*/</span><br><span class="line">    color: <span class="comment">#2c3e50;</span></span><br><span class="line">    font-size: 14px;</span><br><span class="line">    //padding: 1px 7px;</span><br><span class="line">    padding: 5px 12px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  //选中菜单样式</span><br><span class="line">  .menu-item-active a:after &#123;</span><br><span class="line">    top: -10%;</span><br><span class="line">    //top: 66%;</span><br><span class="line">    right: 24px;</span><br><span class="line">    //三角形</span><br><span class="line">    //width:0; height:0; border:10px solid; border-color:<span class="comment">#aececb #f5f7f9 #f5f7f9 #f5f7f9;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  blockquote &#123; // 手机端&gt;符号表示的内容样式</span><br><span class="line">    //padding: 4px 10px;</span><br><span class="line">    //margin: 10px auto;</span><br><span class="line">    //border-left: 3px solid <span class="comment">#ddd;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  blockquote p &#123; // 手机端&gt;符号表示的内容样式</span><br><span class="line">    font-size: 13px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .back-to-top &#123;</span><br><span class="line">    display: none; //不显示</span><br><span class="line">    right: 0px;</span><br><span class="line">    opacity: .2;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /*手机屏幕下多级标签样式修改*/</span><br><span class="line">  .posts-expand .post-body h1 &#123;</span><br><span class="line">    margin: 0 0 0em;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .posts-expand .post-body h2,</span><br><span class="line">  .posts-expand .post-body h3 &#123;</span><br><span class="line">    pointer-events: none;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .posts-expand .post-body h1,</span><br><span class="line">  .posts-expand .post-body h2,</span><br><span class="line">  .posts-expand .post-body h3,</span><br><span class="line">  .posts-expand .post-body h4 &#123;</span><br><span class="line">    pointer-events: auto;</span><br><span class="line">    color: <span class="comment">#2c3e50;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .posts-expand .post-body h1:before</span><br><span class="line">  .posts-expand .post-body h2:before</span><br><span class="line">  .posts-expand .post-body h3:before</span><br><span class="line">  .posts-expand .post-body h4:before</span><br><span class="line">  .posts-expand .post-body h5:before</span><br><span class="line">  .posts-expand .post-body h6:before &#123;</span><br><span class="line">    display: none;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .posts-expand .post-body h2 &#123;</span><br><span class="line">    padding-bottom: 0.7em;</span><br><span class="line">    border-bottom: 1px solid <span class="comment">#ddd;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .posts-expand .post-body h3 &#123;</span><br><span class="line">    line-height: 1.2;</span><br><span class="line">    position: relative;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .posts-expand .post-body h3 &gt; a:before &#123;</span><br><span class="line">    content: <span class="string">""</span>;</span><br><span class="line">    color: <span class="comment">#42b983;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    left: -0.7em;</span><br><span class="line">    margin-top: -0.05em;</span><br><span class="line">    padding-right: 0.5em;</span><br><span class="line">    font-size: 1.2em;</span><br><span class="line">    line-height: 1;</span><br><span class="line">    font-weight: bold;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .posts-expand .post-body figure &#123;</span><br><span class="line">    //margin: 1.2em 0;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /*手机段落样式修改*/</span><br><span class="line">  .posts-expand .post-body p &#123;</span><br><span class="line">    line-height: 1.6em;</span><br><span class="line">    text-align: left;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    //display: contents;//文字左对齐</span><br><span class="line">    margin: 5px 0;</span><br><span class="line">    padding-bottom: 6px;</span><br><span class="line">    position: relative;</span><br><span class="line">    z-index: 1;</span><br><span class="line">    color: <span class="comment">#5e6d82;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /* 手机端 列表样式修改*/</span><br><span class="line">  .posts-expand .post-body ul,</span><br><span class="line">  .posts-expand .post-body ol &#123;</span><br><span class="line">    position: inherit;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .posts-expand .post-body ul ul,</span><br><span class="line">  .posts-expand .post-body ol ul,</span><br><span class="line">  .posts-expand .post-body ul ol,</span><br><span class="line">  .posts-expand .post-body ol ol &#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .posts-expand .post-body ul li &#123;</span><br><span class="line">    font-size: 13px;</span><br><span class="line">    //margin-bottom: 0px !important;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .posts-expand .post-body a &#123;</span><br><span class="line">    //color: <span class="comment">#000;</span></span><br><span class="line">    font-weight: 400;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  p &#123;</span><br><span class="line">    line-height: 1.6em;</span><br><span class="line">    margin: 1.2em 0 -1.2em;</span><br><span class="line">    padding-bottom: 1.2em;</span><br><span class="line">    position: relative;</span><br><span class="line">    z-index: 1;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    word-spacing: 0.05em;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /*手机端对ul li展示优化*/</span><br><span class="line">  .posts-expand .post-body ul li:before &#123;</span><br><span class="line">    margin: .4rem 12px 0 0;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  li &#123;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    color: <span class="comment">#5e6d82;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .post-button a &#123;</span><br><span class="line">    font-size: 16px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .posts-expand .post-meta &#123;</span><br><span class="line">    font-size: 13px;</span><br><span class="line">    text-align: center;</span><br><span class="line">    margin: 1px 0 20px 0;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /*设置不展示字数统计*/</span><br><span class="line">  .posts-expand .post-meta .post-wordcount &#123;</span><br><span class="line">    //display: none;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /*手机端评论数*/</span><br><span class="line">  //.posts-expand .post-comments-count &#123;</span><br><span class="line">  //  +<span class="function"><span class="title">mobile</span></span>() &#123; display: <span class="built_in">unset</span>; &#125;</span><br><span class="line">  //&#125;</span><br><span class="line">  .page-post-detail .post-meta &#123;</span><br><span class="line">    margin: 10px 0px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .page-post-detail .post-title &#123;</span><br><span class="line">    font-weight: 600;</span><br><span class="line">    font-size: 20px !important;</span><br><span class="line">    //padding-top: 10px;</span><br><span class="line">    //padding-bottom: 15px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .my_post_copyright &#123; //版权所有</span><br><span class="line">    width: 95%;</span><br><span class="line">    //padding: .1em 1em;</span><br><span class="line">    font-size: .73rem</span><br><span class="line">    margin: 2em auto 0</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .my_post_copyright p &#123;</span><br><span class="line">    font-size: 13px;</span><br><span class="line">    margin: 5px;</span><br><span class="line">    line-height: 1.2em;</span><br><span class="line">    padding-bottom: 0.5em;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*适应手机屏幕设置*/</span><br><span class="line">@media (max-width: 767px) &#123;</span><br><span class="line">  .header-inner &#123;</span><br><span class="line">    margin-bottom: 10px !important;</span><br><span class="line">    background: none;</span><br><span class="line">    //overflow: auto; //下拉标题是否浮动</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .posts-expand .post-body h1 &#123;</span><br><span class="line">    padding-top: 20px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .post-button &#123;</span><br><span class="line">    text-align: center;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .posts-expand .post-body h2,</span><br><span class="line">  .posts-expand .post-body h3 &#123;</span><br><span class="line">    pointer-events: none;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .posts-expand .post-body h1,</span><br><span class="line">  .posts-expand .post-body h2,</span><br><span class="line">  .posts-expand .post-body h3,</span><br><span class="line">  .posts-expand .post-body h4 &#123;</span><br><span class="line">    pointer-events: auto;</span><br><span class="line">    color: <span class="comment">#2c3e50;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .posts-expand .post-body h1:before</span><br><span class="line">  .posts-expand .post-body h2:before</span><br><span class="line">  .posts-expand .post-body h3:before</span><br><span class="line">  .posts-expand .post-body h4:before</span><br><span class="line">  .posts-expand .post-body h5:before</span><br><span class="line">  .posts-expand .post-body h6:before &#123;</span><br><span class="line">    display: none;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .posts-expand .post-body h2 &#123;</span><br><span class="line">    padding-bottom: 0.7em;</span><br><span class="line">    border-bottom: 1px solid <span class="comment">#ddd;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .posts-expand .post-body h3 &#123;</span><br><span class="line">    line-height: 1.2;</span><br><span class="line">    position: relative;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*手机端显示设置信息*/</span><br><span class="line">@media (max-width: 767px) &#123;</span><br><span class="line">  /*手机端代码行上text文档设置*/</span><br><span class="line">  .highlight figcaption &#123;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /*手机端显示代码行数背景设置*/</span><br><span class="line">  .highlight .gutter pre &#123;</span><br><span class="line">    padding-left: 2px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /*手机端显示代码行数字体大小*/</span><br><span class="line">  .highlight, pre &#123;</span><br><span class="line">    font-size: 13px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /*手机端显示代码字体大小*/</span><br><span class="line">  .code span &#123;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  div<span class="comment">#comments.comments.v &#123;</span></span><br><span class="line">    margin-left: 0px !important;</span><br><span class="line">    margin-right: 0px !important;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .comments &#123;</span><br><span class="line">    margin: 20px 10px 0;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//手机适配文章底部信息</span><br><span class="line">@media (max-width: 767px) &#123;</span><br><span class="line">  .main &#123;</span><br><span class="line">    padding-bottom: 130px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .footer &#123;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .<span class="built_in">read</span>-over &#123; //本文阅读结束</span><br><span class="line">    text-align: center;</span><br><span class="line">    margin-top: 20px;</span><br><span class="line">    color: <span class="comment">#ea103d91;</span></span><br><span class="line">    font-size: 12px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .share_reward &#123; //打赏</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    padding: 10px 0;</span><br><span class="line">    margin: 5px auto;</span><br><span class="line">    width: 90%;</span><br><span class="line">    text-align: center;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">#rewardButton &#123;</span></span><br><span class="line">    margin: 15px auto;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">#rewardButton span &#123; //打赏</span></span><br><span class="line">    display: inline-block;</span><br><span class="line">    width: 50px;</span><br><span class="line">    height: 35px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">#QR &#123;</span></span><br><span class="line">    padding-top: 5px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">#QR a &#123;</span></span><br><span class="line">    border: 0;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">#QR img &#123;</span></span><br><span class="line">    width: 60px;</span><br><span class="line">    //max-width: 50%;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    margin: 0.8em 2em 0 2em;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .post-copyright &#123; //外版权</span><br><span class="line">    padding: .1em .5em;</span><br><span class="line">    margin: 0em 0 0;</span><br><span class="line">    border-left: 2px solid <span class="comment">#ff1700;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .post-copyright li &#123; //外版权</span><br><span class="line">    font-size: 13.5px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .posts-expand .post-tags &#123;</span><br><span class="line">    margin-top: 10px;</span><br><span class="line">    font-size: 8px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .post-nav-item a &#123;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    line-height: <span class="built_in">unset</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .pagination &#123; // 分页按钮</span><br><span class="line">    margin: 20px;</span><br><span class="line">    text-align: center;</span><br><span class="line">    border-top: 0px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /*TopX适应手机屏幕设置*/</span><br><span class="line">  <span class="comment">#top p &#123;</span></span><br><span class="line">    font-size: 12px;</span><br><span class="line">    display: inline-block; //不换行</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .post-body .note &#123; //提示条</span><br><span class="line">    margin: 10px auto;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .post-body .note.info p &#123;</span><br><span class="line">    font-size: 13px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .post-body .tabs .tab-content .note &#123;</span><br><span class="line">    margin: 10px auto;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@media (max-width: 767px) &#123;</span><br><span class="line"></span><br><span class="line">  //小胡同背景图</span><br><span class="line">  .xiaohutong-img-class &#123;</span><br><span class="line">    width: 360px;</span><br><span class="line">    height: 260px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // 小胡同里tab页</span><br><span class="line">  .post-body .tabs ul.nav-tabs &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /* 手机端文章布局 */</span><br><span class="line">  .post &#123;</span><br><span class="line">    margin-bottom: 20px;</span><br><span class="line">    padding: 10px;</span><br><span class="line">    //-webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);</span><br><span class="line">    //-moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  //手机友链页</span><br><span class="line">  .card &#123;</span><br><span class="line">    width: 88%;</span><br><span class="line">    padding: 3px 20px;</span><br><span class="line">    margin-bottom: 0rem;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">#links &#123;</span></span><br><span class="line">    margin-top: 3rem;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /*移动端 本地搜索框美化*/</span><br><span class="line">  .<span class="built_in">local</span>-search-popup &#123;</span><br><span class="line">    top: 10%;</span><br><span class="line">    margin: 10px 35px;</span><br><span class="line">    width: 80%;</span><br><span class="line">    height: 60%;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .<span class="built_in">local</span>-search-popup .search-icon, .<span class="built_in">local</span>-search-popup .popup-btn-close &#123;</span><br><span class="line">    color: <span class="comment">#15a1d8 f2;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .<span class="built_in">local</span>-search-popup .<span class="built_in">local</span>-search-input-wrapper input &#123;</span><br><span class="line">    padding-left: 10px;</span><br><span class="line">    height: 21px;</span><br><span class="line">    background-color: rgb(255, 255, 255);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .<span class="built_in">local</span>-search-popup .popup-btn-close &#123;</span><br><span class="line">    border-left: none;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .<span class="built_in">local</span>-search-popup p.search-result &#123;</span><br><span class="line">    padding-bottom: 1.2em;</span><br><span class="line">    font-size: 13px;</span><br><span class="line">    margin: .1em 0 .5em;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .<span class="built_in">local</span>-search-popup a.search-result-title &#123;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 适配手机样式 end  ------------------------&gt;</span><br></pre></td></tr></table></figure></div><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo博客+Next主题深度优化与定制</title>
    <url>/posts/ab21860c.html</url>
    <content><![CDATA[<!-- build time:Thu Nov 21 2019 08:41:57 GMT+0000 (Coordinated Universal Time) --><h1 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h1><div class="note warning">本教程只适用于 Next5 或者 Next6 主题，Next7 开始做了大量修改，并删除了 custom.styl 文件，同时增加了很多在 Next7 之前需要手动配置的功能，请随个人喜好进行版本选择。</div><hr><div class="note info">我的个人博客就是使用 Hexo 博客框架 + Next 主题搭建而来的，之前也使用过CSDN、博客园等，最后都放弃了，一方面是因为广告多，另外一方面样式我也不是很喜欢，而如果自己从零开始写博客源代码的话，比较复杂而且麻烦。后来偶然看到了 hexo 博客框架，并经过推荐使用了 Next 主题，这才正式入了 hexo 博客的坑！不得不说 Next 主题能够魔改并且自身集成了很多优秀的第三方插件是这款主题具有如此强大活力的根本原因😘。</div><p>本文下面主要先介绍 Hexo 博客和 Next 主题的搭建，如果你已经搭建好了博客框架，但是想进一步地修改博客样式，可以直接跳转到最下面<a href="#Next主题进阶优化配置">优化定制部分</a>😄，本文参考的博客链接也会直接在文中插入或者在文末标明，如果有遗漏，欢迎指出。</p><p>Next 主题最新版本已经更新到 v7.5.0，以下很多内容都已经在新主题中做出了适配或者直接无法使用，愿意更新到最新版本的小伙伴请关注<a href="https://theme-next.org/" rel="external nofollow noopener noreferrer" target="_blank">官方文档更新</a>。不愿意更新的小伙伴或者目前使用的是旧版本（比如我还是 Next5 版本）可以继续进行一定的参考。</p><h1 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h1><p>在安装 hexo 框架之前，我们需要先安装该框架的依赖环境：</p><ol><li>Node.js</li><li>Git</li></ol><p>因为 Hexo 博客框架就是基于 Node.js 渲染的，所以必须要先安装 Node.js 环境，我们可以去<a href="http://nodejs.cn/download/" rel="external nofollow noopener noreferrer" target="_blank">Node.js中文官网</a>下载，如图</p><p><a href="http://nodejs.cn/download/" class="LinkCard" rel="external nofollow noopener noreferrer" target="_blank">安装地址</a></p><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/11/13/MG5ZcV.png" alt="node.js"></p><p>一般我们是在 windows 或者 macOS 环境下作为本机操作的，所以下载对应的安装包就可以了，下载好后一路点 next 下一步就完成了，这个没什么问题。</p><p>然后我们需要安装一下 Git，Git 主要是帮助我们部署到 Github Pages 静态仓库上以域名形式访问。</p><p>安装 Git 的话，如果是 windows 系统，可以直接去<a href="https://gitforwindows.org/" rel="external nofollow noopener noreferrer" target="_blank">Windows的Git下载地址</a>去下载，如果是 macOS 的话，也可以在<a href="https://www.git-scm.com/download/" rel="external nofollow noopener noreferrer" target="_blank">这里下载</a>。当这些环境都部署好之后，就可以开始我们的 hexo 博客安装啦！</p><p><a href="https://gitforwindows.org/" class="LinkCard" rel="external nofollow noopener noreferrer" target="_blank">Windows的Git下载地址</a></p><p><a href="https://www.git-scm.com/download/" class="LinkCard" rel="external nofollow noopener noreferrer" target="_blank">MacOS的Git下载地址</a></p><h1 id="安装-Hexo-和-Next"><a href="#安装-Hexo-和-Next" class="headerlink" title="安装 Hexo 和 Next"></a>安装 Hexo 和 Next</h1><h2 id="安装-hexo"><a href="#安装-hexo" class="headerlink" title="安装 hexo"></a>安装 hexo</h2><p>本文安装环境为 windows10，所以以下都以 windows 操作系统下安装为例。</p><div class="note danger">安装之前需要说明几个注意事项：<br>- 很多命令既可以使用 windows 的 cmd 命令行来完成，也可以使用刚才安装好的 Git 命令行工具 Git Bash 来完成，但是在 cmd 中部分命令会出现一些问题，建议只使用 Git Bash 来执行命令。<br>- Hexo 不同版本之间有差别，要注意自己安装的版本是哪个版本（跟着本文走就没问题啦），如果修改样式的话注意网上教程的 Hexo 版本差异。<br>- Hexo 安装好后有 2 种<code>_config.xml</code>文件，一个是 hexo 站点根目录下的全局<code>_config.xml</code>文件，还有一种是每个主题 theme 下的各自的<code>_config.xml</code>文件，注意区分二者，后面会详细说到。<br></div><h3 id="安装-hexo-1"><a href="#安装-hexo-1" class="headerlink" title="安装 hexo"></a>安装 hexo</h3><p>依然是在 GitBash 中操作，输入以下命令，等待安装完成。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure></div><h3 id="创建-hexo-文件夹"><a href="#创建-hexo-文件夹" class="headerlink" title="创建 hexo 文件夹"></a>创建 hexo 文件夹</h3><p>在电脑某个位置创建一个名为 hexo 的文件夹（当然名字可以随便取），比如我个人的就是 <code>E:\blog\hexo</code> ，由于这个文件夹是你以后存放博客代码和文章的地方，所以最好不要乱放，然后我们在 GitBash 中使用 cd 命令移动到创建好的文件夹中。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /e/blog/hexo</span><br></pre></td></tr></table></figure></div><h3 id="初始化-hexo"><a href="#初始化-hexo" class="headerlink" title="初始化 hexo"></a>初始化 hexo</h3><p>在上面 cd 到创建的文件夹后，输入以下命令进行初始化</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ hexo init</span><br></pre></td></tr></table></figure></div><p>这个命令执行的时间非常长，主要是初始化 hexo 博客中的文件夹，包括 hexo 博客内置的各种 node_modules 组件等等，所以耐心的稍等一下！如果初始化失败建议删除文件夹内容后重试。</p><p>初始化完成后，我们打开刚才创建的文件夹，会发现里面包含如下文件夹：</p><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/10/21/Klkwa4.png" alt></p><p>注意，其中有一个_config.xml文件，这个我们叫做<font color="red">站点根目录配置文件</font>，里面的初始内容如下：（附上中文介绍）</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Hexo Configuration</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/configuration.html</span></span><br><span class="line"><span class="comment">## Source: https://github.com/hexojs/hexo/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Site 站点主配置</span></span><br><span class="line">title: Hexo  <span class="comment"># 网站标题</span></span><br><span class="line">subtitle:    <span class="comment"># 网站副标题</span></span><br><span class="line">description:   <span class="comment"># 网站描述</span></span><br><span class="line">keywords:      <span class="comment"># 可以不填写保持默认</span></span><br><span class="line">author: John Doe  <span class="comment"># 网站拥有者昵称</span></span><br><span class="line">language:    <span class="comment"># 网站语言设置，一般根据依赖的主题而定</span></span><br><span class="line">timezone:    <span class="comment"># 网站时区设置，一般不填写保持默认</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL地址链接设置</span></span><br><span class="line">url: http://yoursite.com   <span class="comment"># 网站url设置</span></span><br><span class="line">root: /                    <span class="comment"># 网站根目录链接</span></span><br><span class="line">permalink: :year/:month/:day/:title/   <span class="comment"># 文章链接，默认是按照 /年/月/日/文章标题 设置的链接</span></span><br><span class="line">permalink_defaults:                    <span class="comment"># 默认链接形式</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory  网站主要目录，这里一般不做改动</span></span><br><span class="line">source_dir: <span class="built_in">source</span></span><br><span class="line">public_dir: public</span><br><span class="line">tag_dir: tags</span><br><span class="line">archive_dir: archives</span><br><span class="line">category_dir: categories</span><br><span class="line">code_dir: downloads/code</span><br><span class="line">i18n_dir: :lang</span><br><span class="line">skip_render:</span><br><span class="line"></span><br><span class="line"><span class="comment"># Writing  网站文章设置，同样一般不做改动</span></span><br><span class="line">new_post_name: :title.md  <span class="comment"># File name of new posts</span></span><br><span class="line">default_layout: post</span><br><span class="line">titlecase: <span class="literal">false</span> <span class="comment"># Transform title into titlecase</span></span><br><span class="line">external_link: <span class="literal">true</span> <span class="comment"># Open external links in new tab</span></span><br><span class="line">filename_case: 0</span><br><span class="line">render_drafts: <span class="literal">false</span></span><br><span class="line">post_asset_folder: <span class="literal">false</span></span><br><span class="line">relative_link: <span class="literal">false</span></span><br><span class="line">future: <span class="literal">true</span></span><br><span class="line">highlight:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  line_number: <span class="literal">true</span></span><br><span class="line">  auto_detect: <span class="literal">false</span></span><br><span class="line">  tab_replace:</span><br><span class="line">  </span><br><span class="line"><span class="comment"># Home page setting  主页设置，一般不做改动</span></span><br><span class="line">index_generator:</span><br><span class="line">  path: <span class="string">''</span></span><br><span class="line">  per_page: 10</span><br><span class="line">  order_by: -date  <span class="comment"># 首页文章排序，默认是按照文章日期递减</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># Category &amp; Tag  分类设置，一般不做改动</span></span><br><span class="line">default_category: uncategorized</span><br><span class="line">category_map:</span><br><span class="line">tag_map:</span><br><span class="line"></span><br><span class="line"><span class="comment"># Date / Time format  日期设置，一般不做改动</span></span><br><span class="line">date_format: YYYY-MM-DD</span><br><span class="line">time_format: HH:mm:ss</span><br><span class="line"></span><br><span class="line"><span class="comment"># Pagination  导航页设置，一般不做改动</span></span><br><span class="line">per_page: 10   <span class="comment"># 设置每页展示多少文章</span></span><br><span class="line">pagination_dir: page</span><br><span class="line"></span><br><span class="line"><span class="comment"># Extensions  使用的主题名称，可以在这里切换</span></span><br><span class="line">theme: next  <span class="comment"># 此处切换主题名称</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Deployment  部署，一般选择部署到Github上</span></span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>:</span><br></pre></td></tr></table></figure></div><p>其实到这里来说，我们的 hexo 博客已经做好了！不信？我们执行下面命令看看：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">//<span class="built_in">cd</span>到根目录执行</span><br><span class="line">$ hexo g</span><br><span class="line">$ hexo s</span><br></pre></td></tr></table></figure></div><p>然后我们打开浏览器，输入 <code>http://localhost:4000</code> ，是不是惊奇的发现已经完成了？</p><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/10/21/KlAJFH.png" alt="首页"></p><p>等….等一下，页面怎么是英文的😫？？？！</p><p>别慌，上面提到配置文件的时候已经说到是语言没有修改了，我们可以打开 hexo 目录下的 themes 文件夹，发现里面有一个 landscape 文件夹，没错，你刚才看到的默认主题就是这个名叫 <code>landscape</code> 的主题，这个主题是 hexo 博客自带的默认主题，当然我们可以下载其它主题来代替它，具体方式在后面会介绍。</p><p>然后我们先来分析一下这个 landscape 主题文件夹：</p><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/11/13/MGH9Fe.png" alt></p><p>注意这里面有一个 <code>_config.xml</code> 配置文件，其实上面已经强调过，这个跟前面的站点根目录下配置文件同名，但是这个配置文件是在主题目录下的，那么这个配置文件我们一般就叫做<font color="red">主题配置文件，基本每个 hexo 博客第三方主题下面都会有这个配置文件，所以主题配置文件是一种统称。</font></p><p>里面的初始内容我们暂时不管（因为不同主题的配置文件内容不一样，反正我们又不使用这个主题~）。</p><p>先来看看上面的 languages 文件夹，一看就懂，都知道这就是网站语言配置文件，好，我们进去看一下，噢~里面的 zh-CN 和 zh-TW 可不就是中文吗。其中 zh-CN 指的是简体中文，zh-TW（湾湾）是繁体中文，欧克。然后我们再去站点根目录下，注意这里是 <font color="red">站点根目录下（hexo/_config.xml）</font>的配置文件中（千万别懵逼了），将这里：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DIFF"><figure class="iseeu highlight /diff"><table><tr><td class="code"><pre><span class="line"># Site 站点主配置</span><br><span class="line">title: sanarous教你搭建Hexo博客  //网站标题修改</span><br><span class="line">subtitle: so easy~  //副标题修改</span><br><span class="line">description:  //网站描述</span><br><span class="line">keywords: hexo,next,Java,博客    //网站关键字,用英文逗号分开</span><br><span class="line">author: Sanarous   //此处填写你自己的昵称  </span><br><span class="line"><span class="addition">+ language: zh-CN    //这里改成上面在主题配置文件中看到的语言名字，注意英文冒号:后面有一个空格</span></span><br><span class="line">timezone:   //网站时区，保持默认就可以了</span><br></pre></td></tr></table></figure></div><p>更改完后，我们回 GitBash 命令行，输入以下命令：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure></div><p>再重新打开浏览器刷新，是不是页面语言变成中文的了！</p><p>好吧，现在先说一下上面的命令中的 <code>hexo s &amp;&amp; hexo g</code> 是什么东西，<code>hexo s</code> 是启动 hexo 服务的，可以理解为是 <code>hexo serve</code> 或者 <code>hexo start</code> ，一般都是简写为 <code>hexo s</code> ，而 <code>hexo g</code> 是重新生成 public 文件夹的命令，全称是 <code>hexo generator</code> ，那么 public 文件夹是什么呢？</p><p>别慌，我们回头看一下 hexo 文件夹目录：</p><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/11/13/MGb6vn.png" alt="文件夹"></p><p>看到这个 public 文件夹嘛，这个里面就是生成的所有静态文件，包括 html，css，js 文件以及图片等，稍微懂一些前端的人就知道这个文件夹就是你的博客被 node.js 渲染后生成的最终文件夹，这个文件夹中点开 index.html 就能看到你的博客页面了😄！简单点来说如果在本地修改了什么文件内容，可以使用 <code>hexo g</code> 命令重新生成一下public文件夹，那么这个文件夹只要修改了，再使用 <code>hexo s</code> 启动服务就可以看到页面变化了，当然 <code>hexo s</code> 本身就具有在线调试的功能，如果 <code>hexo s</code> 无法刷新页面修改内容，那么使用 <code>hexo g &amp;&amp; hexo s</code> 就可以看到更改内容啦~</p><h3 id="第一篇博客文章"><a href="#第一篇博客文章" class="headerlink" title="第一篇博客文章"></a>第一篇博客文章</h3><p>博客基本框架完成后，我们做的第一件事就是创建第一篇个人博客啦！可以在 Gitbash 中 cd 到 hexo 根目录，使用如下命令：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">hexo new <span class="string">"我的第一篇博客"</span></span><br><span class="line"></span><br><span class="line">//或者可以简写为</span><br><span class="line"></span><br><span class="line">hexo n <span class="string">"我的第一篇博客"</span></span><br></pre></td></tr></table></figure></div><p>就可以在 <code>hexo/source/_posts</code> 文件下面新建一个 <code>.md</code> 文件，这个 <code>.md</code> 文件就是 Markdown 文件，所以我们写博客只要在本地编辑这个 Markdown 文件就可以了。Markdown 语法可以 Google 一下使用教程，比较简单并且实用。</p><h2 id="将-Hexo-博客部署到-Github-上"><a href="#将-Hexo-博客部署到-Github-上" class="headerlink" title="将 Hexo 博客部署到 Github 上"></a>将 Hexo 博客部署到 Github 上</h2><ol><li>为什么要部署到 Github上呢，当然是有以下原因：</li><li>因为 Hexo 博客都是静态文件，GithubPages 自身就支持静态文件。</li><li>免费方便，不用花一分钱就可以自己搭建一个自由的个人博客，并且没有服务器没有后台。</li><li>可以随意绑定自己的域名，并且可以一键开启 HTTPS，很方便。</li><li>数据绝对安全，github 可以恢复任意版本。</li><li>博客内容可以轻松打包、转移以及发布到其它平台。</li><li>……</li></ol><p>在部署到 Github 之前，我们需要准备好自己的 Github 账号，Github 账号可以在 Github 官网注册。</p><p><a href="https://github.com" class="LinkCard" rel="external nofollow noopener noreferrer" target="_blank">Github官网</a></p><h3 id="创建-Github-仓库"><a href="#创建-Github-仓库" class="headerlink" title="创建 Github 仓库"></a>创建 Github 仓库</h3><p>首先我们需要在 Github 上创建一个 repository，就是创建一个仓库的意思，在登录账号后首页就有一个显眼的 create new repository，点进去就可以看到了，注意名字必须为你的 <code>Github用户名.github.io</code> ，如下图：</p><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/10/21/Kl0wjI.png" alt="github"></p><p>不能设置为其它名字，只能用这个仓库名。这样设置以后，我们在不绑定域名的前提下，可以直接使用 <code>http://Sanarous.github.io</code> 来访问自己的个人博客，这样就相当于有一个个人域名，并且是永久免费的！</p><h3 id="配置-SSH-Key"><a href="#配置-SSH-Key" class="headerlink" title="配置 SSH Key"></a>配置 SSH Key</h3><p>如果是第一次在自己的本机上使用 Git 上传到 Github 上，那么必须配置 <code>SSH key</code> ，表示 Github 允许这台机器有权限使用 Git 上传代码到远端仓库。</p><p>我们可以在 GitBash 中使用 <code>$ cd ~/.ssh</code> 命令来查看本机已经存在的 ssh 密钥，如果是第一次使用会显示 <code>No such file or directory</code> ，如果不是的话，就需要用已经存在的密钥或者重新生成一份了。</p><p>然后输入</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">"邮件地址"</span></span><br></pre></td></tr></table></figure></div><p>上面的邮件地址就是你的 Github 注册邮箱地址，在提示后连续回车，最终会生成一个文件在 C 盘用户目录下面</p><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/11/13/MGOE9g.png" alt="ssh"></p><p>打开这个 .ssh 文件，里面存放了密钥，然后我们打开自己的 Github 个人主页，进入 <code>个人设置 -&gt; SSH and GPG keys -&gt; New SSH key</code></p><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/11/13/MGOrCD.png" alt="ssh1"></p><p>上面的 Title 可以任意填写，下面的 key 注意要打开 .ssh 文件，将密钥复制进去</p><h3 id="测试是否成功"><a href="#测试是否成功" class="headerlink" title="测试是否成功"></a>测试是否成功</h3><p>使用如下命令：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ ssh -T git@github.com <span class="comment"># 注意邮箱地址不用改</span></span><br></pre></td></tr></table></figure></div><p>如果提示 <code>Are you sure you want to continue connecting (yes/no)?</code> 点击yes，会显示</p><p><code>Hi Sanarous! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</code></p><p>看到这个信息就说明 SSH 已经配置成功！</p><h3 id="配置-Git-提交的用户信息"><a href="#配置-Git-提交的用户信息" class="headerlink" title="配置 Git 提交的用户信息"></a>配置 Git 提交的用户信息</h3><p>上面配置成功后，我们就可以设置 Git 的全局用户信息了，这个信息设置当前 Git 命令上传代码的用户信息。</p><p>使用以下命令：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ git config --global user.name <span class="string">"XuxuGood"</span> // 你的github用户名，非昵称</span><br><span class="line">$ git config --global user.email  <span class="string">"xxx@qq.com"</span> // 填写你的github注册邮箱</span><br></pre></td></tr></table></figure></div><p>配置完成后以后提交代码都是使用的这个用户信息进行提交的。</p><h3 id="将-Hexo-博客部署到-Github-上-1"><a href="#将-Hexo-博客部署到-Github-上-1" class="headerlink" title="将 Hexo 博客部署到 Github 上"></a>将 Hexo 博客部署到 Github 上</h3><p>首先打开 hexo 站点的配置文件，找到 deloy 并填写如下配置：</p><p>文件位置：<code>hexo/_config.xml</code></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repository: git@github.com:XuxuGood/XuxuGood.github.io.git <span class="comment"># 用户名改成你自己的</span></span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure></div><p>或者也可以写成这样：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: github</span><br><span class="line">  repository: https://github.com/XuxuGood/XuxuGood.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure></div><p>无论是哪种写法，此时直接执行 <code>hexo d</code> 的话一般会报如下错误：<code>Deployer not found: github</code> 或者 <code>Deployer not found: git</code></p><p>原因是还需要安装一个插件 <code>hexo-deployer-git</code> ，我们可以在 Git 中 cd 到 hexo 根目录，并输入以下命令：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /e/hexo/</span><br><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></div><p>然后我们可以使用 <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo deploy</code> 命令来完成一键部署到 Github 上。</p><h2 id="安装-Next-主题"><a href="#安装-Next-主题" class="headerlink" title="安装 Next 主题"></a>安装 Next 主题</h2><p>由于默认的主题 landscape 界面比较丑（当然魔改也是可以的），我们可以使用 Hexo 官方推荐的主题：<a href="https://hexo.io/themes" rel="external nofollow noopener noreferrer" target="_blank">https://hexo.io/themes</a> ，如果喜欢这里面的某些主题，可以直接去上面主题对应的界面中的 Github 中下载（下载方式与稍后介绍的下载 Next 主题一样）。</p><p>目前在 Github 上 star 数量比较多的有 Next 主题、yillia 主题等，Next 主题基本占据了 Hexo 博客的半壁江山，并且 Next 主题集成功能较多，因此我下面只介绍 Next 主题的使用方式。</p><p>首先我们可以打开 Github，全局搜索 <code>hexo-next</code> ，我们会发现是有两个 star 数量比较高的：</p><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/11/13/MGjatK.png" alt="hexo-next"></p><div class="note info">其中第一个是 Next5 版本的，而第二个是 Next6 版本的。2019/7/27 更新：第二个 Github 仓库目前一直是 Next 主题更新最新版本的的仓库，目前已经更新到 v7.2.0，以下内容仅供参考。</div><p>注意上面说的版本关系，在 Next6 版本上其实增加了很多 Next5 需要手动配置的东西，并且 Next5 已经停止维护了，如果不太喜欢自己手动去配置的话，建议使用 Next6 版本。当然本博客使用的仍然是 Next5 版本，如果需要我的个性化设置的话也可以留言。</p><p>下面我们来安装 Next 主题。</p><h3 id="下载-Next-主题"><a href="#下载-Next-主题" class="headerlink" title="下载 Next 主题"></a>下载 Next 主题</h3><p>以下均以 Next6 版本为例，Next5 版本操作基本一样。</p><p>进入<a href="https://github.com/theme-next/hexo-theme-next" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/theme-next/hexo-theme-next</a></p><p>我们安装 Next6 版本的话，有两种方式：</p><ol><li>在 GitBash 中 cd 到博客根目录下，然后使用 git clone 命令将 Next 仓库克隆到 hexo 目录下的 <code>themes/next</code> ，即命令是 <code>git clone https://github.com/theme-next/hexo-theme-next.git themes/next</code></li><li>直接在 Github 页面上选择绿色的按钮 <code>Clone or Download</code> ，点击下载 zip 压缩包。</li></ol><p>如果第一种方式比较慢的话，可以直接选择第二种方式直接下载，然后将下载好的压缩包解压后放在 <code>E:\blog\hexo\themes\</code> 下面，<code>git clone</code> 的话也是在这个下面，下载好后的名字可以任取。</p><h3 id="设置-hexo-博客为-Next-主题"><a href="#设置-hexo-博客为-Next-主题" class="headerlink" title="设置 hexo 博客为 Next 主题"></a>设置 hexo 博客为 Next 主题</h3><p>在站点根目录下_config.xml配置文件中，找到如下代码并进行配置：</p><p>文件位置：hexo/_config.xml</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DIFF"><figure class="iseeu highlight /diff"><table><tr><td class="code"><pre><span class="line"># Extensions</span><br><span class="line">## Plugins: https://hexo.io/plugins/</span><br><span class="line">## Themes: https://hexo.io/themes/</span><br><span class="line"><span class="deletion">- theme: landscape      # 更改原始默认的主题名称，修改为如下</span></span><br><span class="line"><span class="addition">+ theme: hexo-theme-next   # 此处填入你在themes目录下的next主题文件名</span></span><br></pre></td></tr></table></figure></div><h3 id="测试-Next-主题"><a href="#测试-Next-主题" class="headerlink" title="测试 Next 主题"></a>测试 Next 主题</h3><p>在 <code>GitBash</code> 中输入</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure></div><p>等待启动完成在浏览器中输入<a href="http://localhost:4000即可查看安装好的" rel="external nofollow noopener noreferrer" target="_blank">http://localhost:4000即可查看安装好的</a> Next 主题！</p><h1 id="Next-主题基本功能配置"><a href="#Next-主题基本功能配置" class="headerlink" title="Next 主题基本功能配置"></a>Next 主题基本功能配置</h1><p>Next 主题安装好后的初始界面也是很简洁的，我们可以先设置一些常用功能😊。</p><p>首先为了防止懵逼，再次友情提醒：在这里修改的一律是主题配置文件 <code>_config.xml</code> ，目录是 <code>hexo/themes/next/_config.xml</code> ，千万不要走错地方了！</p><p>我们打开 <code>_config.xml</code> 主题配置文件对应一一修改。</p><div class="note danger">由于配置文件是 yml，如果对 yml 语法不太熟的小伙伴，注意每个配置之间都必须有空格，不然报错。如 <code>override: false</code> ，注意英文冒号 <code>:</code> 后面有一个空格，所有 yml 语法都是这样。</div><p>以下默认使用的文本编辑器为 notepad++、WebStorm 或者 sublime，主题使用的是 Next6 版本（注意 Next 官方会不断进行更新，所以下面的不一定都有效，因为官方正在不断集成更多功能，具体地可以自行在配置文件中探索~）</p><p>以下均在 <code>hexo s</code> 在线调试环境中进行修改~</p><h2 id="网站favicon图标设置"><a href="#网站favicon图标设置" class="headerlink" title="网站favicon图标设置"></a>网站favicon图标设置</h2><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/11/13/MJSy28.png" alt="favicon"></p><p>favicon 图标相当于是网站的 logo 简化版，所以我们也可以给自己的网站添加一个 favicon 图标，使用notepad++、WebStorm 或者 sublime 打开配置文件后，使用 <code>Ctrl+F</code> 搜索 <code>favicon</code></p><p>文件位置：hexo/themes/next/_config.xml</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">favicon:</span><br><span class="line">  small: /images/favicon-16x16-next.png  <span class="comment"># 网站小图标</span></span><br><span class="line">  medium: /images/favicon-32x32-next.png   <span class="comment"># 中等图标</span></span><br><span class="line">  apple_touch_icon: /images/apple-touch-icon-next.png  <span class="comment"># app_touch上显示图标   </span></span><br><span class="line">  safari_pinned_tab: /images/logo.svg   <span class="comment"># 在Safari浏览器中显示图标</span></span><br><span class="line">  <span class="comment">#android_manifest: /images/manifest.json  # 安卓默认显示同普通情况下</span></span><br><span class="line">  <span class="comment">#ms_browserconfig: /images/browserconfig.xml</span></span><br></pre></td></tr></table></figure></div><p>网站 favicon 图标可以放到你的 next 主题目录下面的 <code>source/images</code> 中，然后按照上述相对路径方式引用，这里 favicon 图标不需要非得是 ico 格式的，也可以是 png 或其它图片格式。</p><p>如果是有第三方图床放图片链接的，也可以直接改成图片链接。</p><h2 id="网站页脚小心心定义"><a href="#网站页脚小心心定义" class="headerlink" title="网站页脚小心心定义"></a>网站页脚小心心定义</h2><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/11/13/MJ9RNn.png" alt="heart"></p><p>在 Next5 版本中需要手动修改设置，但是在 Next6 中已经集成好这个功能了，搜索 footer，设置如下，就可以在页脚看到跳动的小心心啦</p><p>文件位置：hexo/themes/next/_config.xml</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">footer:</span><br><span class="line">  <span class="comment"># 指定网站开始运行的年份，如果不指定，则默认为当前年份</span></span><br><span class="line">  since: 2019</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 在页脚年份和版权信息中间显示的图标</span></span><br><span class="line">  icon:</span><br><span class="line">    <span class="comment"># 图标形状显示，可以参考 https://fontawesome.com/v4.7.0/icons 中的名字</span></span><br><span class="line">    <span class="comment"># 官方建议使用 heart 图标，颜色设置为 #ff0000，这也显示的是跳动的心</span></span><br><span class="line">    name: heart</span><br><span class="line">    <span class="comment"># 如果想要图标跳动，下面设置为 true</span></span><br><span class="line">    animated: <span class="literal">true</span></span><br><span class="line">    <span class="comment"># 改变图标颜色</span></span><br><span class="line">    color: <span class="string">"#ff0000"</span></span><br></pre></td></tr></table></figure></div><h2 id="关闭底部由-hexo-强力驱动的广告"><a href="#关闭底部由-hexo-强力驱动的广告" class="headerlink" title="关闭底部由 hexo 强力驱动的广告"></a>关闭底部由 hexo 强力驱动的广告</h2><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/11/13/MJiCtA.png" alt="HEXO-驱动"></p><p>由于默认的页面中 hexo 会在网页底部居中位置打个广告（要恰饭的嘛），但是官方还是很良心的在配置文件中设置了广告开关，还是在上面 footer 中，如下配置全部设置为 false 就可以关闭广告了。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DIFF"><figure class="iseeu highlight /diff"><table><tr><td class="code"><pre><span class="line">  powered:</span><br><span class="line">    # Hexo link (Powered by Hexo).</span><br><span class="line"><span class="deletion">-    enable: false</span></span><br><span class="line">    # Version info of Hexo after Hexo link (vX.X.X).</span><br><span class="line"><span class="deletion">-    version: false</span></span><br><span class="line"></span><br><span class="line">  theme:</span><br><span class="line">    # Theme &amp; scheme info link (Theme - NexT.scheme).</span><br><span class="line"><span class="deletion">-    enable: false</span></span><br><span class="line">    # Version info of NexT after scheme info (vX.X.X).</span><br><span class="line"><span class="deletion">-    version: false</span></span><br></pre></td></tr></table></figure></div><h2 id="菜单栏设置"><a href="#菜单栏设置" class="headerlink" title="菜单栏设置"></a>菜单栏设置</h2><p>在配置文件中搜索 menu，找到如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: / || home</span><br><span class="line">  <span class="comment">#about: /about/ || user</span></span><br><span class="line">  <span class="comment">#tags: /tags/ || tags</span></span><br><span class="line">  <span class="comment">#categories: /categories/ || th</span></span><br><span class="line">  archives: /archives/ || archive</span><br><span class="line">  <span class="comment">#schedule: /schedule/ || calendar</span></span><br><span class="line">  <span class="comment">#sitemap: /sitemap.xml || sitemap</span></span><br><span class="line">  <span class="comment">#commonweal: /404/ || heartbeat</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable/Disable menu icons.</span></span><br><span class="line">menu_icons:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span>  <span class="comment">#表示是否显示菜单图标icons</span></span><br><span class="line">  badges: <span class="literal">false</span>  <span class="comment"># 显示每个菜单下面有多少个内容</span></span><br></pre></td></tr></table></figure></div><p>其中 <code>||</code> 后面表示的 Fontawesome 中的图标名称，如果想要修改图标，可以去<a href="http://www.fontawesome.com.cn/" rel="external nofollow noopener noreferrer" target="_blank">FontAwesome官网</a>找自己喜欢的图标样式，前面部分 <code>/about/</code> 是表示该菜单的相对链接，比如网站主页访问是 <code>https://bestzuo.cn</code> ，那么点击这个菜单栏的链接就变成了 <code>https://bestzuo.cn/about/</code> 这种形式。</p><p>如果需要增加菜单栏的话，可以在 Gitbash 中输入以下命令：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">hexo new page <span class="string">"photos"</span></span><br><span class="line"></span><br><span class="line">//或者可以间写为如下形式</span><br><span class="line"></span><br><span class="line">hexo n page <span class="string">"photos"</span></span><br></pre></td></tr></table></figure></div><p>这样就会自动在 <code>hexo/source</code> 目录下生成一个文件夹，而且里面是一个 <code>index.md</code> 文件，Node.js 最终会把这个 md 文件渲染成 html 文件，所以菜单栏中内容就在这个 md 文件中写就可以，并且文章内支持 html 写法，所以具有很强的扩展性🤣，创建之后，就需要在配置文件这个地方添加上新增菜单的名称以及链接格式和 FontAwesome 图标，然后打开 <code>hexo/themes/next/languages/zh-CN.yml</code> 文件，在 menu 下面按照格式汉化你的菜单栏名称~</p><h2 id="Next主题四种风格设置"><a href="#Next主题四种风格设置" class="headerlink" title="Next主题四种风格设置"></a>Next主题四种风格设置</h2><p>Next 主题支持四种内置风格，每个人喜欢的风格都不同，可以在基础风格上继续进行魔改。搜索 schema，找到如下代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Schemes</span></span><br><span class="line">scheme: Muse</span><br><span class="line"><span class="comment">#scheme: Mist</span></span><br><span class="line"><span class="comment">#scheme: Pisces</span></span><br><span class="line"><span class="comment">#scheme: Gemini</span></span><br></pre></td></tr></table></figure></div><p>四种风格样式可以自己进行切换，可以在本地 <code>hexo g &amp;&amp; hexo s</code> 后在线调试这个地方的代码，喜欢哪个就选哪个吧~</p><h2 id="社交链接设置"><a href="#社交链接设置" class="headerlink" title="社交链接设置"></a>社交链接设置</h2><p>社交链接主要是在侧边栏中展示的，一般都是自己的各种网站主页。搜索 social，找到如下代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#social:</span></span><br><span class="line">  <span class="comment">#GitHub: https://github.com/yourname || github</span></span><br><span class="line">  <span class="comment">#E-Mail: mailto:yourname@gmail.com || envelope</span></span><br><span class="line">  <span class="comment">#Google: https://plus.google.com/yourname || google</span></span><br><span class="line">  <span class="comment">#Twitter: https://twitter.com/yourname || twitter</span></span><br><span class="line">  <span class="comment">#FB Page: https://www.facebook.com/yourname || facebook</span></span><br><span class="line">  <span class="comment">#VK Group: https://vk.com/yourname || vk</span></span><br><span class="line">  <span class="comment">#StackOverflow: https://stackoverflow.com/yourname || stack-overflow</span></span><br><span class="line">  <span class="comment">#YouTube: https://youtube.com/yourname || youtube</span></span><br><span class="line">  <span class="comment">#Instagram: https://instagram.com/yourname || instagram</span></span><br><span class="line">  <span class="comment">#Skype: skype:yourname?call|chat || skype</span></span><br></pre></td></tr></table></figure></div><p>后面的 yourname 改成你自己在对应网站的 ID，然后将前面的 # 注释去掉。其中 <code>||</code> 后面还是表示该链接前面的图标在 FontAwesome 中的名称，可以进行自定义修改。</p><h2 id="友情链接设置"><a href="#友情链接设置" class="headerlink" title="友情链接设置"></a>友情链接设置</h2><p>友情链接也是处于侧边栏中的，这里可以完全自定义内容，一般可以用来放社交圈子链接（不过一般博客都会单独做一个页面放其它人的博客友链）。搜索 links，找到如下配置</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Blog rolls</span></span><br><span class="line">links_icon: link</span><br><span class="line">links_title: Links</span><br><span class="line">links_layout: block</span><br><span class="line"><span class="comment">#links_layout: inline</span></span><br><span class="line"><span class="comment">#links:</span></span><br><span class="line">  <span class="comment">#Title: http://example.com/</span></span><br></pre></td></tr></table></figure></div><p>这里可以添加你想要的友情链接，比如可以添加百度链接：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Blog rolls</span></span><br><span class="line">links_icon: link  <span class="comment"># 链接对应的Fontawesome图标名称</span></span><br><span class="line">links_title: Links <span class="comment"># 设置链接标题，可以自定义</span></span><br><span class="line">links_layout: block   <span class="comment"># 图标布局方式，有inline和block两种</span></span><br><span class="line"><span class="comment">#links_layout: inline</span></span><br><span class="line">links:</span><br><span class="line">  Baidu: https://www.baidu.com/</span><br><span class="line">  Github: https://github.com/</span><br></pre></td></tr></table></figure></div><h2 id="侧边栏设置"><a href="#侧边栏设置" class="headerlink" title="侧边栏设置"></a>侧边栏设置</h2><p>搜索 sidebar，找到如下配置</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">sidebar:</span><br><span class="line">  <span class="comment"># Sidebar Position, available value: left | right (only for Pisces | Gemini).</span></span><br><span class="line">  <span class="comment"># 此处设置只适用于Pisces或者Gemini风格</span></span><br><span class="line">  position: left</span><br><span class="line">  <span class="comment">#position: right</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 侧边栏如何展示</span></span><br><span class="line">  display: post    <span class="comment"># 侧边栏在打开文章的时候显示</span></span><br><span class="line">  <span class="comment">#display: always  # 侧边栏不管在哪都显示</span></span><br><span class="line">  <span class="comment">#display: hide    # 隐藏侧边栏</span></span><br><span class="line">  <span class="comment">#display: remove  # 移除侧边栏</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Sidebar offset from top menubar in pixels (only for Pisces | Gemini).</span></span><br><span class="line">  offset: 12</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 设置返回页面顶部设置，只适用于Pisces或者Gemini风格，建议开启</span></span><br><span class="line">  b2t: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 显示浏览百分比，建议开启</span></span><br><span class="line">  scrollpercent: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Enable sidebar on narrow view (only for Muse | Mist).</span></span><br><span class="line">  onmobile: <span class="literal">false</span></span><br></pre></td></tr></table></figure></div><h2 id="文章开启阅读更多按钮"><a href="#文章开启阅读更多按钮" class="headerlink" title="文章开启阅读更多按钮"></a>文章开启阅读更多按钮</h2><p>如果不开启阅读更多按钮的话，默认是展示文章中所有内容的，这显然体验不好。</p><p>一般都会在文章中插入 <code>&lt;!--more--&gt;</code> 这种注释形式表示首页展示到注释处为止。或者会使用如下官方配置文件中自带的方式。一般都推荐使用注释的方式，因为下面这种 <code>auto_excerpt</code> 方式不会保留前面的行文样式，但是注释方式会保留样式。</p><p>搜索 auto_excerpt，找到如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">auto_excerpt:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  length: 150 <span class="comment">#到多少字数后不显示</span></span><br></pre></td></tr></table></figure></div><p>默认是关闭的，也就是首页上默认显示整篇文章，而为了显示阅读更多按钮，我们可以开启这个服务。</p><h2 id="文章元数据设置"><a href="#文章元数据设置" class="headerlink" title="文章元数据设置"></a>文章元数据设置</h2><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/11/14/MY7yJe.png" alt="元数据"></p><p>元数据就是显示在 home 页的文章创建于、更新于、阅读次数之类的数据，搜索 post_meta，找到如下配置：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">post_meta:</span><br><span class="line">  item_text: <span class="literal">true</span>  <span class="comment"># 是否显示对应的文字</span></span><br><span class="line">  created_at: <span class="literal">true</span>  <span class="comment"># 是否显示 创建于</span></span><br><span class="line">  updated_at:       <span class="comment"># 是否显示 更新于</span></span><br><span class="line">    enabled: <span class="literal">false</span></span><br><span class="line">    <span class="comment"># 更新日期显示规则，只有更新日期与创建日期不同时，才会显示</span></span><br><span class="line">    another_day: <span class="literal">true</span></span><br><span class="line">  categories: <span class="literal">true</span> <span class="comment"># 是否显示分类信息</span></span><br></pre></td></tr></table></figure></div><p>上面应该已经说明的很详细了吧~</p><h2 id="文章字数统计设置"><a href="#文章字数统计设置" class="headerlink" title="文章字数统计设置"></a>文章字数统计设置</h2><p>由于上面元数据中没有带统计文章字数功能，所以需要利用插件来生成，搜索 post_wordcount，找到如下配置：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Post wordcount display settings</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/hexo-symbols-count-time</span></span><br><span class="line">symbols_count_time:</span><br><span class="line">  separated_meta: <span class="literal">true</span></span><br><span class="line">  item_text_post: <span class="literal">true</span></span><br><span class="line">  item_text_total: <span class="literal">false</span></span><br><span class="line">  awl: 4</span><br><span class="line">  wpm: 275</span><br></pre></td></tr></table></figure></div><p>注意开启上述设置必须要添加 <code>hexo-symbols-count-time</code> 模块依赖，即在 hexo 站点根目录下使用</p><p><code>npm install hexo-symbols-count-time --save</code> 命令安装模块后开启上述功能使用。</p><h2 id="侧边栏头像设置"><a href="#侧边栏头像设置" class="headerlink" title="侧边栏头像设置"></a>侧边栏头像设置</h2><p>侧边栏中没有博主头像是没有灵魂的。Next6 主题中自带鼠标放在头像上能旋转 360度的功能，如果是 Next5 的话需要自己手动配置。</p><p>搜索 avatar，找到如下配置</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Sidebar Avatar</span></span><br><span class="line">avatar:</span><br><span class="line">  <span class="comment"># 如果放在本地(source/images): /images/avatar.gif</span></span><br><span class="line">  <span class="comment"># 如果第三方图床，直接写地址</span></span><br><span class="line">  url:  <span class="comment"># 此处是头像的地址</span></span><br><span class="line">  rounded: <span class="literal">true</span>   <span class="comment"># 设置头像是否为圆形</span></span><br><span class="line">  opacity: 1    <span class="comment"># 设置不透明度，1为完全不透明，0为完全透明</span></span><br><span class="line">  rotated: <span class="literal">true</span>   <span class="comment"># 设置鼠标放到头像上是否旋转</span></span><br></pre></td></tr></table></figure></div><h2 id="代码块设置"><a href="#代码块设置" class="headerlink" title="代码块设置"></a>代码块设置</h2><p>Next6 中自带了复制代码按钮，Next5 需要自己手动配置。</p><p>搜索 codeblock，找到如下配置：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">codeblock:</span><br><span class="line">	border_radius: 8   <span class="comment"># 按钮圆滑度</span></span><br><span class="line">	copy_button:  <span class="comment"># 设置是否开启代码块复制按钮</span></span><br><span class="line">		<span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">		show_result: <span class="literal">true</span>  <span class="comment"># 是否显示复制成功信息</span></span><br></pre></td></tr></table></figure></div><h2 id="开启文章打赏按钮"><a href="#开启文章打赏按钮" class="headerlink" title="开启文章打赏按钮"></a>开启文章打赏按钮</h2><p>一篇辛辛苦苦敲出来的文章，不妨开启一下文章打赏功能，万一真有人给你棒棒糖呢😆 ~</p><p>搜索 reward，找到如下配置并修改：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Reward</span></span><br><span class="line">reward_comment: 坚持原创技术分享，感谢您的支持和鼓励！</span><br><span class="line">wechatpay: <span class="comment"># 微信收款图片地址</span></span><br><span class="line">alipay:  <span class="comment"># 支付宝收款图片地址</span></span><br><span class="line"><span class="comment">#bitcoin: /images/bitcoin.png  # 比特币</span></span><br></pre></td></tr></table></figure></div><h2 id="开启相关文章推荐功能"><a href="#开启相关文章推荐功能" class="headerlink" title="开启相关文章推荐功能"></a>开启相关文章推荐功能</h2><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/11/14/MYbnH0.png" alt="相关文章"></p><p>要优化读者体验的话，可以在读者阅读完一篇文章后，能自动推荐相关内容的文章，不仅能考虑读者感受，还能给自己博客文章带来阅读量，岂不是一举两得😆 ？</p><p>搜索 related_posts，找到如下配置：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">related_posts:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span>  <span class="comment"># 是否开启</span></span><br><span class="line">  title: 相关文章推荐    <span class="comment"># 标题</span></span><br><span class="line">  display_in_home: <span class="literal">false</span> <span class="comment"># 是否在首页显示，建议为false</span></span><br><span class="line">  params:</span><br><span class="line">    maxCount: 5   <span class="comment"># 相关文章的最大数量</span></span><br><span class="line">    <span class="comment">#PPMixingRate: 0.0</span></span><br><span class="line">    <span class="comment">#isDate: false</span></span><br><span class="line">    <span class="comment">#isImage: false</span></span><br><span class="line">    <span class="comment">#isExcerpt: false</span></span><br></pre></td></tr></table></figure></div><p>开启相关文章推荐需要安装 <code>hexo-related-popular-posts</code> 模块，即在 hexo 站点根目录下使用 <code>npm install hexo-related-popular-posts --save</code> 安装模块，然后开启上面的相关文章功能就可以啦~</p><h2 id="开启文章版本信息"><a href="#开启文章版本信息" class="headerlink" title="开启文章版本信息"></a>开启文章版本信息</h2><p>搜索 post_copyright，找到配置</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">post_copyright:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">false</span></span><br><span class="line">  license: CC BY-NC-SA 3.0</span><br><span class="line">  license_url: https://creativecommons.org/licenses/by-nc-sa/3.0/</span><br></pre></td></tr></table></figure></div><p>设置为 true 可以打开，这样在每篇文章最后都会有版权提示。</p><h2 id="代码块风格设置"><a href="#代码块风格设置" class="headerlink" title="代码块风格设置"></a>代码块风格设置</h2><p>搜索 highlight_theme，有以下多种风格：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Code Highlight theme</span></span><br><span class="line"><span class="comment"># Available values: normal | night | night eighties | night blue | night bright</span></span><br><span class="line"><span class="comment"># https://github.com/chriskempson/tomorrow-theme</span></span><br><span class="line">highlight_theme: night eighties</span><br></pre></td></tr></table></figure></div><p>可以自己修改上面 normal 、night 、 night eighties 、 night blue 、night bright 在线调试选择自己喜欢的风格。</p><h2 id="添加valine评论系统"><a href="#添加valine评论系统" class="headerlink" title="添加valine评论系统"></a>添加valine评论系统</h2><p>没有评论系统的博客是没有灵魂的，不仅如此，当前免费开源的评论系统中，valine 因为简洁并且支持匿名留言得到很多博主的喜爱，而像其它的来必力（韩国的）、Gitalk（Github的）等都有这样那样的缺点，不太建议使用。</p><p>需要注意的是valine后台评论保存是依赖于 leancloud的，leancloud 是一个面向个人用户免费的存储系统（当然不止是提供存储功能，还有其它服务），我们需要在 leancloud 官网注册，具体步骤可以看<a href="https://valine.js.org/" rel="external nofollow noopener noreferrer" target="_blank">valine的官方文档</a>介绍。</p><p>搜索 valine，找到如下配置：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">valine:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  appid:   <span class="comment"># your leancloud application appid</span></span><br><span class="line">  appkey:  <span class="comment"># your leancloud application appkey</span></span><br><span class="line">  notify: <span class="literal">false</span> <span class="comment"># mail notifier , https://github.com/xCss/Valine/wiki</span></span><br><span class="line">  verify: <span class="literal">false</span> <span class="comment"># Verification code</span></span><br><span class="line">  placeholder: 留下邮箱，有回复时你将收到提醒，邮箱不会被公开。 <span class="comment"># comment box placeholder</span></span><br><span class="line">  avatar: wavatar <span class="comment"># gravatar style https://valine.js.org/avatar/</span></span><br><span class="line">  guest_info: nick,mail <span class="comment"># custom comment header default: nick,mail,link</span></span><br><span class="line">  pageSize: 10 <span class="comment"># pagination size</span></span><br></pre></td></tr></table></figure></div><p>注意由于 valine 依赖于 leancloud 存储服务，因此要先去 <a href="https://leancloud.cn" rel="external nofollow noopener noreferrer" target="_blank">https://leancloud.cn</a> 网站注册，获取到 appid 和 appkey 后放到这里就 ok 了。其中 avatar 是设置默认头像，可以去 <a href="https://valine.js.org/avatar" rel="external nofollow noopener noreferrer" target="_blank">https://valine.js.org/avatar</a> 选择默认头像，然后在这里设置名字即可。具体使用可以参考<a href="https://valine.js.org/" rel="external nofollow noopener noreferrer" target="_blank">valine的官方文档</a>。</p><h2 id="开启分享按钮"><a href="#开启分享按钮" class="headerlink" title="开启分享按钮"></a>开启分享按钮</h2><p>百度分享对国内网站来说更友好一些，搜索 baidushare，找到如下代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">baidushare:</span><br><span class="line">  <span class="built_in">type</span>: button  <span class="comment"># 设置分享按钮的风格，有button何slide形式</span></span><br></pre></td></tr></table></figure></div><p>将注释去掉打开即可，虽然说是默认不支持 https 格式，但是网上有解决方案，可以 Google 一下。</p><p>如果嫌麻烦的话，也可以使用下面支持 https 的 needmoreshare。如果要开启 needmoreshare 的话，可以搜索 needmoreshare2，找到如下代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">needmoreshare2:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">false</span></span><br><span class="line">  postbottom:</span><br><span class="line">    <span class="built_in">enable</span>: <span class="literal">false</span></span><br><span class="line">    options:</span><br><span class="line">      iconStyle: box</span><br><span class="line">      boxForm: horizontal</span><br><span class="line">      position: bottomCenter</span><br><span class="line">      networks: Weibo,Wechat,Douban,QQZone,Twitter,Facebook</span><br><span class="line">  <span class="built_in">float</span>:</span><br><span class="line">    <span class="built_in">enable</span>: <span class="literal">false</span></span><br><span class="line">    options:</span><br><span class="line">      iconStyle: box</span><br><span class="line">      boxForm: horizontal</span><br><span class="line">      position: middleRight</span><br><span class="line">      networks: Weibo,Wechat,Douban,QQZone,Twitter,Facebook</span><br></pre></td></tr></table></figure></div><p>注意 needmoreshare2 是依赖 theme-next-needmoreshare2 模块的，可以去 <a href="https://github.com/theme-next/theme-next-needmoreshare2" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/theme-next/theme-next-needmoreshare2</a> 找到使用方法。</p><h2 id="设置文章阅读量"><a href="#设置文章阅读量" class="headerlink" title="设置文章阅读量"></a>设置文章阅读量</h2><p>搜索 leancloud_visitors，并进行如下配置：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">leancloud_visitors:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  app_id: </span><br><span class="line">  app_key: </span><br><span class="line">  <span class="comment"># Dependencies: https://github.com/theme-next/hexo-leancloud-counter-security</span></span><br><span class="line">  <span class="comment"># If you don't care about security in lc counter and just want to use it directly</span></span><br><span class="line">  <span class="comment"># (without hexo-leancloud-counter-security plugin), set the `security` to `false`.</span></span><br><span class="line">  security: <span class="literal">false</span></span><br><span class="line">  betterPerformance: <span class="literal">true</span></span><br></pre></td></tr></table></figure></div><p>这个功能依赖 hexo-leancloud-counter-security 模块，需要安装该插件。</p><p>注意这个 appid 和 appkey 跟上面开启 valine 评论使用的 leanCloud 是一样的，但是需要在 leancloud 中创建 classes 对象存储，具体方式可以 Google 一下。</p><h2 id="开启不蒜子统计功能"><a href="#开启不蒜子统计功能" class="headerlink" title="开启不蒜子统计功能"></a>开启不蒜子统计功能</h2><p>目前不蒜子统计网站统计做的还可以，网站访问量主要是分为 pv 和 uv 两种，pv 是指页面访问量，每访问一次或者刷新一次页面后该页面的 pv+1，而 uv 是指独立 ip 访问量，就是说一天内同一 ip 访问一个页面 N 次，uv 都只是 + 最开始的那一次。一般用 pv 作为页面的访问量，uv 作为页面的访客量。</p><p>搜索 busuanzi_count，可以配置如下，也可以使用默认设置。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Show Views/Visitors of the website/page with busuanzi.</span></span><br><span class="line"><span class="comment"># Get more information on http://ibruce.info/2015/04/04/busuanzi/</span></span><br><span class="line">busuanzi_count:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  site_uv: <span class="literal">true</span> <span class="comment">#total visitors</span></span><br><span class="line">  site_uv_icon:  <span class="comment">#user-circle</span></span><br><span class="line">  site_uv_header: 你是来访的第</span><br><span class="line">  site_uv_footer: 位小伙伴</span><br><span class="line">  site_pv: <span class="literal">false</span> <span class="comment">#total views</span></span><br><span class="line">  site_pv_icon: eye</span><br><span class="line">  site_pv_header: 访问次数：</span><br><span class="line">  site_pv_footer: 次</span><br><span class="line">  post_views: <span class="literal">false</span></span><br><span class="line">  post_views_icon: eye</span><br></pre></td></tr></table></figure></div><p>注意其中的 post_views 与上面的 leanCloud_visitors 冲突，两者都是显示文章阅读量，只开启一个就可以了。</p><h2 id="开启本地博客搜索功能"><a href="#开启本地博客搜索功能" class="headerlink" title="开启本地博客搜索功能"></a>开启本地博客搜索功能</h2><p>提升读者用户体验，博客内肯定是需要一个全局搜索按钮的。当然hexo已经集成了几款开源的搜索插件，一般都使用的是 local_search。</p><p>搜索 local_search，设置代码如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/hexo-generator-searchdb</span></span><br><span class="line">local_search:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  <span class="comment"># if auto, trigger search by changing input</span></span><br><span class="line">  <span class="comment"># if manual, trigger search by pressing enter key or search button</span></span><br><span class="line">  trigger: auto</span><br><span class="line">  <span class="comment"># show top n results per article, show all results by setting to -1</span></span><br><span class="line">  top_n_per_article: 1</span><br><span class="line">  <span class="comment"># unescape html strings to the readable one</span></span><br><span class="line">  unescape: <span class="literal">false</span>`</span><br></pre></td></tr></table></figure></div><p>注意该搜索功能需要依赖 <code>hexo-generator-searchdb</code> 插件，依然还是使用命令 <code>npm install hexo-generator-searchdb --save</code> 来进行安装。然后 在 hexo 站点根目录配置文件 _config.xml 的末尾，加入以下代码即可。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  <span class="built_in">limit</span>: 10000</span><br></pre></td></tr></table></figure></div><h2 id="修改加载特效"><a href="#修改加载特效" class="headerlink" title="修改加载特效"></a>修改加载特效</h2><p>由于网页不可能一直都秒进，总会等待一段时间的，所以可以修改一下加载的特效。Next 已经集成了很多加载特效，可以在下面选项中在线调试测试一下。</p><p>搜索 pace，找到如下代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Progress bar in the top during page loading.</span></span><br><span class="line">pace: <span class="literal">false</span></span><br><span class="line"><span class="comment"># Themes list:</span></span><br><span class="line"><span class="comment">#pace-theme-big-counter</span></span><br><span class="line"><span class="comment">#pace-theme-bounce</span></span><br><span class="line"><span class="comment">#pace-theme-barber-shop</span></span><br><span class="line"><span class="comment">#pace-theme-center-atom</span></span><br><span class="line"><span class="comment">#pace-theme-center-circle</span></span><br><span class="line"><span class="comment">#pace-theme-center-radar</span></span><br><span class="line"><span class="comment">#pace-theme-center-simple</span></span><br><span class="line"><span class="comment">#pace-theme-corner-indicator</span></span><br><span class="line"><span class="comment">#pace-theme-fill-left</span></span><br><span class="line"><span class="comment">#pace-theme-flash</span></span><br><span class="line"><span class="comment">#pace-theme-loading-bar</span></span><br><span class="line"><span class="comment">#pace-theme-mac-osx</span></span><br><span class="line"><span class="comment">#pace-theme-minimal</span></span><br><span class="line"><span class="comment"># For example</span></span><br><span class="line"><span class="comment"># pace_theme: pace-theme-center-simple</span></span><br><span class="line">pace_theme: pace-theme-center-radar <span class="comment">#默认设置，可以修改为上述任何一个</span></span><br></pre></td></tr></table></figure></div><p>可以自己修改后使用 <code>hexo s</code> 本地调试挑选自己喜欢的加载样式。</p><h2 id="开启3D背景"><a href="#开启3D背景" class="headerlink" title="开启3D背景"></a>开启3D背景</h2><p>给博客添加 3D 背景特效，说实话我只在最开始折腾博客的时候开过，后来为了提升响应速度，这些不必要的东西都给关闭了。</p><p>配置文件中代码如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Canvas-nest</span></span><br><span class="line">canvas_nest: <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># three_waves</span></span><br><span class="line">three_waves: <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># canvas_lines</span></span><br><span class="line">canvas_lines: <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># canvas_sphere</span></span><br><span class="line">canvas_sphere: <span class="literal">false</span></span><br></pre></td></tr></table></figure></div><p>默认为 false，可以自己逐一设置为 true 然后在本地调试查看3D效果。</p><h1 id="Next主题进阶优化配置"><a href="#Next主题进阶优化配置" class="headerlink" title="Next主题进阶优化配置"></a>Next主题进阶优化配置</h1><p>在介绍完 Next 主题的基本配置后，下面才是本文的重头戏，在 Next 进阶配置时，一定需要你懂一些 CSS 和基本的前端知识，不然报错了可能你根本无从寻找问题原因，或者在进行大面积修改前先将主题备份一份，这样出错后找不到原因还能及时止损😂 。</p><h2 id="学会使用浏览器F12定位样式"><a href="#学会使用浏览器F12定位样式" class="headerlink" title="学会使用浏览器F12定位样式"></a>学会使用浏览器F12定位样式</h2><p>发现页面有大量留白？颜色不合自己口味？那就 F12 开始吧，大换装开始！空白区？颜色？背景？圆角矩形？阴影？透明度？超链接样式？侧栏头像圆形并旋转？文章标题前面的竖线和颜色？只需按下 F12，改到自己想要的样式，然后 Copy 到 <code>custom.styl</code> 文件即可。感觉这是 NexT 主题非常棒的设计，因为这让我们能够很方便自定义博客的样式。怎么知道要修改这个文件呢？ 强烈推荐阅读<a href="http://www.cduyzh.com/hexo-settings-3/" rel="external nofollow noopener noreferrer" target="_blank">这篇文章</a>。</p><h3 id="怎么修改？"><a href="#怎么修改？" class="headerlink" title="怎么修改？"></a>怎么修改？</h3><p>浏览器按 F12 即可，建议用 <a href="http://down.tech.sina.com.cn/content/40975.html" rel="external nofollow noopener noreferrer" target="_blank">Google Chrome 浏览器</a>（有梯子的直接去 Google 下载😂），或者<a href="http://www.firefox.com.cn/download/" rel="external nofollow noopener noreferrer" target="_blank">火狐浏览器</a>。因为这两个浏览器属于标准浏览器，如果你按下 F12 后简直特么一脸懵逼，那么别急，硬着头皮慢慢折腾吧哈哈哈嗝～</p><h3 id="快速懵逼到熟悉"><a href="#快速懵逼到熟悉" class="headerlink" title="快速懵逼到熟悉"></a>快速懵逼到熟悉</h3><p>首先按下 F12 后的操作流程图，就是<a href="https://yangbingdong.com/2017/build-blog-hexo-advanced/#%E5%AE%9A%E4%BD%8D%E5%85%83%E7%B4%A0" rel="external nofollow noopener noreferrer" target="_blank">这篇文章</a>中的三步骤，点小箭头定位元素，调试 CSS 代码，最后 Copy 到 <code>custom.styl</code> 。然后懵逼的地方，应该有下面两点：</p><ol><li>按下 F12 后弹出的界面是什么鬼？！</li><li>界面中的 <code>{}</code> 前面的和里面的英文是什么鬼？！</li></ol><p>第一点：弹出的界面是为调试设计的，如果你知道调试的是啥，也许就自然了解弹出的界面，所以我不多说，不过还是给一份 Google 官方的资料——<a href="https://developers.google.com/web/tools/chrome-devtools/" rel="external nofollow noopener noreferrer" target="_blank">Chrome 开发者工具</a>。第二点：<code>{}</code> 前面的是 HTML 的元素名，<code>{}</code> 里面的是这个元素的 CSS 样式。</p><p>社交要先有自己原则，一段代码要先声明变量，一个数学问题有前提，一篇论文要先定义名词，到这里我们也必须要先了解一些 HTML 和 CSS 的基本语法知识了，才能继续折腾下去。建议先浏览下 MDN 的 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML" rel="external nofollow noopener noreferrer" target="_blank">HTML</a> 和 <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS" rel="external nofollow noopener noreferrer" target="_blank">CSS</a> 的页面，但没必要记住里面的每一个语法知识，因为这样的记忆是不够深刻也并不高效的，只要浏览下留个印象（为了能找准元素）就行，而记忆是要在实践中记忆的。</p><h3 id="附上我的cutom-styl"><a href="#附上我的cutom-styl" class="headerlink" title="附上我的cutom.styl"></a>附上我的cutom.styl</h3><p>由于原代码比较长，我在<a href="https://hasaik.com/posts/dff7e11c.html">另外一篇博客</a>中已经有专门分享，注意千万不要照搬到你的 <code>custom.styl</code> ！一定要先找对应元素再修改，为了方便大家查看我已经做了一定的注释，仅供大家参考！</p><h2 id="修改博客字体"><a href="#修改博客字体" class="headerlink" title="修改博客字体"></a>修改博客字体</h2><p>博客影响美观的除了样式，就是直接映入读者眼睛的字体了，因此选择一款优雅的字体对博客美感的提升是非常大的，当然，博客字体大小是可以直接修改的：</p><p>文件位置：hexo/themes/next/source/css/_variables/base.styl</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="variable">$font</span>-size-base = 16px</span><br></pre></td></tr></table></figure></div><p>如果你对字体的选择比较感兴趣，推荐阅读：</p><ol><li><a href="https://www.voyax.me/posts/59710/" rel="external nofollow noopener noreferrer" target="_blank">Web 中文字体排版指南</a></li><li><a href="https://blog.coding.net/blog/Web-Fonts" rel="external nofollow noopener noreferrer" target="_blank">Web 字体的选择和运用</a></li><li><a href="https://segmentfault.com/a/1190000006110417" rel="external nofollow noopener noreferrer" target="_blank">如何优雅的选择默认字体（font-family）</a></li><li><a href="http://www.ruanyifeng.com/blog/2014/07/chinese_fonts.html" rel="external nofollow noopener noreferrer" target="_blank">中文字体网页开发指南</a></li><li><a href="https://csspod.com/using-the-system-font-in-web-content/" rel="external nofollow noopener noreferrer" target="_blank">在 Web 内容中使用系统字体</a></li></ol><p>首先对于汉字来说，因为其字体库太大，通常都是调用本地中文字体库。然而，不同设备有不同默认中文字体和中文字体库，想要尽可能在不同设备上有较好的显示效果，就要在调用不同设备的本地字体库中显示效果较好的中文字体。下面附上我参考的大佬的字体选择：</p><p>文件位置：hexo/themes/next/source/css/_variables/base.styl</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">// Font families.</span><br><span class="line"><span class="variable">$font</span>-family-chinese      = <span class="string">"Noto Serif SC"</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$font</span>-family-base         = <span class="variable">$font</span>-family-chinese, sans-serif</span><br><span class="line"><span class="variable">$font</span>-family-base         = get_font_family(<span class="string">'global'</span>), <span class="variable">$font</span>-family-chinese, sans-serif <span class="keyword">if</span> get_font_family(<span class="string">'global'</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable">$font</span>-family-logo         = <span class="variable">$font</span>-family-base</span><br><span class="line"><span class="variable">$font</span>-family-logo         = get_font_family(<span class="string">'logo'</span>), <span class="variable">$font</span>-family-base <span class="keyword">if</span> get_font_family(<span class="string">'logo'</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable">$font</span>-family-headings     = <span class="variable">$font</span>-family-base</span><br><span class="line"><span class="variable">$font</span>-family-headings     = get_font_family(<span class="string">'headings'</span>), <span class="variable">$font</span>-family-base <span class="keyword">if</span> get_font_family(<span class="string">'headings'</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable">$font</span>-family-posts        = <span class="variable">$font</span>-family-base</span><br><span class="line"><span class="variable">$font</span>-family-posts        = get_font_family(<span class="string">'posts'</span>), <span class="variable">$font</span>-family-base <span class="keyword">if</span> get_font_family(<span class="string">'posts'</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable">$font</span>-family-monospace    = consolas, Menlo, <span class="variable">$font</span>-family-chinese, monospace</span><br><span class="line"><span class="variable">$font</span>-family-monospace    = get_font_family(<span class="string">'codes'</span>), consolas, Menlo, <span class="variable">$font</span>-family-chinese, monospace <span class="keyword">if</span> get_font_family(<span class="string">'codes'</span>)</span><br></pre></td></tr></table></figure></div><p>注意：要想 NexT 主题的简体中文字体配置生效，站点配置文件中的 language 必须为 zh-CN。然后对于英文字体，因为其字体库很小，所以想要个性化就简单多了。首先去 <a href="https://fonts.google.com/" rel="external nofollow noopener noreferrer" target="_blank">Google Fonts</a> 找自己喜欢的英文字体，然后编辑主题配置文件，可以查看一下 NexT <a href="http://theme-next.iissnan.com/theme-settings.html#fonts-customization" rel="external nofollow noopener noreferrer" target="_blank">官方文档</a>（<a href="https://theme-next.org/docs/theme-settings/#Fonts-Customization" rel="external nofollow noopener noreferrer" target="_blank">最新版</a>）。下面附上我参考的大佬的英文字体选择：</p><p>文件位置：hexo/themes/next/_config.yml</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">font:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Uri of fonts host. E.g. //fonts.googleapis.com (Default).</span></span><br><span class="line">  <span class="comment"># Google 字体 国内镜像</span></span><br><span class="line">  host:</span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font options:</span></span><br><span class="line">  <span class="comment"># `external: true` will load this font family from `host` above.</span></span><br><span class="line">  <span class="comment"># `family: Times New Roman`. Without any quotes.</span></span><br><span class="line">  <span class="comment"># `size: xx`. Use `px` as unit.</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Global font settings used on &lt;body&gt; element.</span></span><br><span class="line">  global:</span><br><span class="line">    external: <span class="literal">true</span></span><br><span class="line"><span class="comment">#    family: Lato</span></span><br><span class="line">    family: EB Garamond <span class="comment"># 字体参考：https://io-oi.me/tech/noto-serif-sc-added-on-google-fonts/#main</span></span><br><span class="line">    size: 16</span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font settings for Headlines (h1, h2, h3, h4, h5, h6).</span></span><br><span class="line">  <span class="comment"># Fallback to `global` font settings.</span></span><br><span class="line">  headings:</span><br><span class="line">    external: <span class="literal">true</span></span><br><span class="line">    family:</span><br><span class="line">    size:</span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font settings for posts.</span></span><br><span class="line">  <span class="comment"># Fallback to `global` font settings.</span></span><br><span class="line">  posts:</span><br><span class="line">    external: <span class="literal">true</span></span><br><span class="line">    family:</span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font settings for Logo.</span></span><br><span class="line">  <span class="comment"># Fallback to `global` font settings.</span></span><br><span class="line">  logo:</span><br><span class="line">    external: <span class="literal">true</span></span><br><span class="line">    family:</span><br><span class="line">    size:</span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font settings for &lt;code&gt; and code blocks.</span></span><br><span class="line">  codes:</span><br><span class="line">    external: <span class="literal">true</span></span><br><span class="line">    family:</span><br><span class="line">    size:</span><br></pre></td></tr></table></figure></div><p>其它字体设置可以参考<a href="https://io-oi.me/tech/noto-serif-sc-added-on-google-fonts.html" rel="external nofollow noopener noreferrer" target="_blank">这篇文章</a>。</p><h2 id="博客推广及优化"><a href="#博客推广及优化" class="headerlink" title="博客推广及优化"></a>博客推广及优化</h2><p>想要自己写的博客能被别人看到？希望能得到别人的评论肯定？渴望分享技术？那么博客推广肯定是必不可少了😙。</p><h3 id="手动推广"><a href="#手动推广" class="headerlink" title="手动推广"></a>手动推广</h3><p>大概就是在其它博客或者视频等信息流下面留下自己的博客地址，比如第一件事咱们可以去 next 主题<a href="https://github.com/iissnan/hexo-theme-next/issues/119" rel="external nofollow noopener noreferrer" target="_blank">专门的博客分享的issue区</a>留下自己的爪印，或者在搜索引擎中搜索使用 hexo+next 搭建博客的热门教程中，在评论区留下地址，这样就可以手动引流啦。</p><h3 id="搜索引擎SEO收录"><a href="#搜索引擎SEO收录" class="headerlink" title="搜索引擎SEO收录"></a>搜索引擎SEO收录</h3><p>当然手动引流不是长久之计，搜索引擎是互联网上寻找资源的重要手段，而要让别人能够在搜索结果中看到自己的博客文章链接，就必须让搜索引擎收录，怎么操作呢？</p><p>可以直接参考<a href="http://www.ehcoo.com/seo.html" rel="external nofollow noopener noreferrer" target="_blank">这篇文章</a>，写的很详细，学会自己使用站长工具抓取自己的网页，然后请求搜索引擎收录 ，查看收录量可以在百度或者 Google 中使用 <code>site:hasaik.com</code> 即site:后面加上域名的方式，如果你是使用 Github Pages，由于百度是默认不抓取 Github 的，所以也需要使用上述方式进行提交。</p><p>其它优化可以看我的<a href="https://hasaik.com/posts/495d0b23.html">另外一篇博客</a>。</p><h3 id="间接影响"><a href="#间接影响" class="headerlink" title="间接影响"></a>间接影响</h3><p>除了直接被搜索引擎收录之外，如果有其它被搜索引擎收录的文章中，引用你的某篇文章的链接地址，那么同样可以引流到你的博客，这种称为间接影响，不要小看间接影响，如果你的博客写的很好，经常被引用的话，那么间接影响带来的流量是非常巨大的，但是其中会有一个问题，通过“引流”到达的流量，你需要尽可能地将用户留在自己的博客上，那么如何吸引用户呢？当然是有两个方面：</p><ol><li>博客装饰美观</li><li>文章质量高</li></ol><p>读者的第一印象往往是读者需要阅读的内容的质量，如果质量达到要求，那么读者会注意到博客的界面，如果界面很特别的话，那么读者肯定是马上加入了标签，并且选择多停留一下继续浏览博客的其它内容，那么这里就会引出另外一个问题，就是博客的响应速度，如果读者点击某篇文章或者按钮后响应了半天空白，那么你猜他会怎么做？肯定是直接右上角了啊，所以博客的响应速度一定要优化好。</p><p>如果做到上面三点，那么就算好不容易「骗」到一个浏览量，但是这个读者马上被博客和文章惊呆了，看完文章后，这读者心里美滋滋，认为这么好的文章（博客）必须分享啊🌚，于是可能马上来了一大批满怀期待的读者，然后这批读者又……这时文章的读者数（博客的访问量）就不是简单的加法了～</p><h3 id="知识平台"><a href="#知识平台" class="headerlink" title="知识平台"></a>知识平台</h3><p>直接或间接因为 Google 这样的搜索引擎而来的读者，绝大部分都是技术人员，而他们只希望尽快解决自己的技术问题，这也是他们的目的，这就意味着博客上的一首诗还是很难被欣赏。而要想照亮他人，他人必须要能懂自己的文章，这样也才可能有更强的交互——评论。所以为了不浪费自己的光能，能把自己的光能完完整整地贡献给文明，那就必须也让一首诗也有评论，怎么做呢？让读者的类型多样化，不限于技术人员。还好现在大部分读者也不用搜索引擎了，谁在吞食搜索引擎的用户？移动端。智能手机的迅速普及导致搜索引擎已经不是人们获取知识的主要途径，大部分人已经将手机 APP 上的知识平台作为自己获取知识的主要途径，比如：知乎、简书、微信订阅号……所以，你还可以将自己的文章发布在这些知识平台上的相应分类上，然后留个博客链接，吸引更多类型的读者😄～</p><h3 id="谷歌分析"><a href="#谷歌分析" class="headerlink" title="谷歌分析"></a>谷歌分析</h3><p>你怎么知道自己推广的效果？你怎么知道有没有人看了自己的博客？哪篇文章最受欢迎？此时有没有人正浏览着自己的博客？自己的文章有没有被引用？这时最常用的就是强大免费的 <a href="https://analytics.google.com/" rel="external nofollow noopener noreferrer" target="_blank">Google Analytics</a>，推荐博客建好后，就立即使用。</p><p>如何使用？请务必自备梯子查看 <a href="https://analytics.google.com/analytics/academy/course/6" rel="external nofollow noopener noreferrer" target="_blank">Google 官方的教程</a>，开始使用后一定要按照里面的设置，先添加多份 view（数据视图）。</p><h2 id="文章底部加上评分小星星"><a href="#文章底部加上评分小星星" class="headerlink" title="文章底部加上评分小星星"></a>文章底部加上评分小星星</h2><p>淘宝买东西，作为消费者的我们，看评价很重要。现在作为博主，写了一篇文章，很期待读者的反馈。而与淘宝一样，确认收货后，相比评论，更愿意五星好评。那么博客文章怎么加上呢？首先打开主题配置文件：</p><p>文件位置：hexo/themes/next/_config.yml</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Star rating support to each article.</span></span><br><span class="line"><span class="comment"># To get your ID visit https://widgetpack.com</span></span><br><span class="line">rating:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  id:     </span><br><span class="line">  color: f79533</span><br></pre></td></tr></table></figure></div><p>先去注释中的<a href="https://widgetpack.com" rel="external nofollow noopener noreferrer" target="_blank">网站</a>，首页点 Rating，然后注册个帐号，填一下自己博客的信息，左上角有个 ID，填进主题配置文件中就行，<code>color</code> 改成自己喜欢的即可。另：</p><ol><li>可以配置评分方式，侧栏 &gt; Rating &gt; Setting，建议用 IP address 或 Device(cookie)，免登录，毕竟 Socials 里面的选项几乎都被墙，不适合国内网络环境。</li><li>建议在侧栏 &gt; Site &gt; Setting 中勾选 Private 选项。</li><li>上面两步勾选后别忘了点击页面右下方的 SAVE SETTING 绿色按钮保存。</li></ol><p>如果感觉上下留白太多，咋整？浏览器 F12 找元素，调成自己喜欢的值，然后 Copy 到 <code>custom.styl</code> 即可。经过上面的配置，默认最下面只会显示 5 颗小星星，简洁但不明了😂，怎么加上文字说明呢？编辑下面这个文件，Ctrl + F 搜索 <code>rating</code> ，找到这段，对比我给出的，在绿色这行所示的位置，加上自己想要的说明和样式即可。</p><p>文件位置：hexo/themes/next/layout/_macro/post.swig</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DIFF"><figure class="iseeu highlight /diff"><table><tr><td class="code"><pre><span class="line">&#123;% if theme.rating.enable %&#125;</span><br><span class="line">	&lt;div class="wp_rating"&gt;</span><br><span class="line"><span class="addition">+            &lt;div style="color: rgba(0, 0, 0, 0.75); font-size:13px; letter-spacing:3px"&gt;(&amp;gt;看完记得五星好评哦亲&amp;lt;)&lt;/div&gt;</span></span><br><span class="line">			&lt;div id="wpac-rating"&gt;&lt;/div&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></div><h2 id="每篇文章末尾添加致谢"><a href="#每篇文章末尾添加致谢" class="headerlink" title="每篇文章末尾添加致谢"></a>每篇文章末尾添加致谢</h2><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/11/14/MtQLeH.png" alt="致谢"></p><p>在 <code>hexo/themes/next/layout/_macro</code> 中新建一个 <code>passage-end-tag.swig</code> 文件，并添加如下内容：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &#123;% <span class="keyword">if</span> not is_index %&#125;</span><br><span class="line">        &lt;div class=<span class="string">"read-over"</span>&gt;-------------------本文结束 &lt;i class=<span class="string">"fa fa-paw"</span>&gt;&lt;/i&gt; 感谢您的阅读-------------------&lt;/div&gt;</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></div><p>接着打开 <code>\themes\next\layout\_macro\post.swig</code> 文件，在 <code>post-body</code> 之后， <code>post-footer</code> 之前添加如下画绿色部分代码（post-footer 之前两个 div）：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DIFF"><figure class="iseeu highlight /diff"><table><tr><td class="code"><pre><span class="line"><span class="addition">+ &lt;div&gt;</span></span><br><span class="line"><span class="addition">+  &#123;% if not is_index %&#125;</span></span><br><span class="line"><span class="addition">+    &#123;% include 'passage-end-tag.swig' %&#125;</span></span><br><span class="line"><span class="addition">+  &#123;% endif %&#125;</span></span><br><span class="line"><span class="addition">+ &lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;footer class="post-footer"&gt;</span><br></pre></td></tr></table></figure></div><p>最后，在主题配置文件下，在末尾添加：</p><p>文件位置：hexo/themes/next/_config.xml</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 文章末尾添加"本文结束"标记</span></span><br><span class="line">passage_end_tag:</span><br><span class="line">  enabled: <span class="literal">true</span></span><br></pre></td></tr></table></figure></div><h2 id="新增文章时自动打开Markdown编辑器"><a href="#新增文章时自动打开Markdown编辑器" class="headerlink" title="新增文章时自动打开Markdown编辑器"></a>新增文章时自动打开Markdown编辑器</h2><p>由于每次在 GitBash 中使用 <code>hexo n &quot;文章名称&quot;</code> 时还要自己去本地目录中打开编辑器，这对于懒癌患者来说实在是太麻烦了😂，那么不如实现一个监听的 js 代码监听新建文章的命令，只要监听到了就自动打开相应的 Markdown编辑器，这样不就方便多了嘛！</p><p>首先在 <code>hexo/scripts</code> 下新建一个 <code>newpost.js</code> 文件，如果没有 <code>scripts</code> 文件可以手动创建一个。</p><p>如果你是 windows 用户，在这个文件中写入如下代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> spawn = <span class="built_in">require</span>(<span class="string">'child_process'</span>).exec;</span><br><span class="line">hexo.on(<span class="string">'new'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">  spawn(<span class="string">'start  "markdown编辑器绝对路径.exe" '</span> + data.path);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div><p>如果是 mac 用户，就写入如下代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> exec = <span class="built_in">require</span>(<span class="string">'child_process'</span>).exec;</span><br><span class="line">hexo.on(<span class="string">'new'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    exec(<span class="string">'open -a "markdown编辑器绝对路径.app" '</span> + data.path);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div><p>注意里面要修改的是 Markdown 编辑器的绝对路径，我使用的是 Typora ，所以我的绝对路径是 <code>E:\\Typora\\bin\\Typora.exe</code> ，大家可以对应进行修改。</p><h2 id="使用hexo-admin在线发布文章"><a href="#使用hexo-admin在线发布文章" class="headerlink" title="使用hexo-admin在线发布文章"></a>使用hexo-admin在线发布文章</h2><p>最近有不少小伙伴问我这个博客如何在线发布文章，毕竟大多数人都是程序小白，不想使用 GitBash 命令行敲各种命令。所以也有大神做一个 hexo-admin 管理工具，虽然这个东西没有适配完全，但是对于文章管理的基本功能够用。</p><p><a href="https://github.com/jaredly/hexo-admin" class="LinkCard" rel="external nofollow noopener noreferrer" target="_blank">hexo-admin官方地址</a></p><p>官方在线演示地址：<a href="https://jaredforsyth.com/hexo-admin/admin/#/" rel="external nofollow noopener noreferrer" target="_blank">https://jaredforsyth.com/hexo-admin/admin/#/</a></p><p>要使用这个工具，首先需要安装插件：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">npm install --save hexo-admin</span><br></pre></td></tr></table></figure></div><p>安装完成后，要启动的话，使用 <code>hexo s -d</code> 命令，然后打开网址 <code>localhost:4000/admin/</code> 进行登录就可以管理后台了。</p><div class="note warning">注意，安装 hexo-admin 插件后，启动后台页面时 GitBash 可能还是会报错，这是由于 hexo-admin 自身还依赖很多个插件，报错信息上只要提示缺少 module “xxx”时，你只要继续使用上面的命令安装缺少的那个插件xxx就可以了，我当时好像连续装了十几个插件才最终启动成功🌚…</div><p>安装好后，还需要设置登录的账号密码，不然谁都可以使用你的后台管理。第一次登录后，进入 <code>setting</code> 菜单，点击 <code>Setup authentification here</code> 进入用户名密码设置项，按照提示设置后，把生成的代码添加到 <code>hexo/_config.xml</code> 中，如：</p><p>安装好后，还需要设置登录的账号密码，不然谁都可以使用你的后台管理。第一次登录后，进入 <code>setting</code> 菜单，点击 <code>Setup authentification here</code> 进入用户名密码设置项，按照提示设置后，把生成的代码添加到 <code>hexo/_config.xml</code> 中，如：</p><p>文件位置：hexo/_config.xml</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># hexo-admin authentification</span></span><br><span class="line">admin:</span><br><span class="line">  username: xuxu</span><br><span class="line">  password_hash: <span class="variable">$2a</span><span class="variable">$10</span><span class="variable">$anOUoIka5uKSupfpNtu6IOSPvsj2OTPOXC2qpewkP1DmrTZr39Va6</span></span><br><span class="line">  secret: my blog</span><br></pre></td></tr></table></figure></div><p>其中密码是在你设置后进行加密的。</p><p>最后在线 deploy 时，可以打开 <code>Deploy</code> 菜单，第一次点击 Deploy 时会提示 <code>Error: Config value &quot;admin.deployCommand&quot; not found</code> ，这个问题作者已经解决，在上面的配置中添加一行配置：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">admin:</span><br><span class="line">  deployCommand: <span class="string">'./hexo-deploy.sh'</span></span><br></pre></td></tr></table></figure></div><p>就可以在线部署到 Github 了！</p><h2 id="修改侧栏滚动条样式"><a href="#修改侧栏滚动条样式" class="headerlink" title="修改侧栏滚动条样式"></a>修改侧栏滚动条样式</h2><p>默认的侧栏滚动条其实挺丑的，添加如下代码重新渲染页面就可以修改侧栏滚动条了。</p><p>文件位置：hexo/themes/next/source/css/_custom/custom.styl</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CSS"><figure class="iseeu highlight /css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*更好的侧边滚动条*/</span></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-button</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-button</span><span class="selector-pseudo">:start</span><span class="selector-pseudo">:increment</span>,<span class="selector-pseudo">::-webkit-scrollbar-button</span><span class="selector-pseudo">:end</span><span class="selector-pseudo">:decrement</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-corner</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-thumb</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(0,0,0,.2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-thumb</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(0,0,0,.5);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-track</span>,<span class="selector-pseudo">::-webkit-scrollbar-thumb</span> &#123;</span><br><span class="line">  <span class="attribute">border-right</span>: <span class="number">1px</span> solid transparent;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">1px</span> solid transparent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-track</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(0,0,0,.15);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-button</span><span class="selector-pseudo">:start</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="comment">/*background: url(../images/scrollbar_arrow.png) no-repeat 0 0;*/</span>  <span class="comment">/*可以添加滚动条样式*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h2 id="侧栏加入已运行的时间"><a href="#侧栏加入已运行的时间" class="headerlink" title="侧栏加入已运行的时间"></a>侧栏加入已运行的时间</h2><p>我们都有自己的生日，都知道自己的岁数，那为什么不给博客加上，让读者知道博客的年纪呢？操作很简单，而且不是精确到年而是精确到秒，233333～</p><p>首先加入以下代码：</p><p>文件位置：hexo/themes/next/layout/_custom/sidebar.swig</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">"days"</span>&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">show_date_time</span></span>()&#123;</span><br><span class="line">    window.setTimeout(<span class="string">"show_date_time()"</span>, 1000);</span><br><span class="line">    BirthDay=new Date(<span class="string">"05/27/2017 15:13:14"</span>);</span><br><span class="line">    today=new Date();</span><br><span class="line">    timeold=(today.getTime()-BirthDay.getTime());</span><br><span class="line">    sectimeold=timeold/1000</span><br><span class="line">    secondsold=Math.floor(sectimeold);</span><br><span class="line">    msPerDay=24*60*60*1000</span><br><span class="line">    e_daysold=timeold/msPerDay</span><br><span class="line">    daysold=Math.floor(e_daysold);</span><br><span class="line">    e_hrsold=(e_daysold-daysold)*24;</span><br><span class="line">    hrsold=setzero(Math.floor(e_hrsold));</span><br><span class="line">    e_minsold=(e_hrsold-hrsold)*60;</span><br><span class="line">    minsold=setzero(Math.floor((e_hrsold-hrsold)*60));</span><br><span class="line">    seconds=setzero(Math.floor((e_minsold-minsold)*60));</span><br><span class="line">    document.getElementById(<span class="string">'days'</span>).innerHTML=<span class="string">"已运行 "</span>+daysold+<span class="string">" 天 "</span>+hrsold+<span class="string">" 小时 "</span>+minsold+<span class="string">" 分 "</span>+seconds+<span class="string">" 秒"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> setzero(i) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i&lt;10) &#123;</span><br><span class="line">        i=<span class="string">"0"</span> + i</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line">show_date_time();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></div><p>上面 <code>Date</code> 的值记得改为你自己的，且按上面格式，然后修改：</p><p>文件位置：hexo/themes/next/layout/_macro/sidebar.swig</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DIFF"><figure class="iseeu highlight /diff"><table><tr><td class="code"><pre><span class="line">        &#123;# Blogroll #&#125;</span><br><span class="line">        &#123;% if theme.links %&#125;</span><br><span class="line">          &lt;div class="links-of-blogroll motion-element &#123;&#123; "links-of-blogroll-" + theme.links_layout | default('inline') &#125;&#125;"&gt;</span><br><span class="line">            &lt;div class="links-of-blogroll-title"&gt;</span><br><span class="line">              &lt;i class="fa  fa-fw fa-&#123;&#123; theme.links_icon | default('globe') | lower &#125;&#125;"&gt;&lt;/i&gt;</span><br><span class="line">              &#123;&#123; theme.links_title &#125;&#125;&amp;nbsp;</span><br><span class="line">              &lt;i class="fa  fa-fw fa-&#123;&#123; theme.links_icon | default('globe') | lower &#125;&#125;"&gt;&lt;/i&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;ul class="links-of-blogroll-list"&gt;</span><br><span class="line">              &#123;% for name, link in theme.links %&#125;</span><br><span class="line">                &lt;li class="links-of-blogroll-item"&gt;</span><br><span class="line">                  &lt;a href="&#123;&#123; link &#125;&#125;" title="&#123;&#123; name &#125;&#125;" target="_blank"&gt;&#123;&#123; name &#125;&#125;&lt;/a&gt;</span><br><span class="line">                &lt;/li&gt;</span><br><span class="line">              &#123;% endfor %&#125;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line"><span class="addition">+        &#123;% include '../_custom/sidebar.swig' %&#125;</span></span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">         &#123;% endif %&#125;</span><br><span class="line"></span><br><span class="line"><span class="deletion">-        &#123;% include '../_custom/sidebar.swig' %&#125;</span></span><br></pre></td></tr></table></figure></div><p>这样就可以了！当然，要是不喜欢颜色，感觉不好看，就可以在上文所提的 <code>custom.styl</code> 加入：</p><p>文件位置：hexo/themes/next/source/css/_custom/custom.styl</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CSS"><figure class="iseeu highlight /css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*自定义的侧栏时间样式*/</span></span><br><span class="line"><span class="selector-id">#days</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(7, 179, 155);</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">13px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>里面的值 F12 调成自己喜欢的，然后更改即可。要是不想放在侧栏，想放在页脚，自己应该能折腾了吧😄～</p><h2 id="添加博客热门文章页面"><a href="#添加博客热门文章页面" class="headerlink" title="添加博客热门文章页面"></a>添加博客热门文章页面</h2><p>博客已有的分类，如 categories 和 tags，都是基于博主的，那么有没有一种分类是基于读者的呢？有，一种是搜索，另一种就是这里的文章阅读量排行榜。前提是在主题配置文件中配置了 leancloud_visitors，配置方法在基础配置中已经介绍过了。首先新建页面：</p><p>所在目录：hexo/</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">hexo new page <span class="string">"top"</span></span><br></pre></td></tr></table></figure></div><p>然后在主题配置文件中加上菜单 top 和它的 icon：</p><p>文件位置：hexo/themes/next/_config.yml</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">  top: /top/ || signal</span><br></pre></td></tr></table></figure></div><p>接着在语言翻译文件中加上菜单 top：</p><p>文件位置：hexo/themes/next/languages/zh_Hans.yml</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: 首页</span><br><span class="line">  archives: 归档</span><br><span class="line">  categories: 分类</span><br><span class="line">  tags: 标签</span><br><span class="line">  about: 关于</span><br><span class="line">  search: 搜索</span><br><span class="line">  schedule: 日程表</span><br><span class="line">  sitemap: 站点地图</span><br><span class="line">  commonweal: 公益404</span><br><span class="line">  top: 热门排行 /* 可以不为 热门排行，随便取 */</span><br></pre></td></tr></table></figure></div><p>注意：如果你的站点配置文件中的 languages 写的不是 zh-CN，那么这里请更改相应语言配置文件。最后，编辑第一步新建页面生成的文件：</p><p>文件位置：hexo/source/top/index.md</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">title: 文章热度排行</span><br><span class="line">comments: <span class="literal">false</span></span><br><span class="line">date: 2019-11-03 14:37:48</span><br><span class="line"><span class="built_in">type</span>:</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">&lt;div id=<span class="string">"top"</span> style=<span class="string">"margin-top:30px;"</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script src=<span class="string">"//cdn1.lncld.net/static/js/3.0.4/av-min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- &lt;script src=<span class="string">"https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"</span>&gt;&lt;/script&gt; --&gt;</span><br><span class="line">&lt;script&gt;AV.initialize(<span class="string">"app_id"</span>, <span class="string">"app_key"</span>);&lt;/script&gt;</span><br><span class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    var time = 0</span><br><span class="line">    var title = <span class="string">""</span></span><br><span class="line">    var url = <span class="string">""</span></span><br><span class="line">    var query = new AV.Query(<span class="string">'Counter'</span>);</span><br><span class="line">    query.notEqualTo(<span class="string">'id'</span>, 0);</span><br><span class="line">    query.descending(<span class="string">'time'</span>);</span><br><span class="line">    query.limit(1000);</span><br><span class="line">    query.find().<span class="keyword">then</span>(<span class="keyword">function</span> (todo) &#123;</span><br><span class="line">        <span class="keyword">for</span> (var i = 0; i &lt; 1000; i++) &#123;</span><br><span class="line">            var result = todo[i].attributes;</span><br><span class="line">            time = result.time;</span><br><span class="line">            title = result.title;</span><br><span class="line">            url = result.url;</span><br><span class="line">            var content = <span class="string">"&lt;p class='my-article-top'&gt;"</span> + <span class="string">"&lt;font color='#a7a7e5'&gt;"</span> + <span class="string">"➤【热度: "</span> + <span class="string">"&lt;/font&gt;"</span> + <span class="string">"&lt;font color='#f1a8ce'&gt;"</span> + time + <span class="string">" ℃】"</span> + <span class="string">"&lt;/font&gt;"</span> + <span class="string">"&lt;a href='"</span> + url + <span class="string">"'&gt;"</span> + title + <span class="string">"&lt;/a&gt;"</span> + <span class="string">"&lt;/p&gt;"</span>;</span><br><span class="line">            document.getElementById(<span class="string">"top"</span>).innerHTML += content</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="keyword">function</span> (error) &#123;</span><br><span class="line">        console.log(<span class="string">"error"</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;.post-description &#123;</span><br><span class="line">        display: none;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></div><p>必须将里面的里面的 <code>app_id</code> 和 <code>app_key</code> 替换为你的主题配置文件中的值，必须替换里面博客的链接，1000是显示文章的数量，其它可以自己看情况更改。最后，修改样式可以在 <code>custom.styl</code> 中加入自定义代码，不过还有几点需要注意：</p><ol><li>如果在设置 &gt; 安全中心中，没有将<a href="http://localhost:4000加入" rel="external nofollow noopener noreferrer" target="_blank">http://localhost:4000加入</a> Web 安全域名，那么本地调试将看不到，可以先将之加入，调试完后删除。</li><li>如果你发现文章标题显示不对，这是由于更改过文章标题导致的，在存储 &gt; Counter 双击title修改即可。</li></ol><p>注意：如果你的博客使用了 Valine 评论系统，那么可能会有代码冲突问题，解决方法可 Google ~</p><h2 id="文章置顶功能"><a href="#文章置顶功能" class="headerlink" title="文章置顶功能"></a>文章置顶功能</h2><p>由于博客的首页可能是被浏览最多的页面，所以首页的前几篇文章被阅读的可能性比较大。可以利用这个特点，通过将自己认为重要的文章放在首页，从而让重要的文章被阅读的可能性增大😄。但是，默认的排序只有一个维度——时间，两种选择——正序和倒序，这就造成自己的得意之作被埋没了，怎么办呢，如何实现文章的置顶？</p><p>NexT 主题以前有过这个功能，然而由于一些 bugs（<a href="https://github.com/iissnan/hexo-theme-next/issues/415" rel="external nofollow noopener noreferrer" target="_blank">issue</a>）被去掉了。不过在这个丰富的 issue 中，我自己摸索出了一种解决方法，参考了 issue 中的那篇<a href="http://www.netcan666.com/2015/11/22/%E8%A7%A3%E5%86%B3Hexo%E7%BD%AE%E9%A1%B6%E9%97%AE%E9%A2%98/" rel="external nofollow noopener noreferrer" target="_blank">文章</a>。</p><p>首先移除默认安装的插件：</p><p>所在目录：hexo/</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">npm uninstall hexo-generator-index --save</span><br></pre></td></tr></table></figure></div><p>然后安装新插件：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-index-pin-top --save</span><br></pre></td></tr></table></figure></div><p>最后编辑有这需求的相关文章时，在Front-matter（文件最上方以—分隔的区域）加上一行:</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">top: <span class="literal">true</span></span><br></pre></td></tr></table></figure></div><p>然后就行了。如果你置顶了多篇，怎么控制顺序呢？设置top的值（大的在前面），比如：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Post a.md</span></span><br><span class="line">title: a</span><br><span class="line">top: 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># Post b.md</span></span><br><span class="line">title: b</span><br><span class="line">top: 10</span><br></pre></td></tr></table></figure></div><p>那么文章 b 便会显示在文章 a 的前面。可是，没有任何标记啊，读者怎么知道文章置顶了😂～还好 NexT 原有的置顶功能有考虑到这个，且置顶的样式没有被移除，所以可以直接利用，编辑文件加入以下代码：</p><p>文件位置：/themes/next/layout/_macro/post.swig</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DIFF"><figure class="iseeu highlight /diff"><table><tr><td class="code"><pre><span class="line">&lt;div class="post-meta"&gt;</span><br><span class="line">  &lt;span class="post-time"&gt;</span><br><span class="line"></span><br><span class="line"><span class="addition">+     &#123;% if post.top %&#125;</span></span><br><span class="line"><span class="addition">+          &lt;i class="fa fa-thumb-tack"&gt;&lt;/i&gt;</span></span><br><span class="line"><span class="addition">+          &lt;font color=7D26CD&gt;置顶&lt;/font&gt;</span></span><br><span class="line"><span class="addition">+          &lt;span class="post-meta-divider"&gt;|&lt;/span&gt;</span></span><br><span class="line"><span class="addition">+      &#123;% endif %&#125;</span></span><br></pre></td></tr></table></figure></div><h2 id="精品文章"><a href="#精品文章" class="headerlink" title="精品文章"></a>精品文章</h2><p>在 <code>/themes/next/layout/_macro/</code> 路径，找到 <code>post.swig</code> ，在前 <code>文置</code> 顶功能后边，加上如下代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% <span class="keyword">if</span> post.essential%&#125;</span><br><span class="line">     &lt;span class=<span class="string">"post-meta-item-icon"</span>&gt;</span><br><span class="line">         &lt;i class=<span class="string">"fa fa-newspaper-o jingping"</span>&gt;精品&lt;/i&gt;</span><br><span class="line">     &lt;/span&gt;</span><br><span class="line">     &lt;span class=<span class="string">"post-meta-divider"</span>&gt;|&lt;/span&gt;</span><br><span class="line"> &#123;% endif %&#125;</span><br></pre></td></tr></table></figure></div><p>在 <code>themes/next/source/css/_custom/custom.styl</code> 中，增加如下样式：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CSS"><figure class="iseeu highlight /css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.jingping</span>&#123;</span><br><span class="line">  <span class="attribute">background </span>: <span class="number">#00a8c3</span>;</span><br><span class="line">  <span class="attribute">padding</span>:<span class="number">2px</span> <span class="number">4px</span> <span class="number">2px</span> <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>在需要设置精品的文章md文件中，加入如下代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">essential: <span class="literal">true</span></span><br></pre></td></tr></table></figure></div><h2 id="添加近期文章版块"><a href="#添加近期文章版块" class="headerlink" title="添加近期文章版块"></a>添加近期文章版块</h2><p>在 <code>next/layout/_macro/sidebar.swig</code> 中的 <code>if theme.links</code> 对应的 <code>endif</code> 后面添加以下代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;!--近期文章版块 began--&gt;</span><br><span class="line">  &#123;% <span class="keyword">if</span> theme.recent_posts %&#125;</span><br><span class="line">      &lt;div class=<span class="string">"links-of-blogroll motion-element &#123;&#123; "</span>links-of-blogroll-<span class="string">" + theme.recent_posts_layout  &#125;&#125;"</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">"links-of-blogroll-title"</span>&gt;</span><br><span class="line">          &lt;i class=<span class="string">"fa fa-history fa-&#123;&#123; theme.recent_posts_icon | lower &#125;&#125;"</span> aria-hidden=<span class="string">"true"</span>&gt;&lt;/i&gt;</span><br><span class="line">          &#123;&#123; theme.recent_posts_title &#125;&#125;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;ul class=<span class="string">"links-of-blogroll-list"</span>&gt;</span><br><span class="line">          &#123;% <span class="built_in">set</span> posts = site.posts.sort(<span class="string">'-date'</span>) %&#125;</span><br><span class="line">          &#123;% <span class="keyword">for</span> post <span class="keyword">in</span> posts.slice(<span class="string">'0'</span>, <span class="string">'5'</span>) %&#125;</span><br><span class="line">            &lt;li class=<span class="string">'my-links-of-blogroll-li'</span>&gt;</span><br><span class="line">              &lt;a href=<span class="string">"&#123;&#123; url_for(post.path) &#125;&#125;"</span> title=<span class="string">"&#123;&#123; post.title &#125;&#125;"</span> target=<span class="string">""</span>&gt;&#123;&#123; post.title &#125;&#125;&lt;/a&gt;</span><br><span class="line">            &lt;/li&gt;</span><br><span class="line">          &#123;% endfor %&#125;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">&lt;!--近期文章版块 end--&gt;</span><br></pre></td></tr></table></figure></div><p>为了配置方便，在主题的 <code>_config.yml</code> 中添加了几个变量，如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">recent_posts_title: 近期文章</span><br><span class="line">recent_posts_layout: block</span><br><span class="line">recent_posts: <span class="literal">true</span></span><br></pre></td></tr></table></figure></div><h2 id="博客加入canvas粒子时钟"><a href="#博客加入canvas粒子时钟" class="headerlink" title="博客加入canvas粒子时钟"></a>博客加入canvas粒子时钟</h2><p>这是一款很有意思的 HTML5 Canvas 时间动画，总体来说，它是一个可以和客户端同步的时钟，其特点是当时间走动时，数字将会散落成一个个粒子动画。</p><p>在 <code>/themes/next/layout/_custom/</code> 目录下，新建 <code>clock.swig</code> 文件，内容如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">""</span>&gt;</span><br><span class="line">  &lt;canvas id=<span class="string">"canvas"</span> style=<span class="string">"width:60%;"</span>&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--粒子时钟js--&gt;</span><br><span class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span> src=<span class="string">"/js/src/canvas-dance-time.js"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></div><p>在 <code>/themes/next/layout/_macro/sidebar.swig</code> 中引入：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% include <span class="string">'../_custom/clock.swig'</span> %&#125;</span><br></pre></td></tr></table></figure></div><p>可根据自己的偏好来设置具体位置，我是加在了侧栏的末尾。</p><p>在 <code>/themes/next/source/js/src</code> 目录下，新建 <code>canvas-dance-time.js</code> 文件，内容如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    var WINDOW_WIDTH = 820;</span><br><span class="line">    var WINDOW_HEIGHT = 250;</span><br><span class="line">    var RADIUS = 7; //球半径</span><br><span class="line">    var NUMBER_GAP = 10; //数字之间的间隙</span><br><span class="line">    var u=0.65; //碰撞能量损耗系数</span><br><span class="line">    var context; //Canvas绘制上下文</span><br><span class="line">    var balls = []; //存储彩色的小球</span><br><span class="line">    const colors = [<span class="string">"#33B5E5"</span>,<span class="string">"#0099CC"</span>,<span class="string">"#AA66CC"</span>,<span class="string">"#9933CC"</span>,<span class="string">"#99CC00"</span>,<span class="string">"#669900"</span>,<span class="string">"#FFBB33"</span>,<span class="string">"#FF8800"</span>,<span class="string">"#FF4444"</span>,<span class="string">"#CC0000"</span>]; //彩色小球的颜色</span><br><span class="line">    var currentNums = []; //屏幕显示的8个字符</span><br><span class="line">    var digit =</span><br><span class="line">        [</span><br><span class="line">            [</span><br><span class="line">                [0,0,1,1,1,0,0],</span><br><span class="line">                [0,1,1,0,1,1,0],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [0,1,1,0,1,1,0],</span><br><span class="line">                [0,0,1,1,1,0,0]</span><br><span class="line">            ],//0</span><br><span class="line">            [</span><br><span class="line">                [0,0,0,1,1,0,0],</span><br><span class="line">                [0,1,1,1,1,0,0],</span><br><span class="line">                [0,0,0,1,1,0,0],</span><br><span class="line">                [0,0,0,1,1,0,0],</span><br><span class="line">                [0,0,0,1,1,0,0],</span><br><span class="line">                [0,0,0,1,1,0,0],</span><br><span class="line">                [0,0,0,1,1,0,0],</span><br><span class="line">                [0,0,0,1,1,0,0],</span><br><span class="line">                [0,0,0,1,1,0,0],</span><br><span class="line">                [1,1,1,1,1,1,1]</span><br><span class="line">            ],//1</span><br><span class="line">            [</span><br><span class="line">                [0,1,1,1,1,1,0],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [0,0,0,0,0,1,1],</span><br><span class="line">                [0,0,0,0,1,1,0],</span><br><span class="line">                [0,0,0,1,1,0,0],</span><br><span class="line">                [0,0,1,1,0,0,0],</span><br><span class="line">                [0,1,1,0,0,0,0],</span><br><span class="line">                [1,1,0,0,0,0,0],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [1,1,1,1,1,1,1]</span><br><span class="line">            ],//2</span><br><span class="line">            [</span><br><span class="line">                [1,1,1,1,1,1,1],</span><br><span class="line">                [0,0,0,0,0,1,1],</span><br><span class="line">                [0,0,0,0,1,1,0],</span><br><span class="line">                [0,0,0,1,1,0,0],</span><br><span class="line">                [0,0,1,1,1,0,0],</span><br><span class="line">                [0,0,0,0,1,1,0],</span><br><span class="line">                [0,0,0,0,0,1,1],</span><br><span class="line">                [0,0,0,0,0,1,1],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [0,1,1,1,1,1,0]</span><br><span class="line">            ],//3</span><br><span class="line">            [</span><br><span class="line">                [0,0,0,0,1,1,0],</span><br><span class="line">                [0,0,0,1,1,1,0],</span><br><span class="line">                [0,0,1,1,1,1,0],</span><br><span class="line">                [0,1,1,0,1,1,0],</span><br><span class="line">                [1,1,0,0,1,1,0],</span><br><span class="line">                [1,1,1,1,1,1,1],</span><br><span class="line">                [0,0,0,0,1,1,0],</span><br><span class="line">                [0,0,0,0,1,1,0],</span><br><span class="line">                [0,0,0,0,1,1,0],</span><br><span class="line">                [0,0,0,1,1,1,1]</span><br><span class="line">            ],//4</span><br><span class="line">            [</span><br><span class="line">                [1,1,1,1,1,1,1],</span><br><span class="line">                [1,1,0,0,0,0,0],</span><br><span class="line">                [1,1,0,0,0,0,0],</span><br><span class="line">                [1,1,1,1,1,1,0],</span><br><span class="line">                [0,0,0,0,0,1,1],</span><br><span class="line">                [0,0,0,0,0,1,1],</span><br><span class="line">                [0,0,0,0,0,1,1],</span><br><span class="line">                [0,0,0,0,0,1,1],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [0,1,1,1,1,1,0]</span><br><span class="line">            ],//5</span><br><span class="line">            [</span><br><span class="line">                [0,0,0,0,1,1,0],</span><br><span class="line">                [0,0,1,1,0,0,0],</span><br><span class="line">                [0,1,1,0,0,0,0],</span><br><span class="line">                [1,1,0,0,0,0,0],</span><br><span class="line">                [1,1,0,1,1,1,0],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [0,1,1,1,1,1,0]</span><br><span class="line">            ],//6</span><br><span class="line">            [</span><br><span class="line">                [1,1,1,1,1,1,1],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [0,0,0,0,1,1,0],</span><br><span class="line">                [0,0,0,0,1,1,0],</span><br><span class="line">                [0,0,0,1,1,0,0],</span><br><span class="line">                [0,0,0,1,1,0,0],</span><br><span class="line">                [0,0,1,1,0,0,0],</span><br><span class="line">                [0,0,1,1,0,0,0],</span><br><span class="line">                [0,0,1,1,0,0,0],</span><br><span class="line">                [0,0,1,1,0,0,0]</span><br><span class="line">            ],//7</span><br><span class="line">            [</span><br><span class="line">                [0,1,1,1,1,1,0],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [0,1,1,1,1,1,0],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [0,1,1,1,1,1,0]</span><br><span class="line">            ],//8</span><br><span class="line">            [</span><br><span class="line">                [0,1,1,1,1,1,0],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [1,1,0,0,0,1,1],</span><br><span class="line">                [0,1,1,1,0,1,1],</span><br><span class="line">                [0,0,0,0,0,1,1],</span><br><span class="line">                [0,0,0,0,0,1,1],</span><br><span class="line">                [0,0,0,0,1,1,0],</span><br><span class="line">                [0,0,0,1,1,0,0],</span><br><span class="line">                [0,1,1,0,0,0,0]</span><br><span class="line">            ],//9</span><br><span class="line">            [</span><br><span class="line">                [0,0,0,0],</span><br><span class="line">                [0,0,0,0],</span><br><span class="line">                [0,1,1,0],</span><br><span class="line">                [0,1,1,0],</span><br><span class="line">                [0,0,0,0],</span><br><span class="line">                [0,0,0,0],</span><br><span class="line">                [0,1,1,0],</span><br><span class="line">                [0,1,1,0],</span><br><span class="line">                [0,0,0,0],</span><br><span class="line">                [0,0,0,0]</span><br><span class="line">            ]//:</span><br><span class="line">        ];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> drawDatetime(cxt)&#123;</span><br><span class="line">        var nums = [];</span><br><span class="line"></span><br><span class="line">        context.fillStyle=<span class="string">"#005eac"</span></span><br><span class="line">        var date = new Date();</span><br><span class="line">        var offsetX = 70, offsetY = 30;</span><br><span class="line">        var hours = date.getHours();</span><br><span class="line">        var num1 = Math.floor(hours/10);</span><br><span class="line">        var num2 = hours%10;</span><br><span class="line">        nums.push(&#123;num: num1&#125;);</span><br><span class="line">        nums.push(&#123;num: num2&#125;);</span><br><span class="line">        nums.push(&#123;num: 10&#125;); //冒号</span><br><span class="line">        var minutes = date.getMinutes();</span><br><span class="line">        var num1 = Math.floor(minutes/10);</span><br><span class="line">        var num2 = minutes%10;</span><br><span class="line">        nums.push(&#123;num: num1&#125;);</span><br><span class="line">        nums.push(&#123;num: num2&#125;);</span><br><span class="line">        nums.push(&#123;num: 10&#125;); //冒号</span><br><span class="line">        var seconds = date.getSeconds();</span><br><span class="line">        var num1 = Math.floor(seconds/10);</span><br><span class="line">        var num2 = seconds%10;</span><br><span class="line">        nums.push(&#123;num: num1&#125;);</span><br><span class="line">        nums.push(&#123;num: num2&#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(var x = 0;x&lt;nums.length;x++)&#123;</span><br><span class="line">            nums[x].offsetX = offsetX;</span><br><span class="line">            offsetX = drawSingleNumber(offsetX,offsetY, nums[x].num,cxt);</span><br><span class="line">            //两个数字连一块，应该间隔一些距离</span><br><span class="line">            <span class="keyword">if</span>(x&lt;nums.length-1)&#123;</span><br><span class="line">                <span class="keyword">if</span>((nums[x].num!=10) &amp;&amp;(nums[x+1].num!=10))&#123;</span><br><span class="line">                    offsetX+=NUMBER_GAP;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        //说明这是初始化</span><br><span class="line">        <span class="keyword">if</span>(currentNums.length ==0)&#123;</span><br><span class="line">            currentNums = nums;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            //进行比较</span><br><span class="line">            <span class="keyword">for</span>(var index = 0;index&lt;currentNums.length;index++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(currentNums[index].num!=nums[index].num)&#123;</span><br><span class="line">                    //不一样时，添加彩色小球</span><br><span class="line">                    addBalls(nums[index]);</span><br><span class="line">                    currentNums[index].num=nums[index].num;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        renderBalls(cxt);</span><br><span class="line">        updateBalls();</span><br><span class="line"></span><br><span class="line">        <span class="built_in">return</span> date;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> addBalls (item) &#123;</span><br><span class="line">        var num = item.num;</span><br><span class="line">        var numMatrix = digit[num];</span><br><span class="line">        <span class="keyword">for</span>(var y = 0;y&lt;numMatrix.length;y++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(var x = 0;x&lt;numMatrix[y].length;x++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(numMatrix[y][x]==1)&#123;</span><br><span class="line">                    var ball=&#123;</span><br><span class="line">                        offsetX:item.offsetX+RADIUS+RADIUS*2*x,</span><br><span class="line">                        offsetY:30+RADIUS+RADIUS*2*y,</span><br><span class="line">                        color:colors[Math.floor(Math.random()*colors.length)],</span><br><span class="line">                        g:1.5+Math.random(),</span><br><span class="line">                        vx:Math.pow(-1, Math.ceil(Math.random()*10))*4+Math.random(),</span><br><span class="line">                        vy:-5</span><br><span class="line">                    &#125;</span><br><span class="line">                    balls.push(ball);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> renderBalls(cxt)&#123;</span><br><span class="line">        <span class="keyword">for</span>(var index = 0;index&lt;balls.length;index++)&#123;</span><br><span class="line">            cxt.beginPath();</span><br><span class="line">            cxt.fillStyle=balls[index].color;</span><br><span class="line">            cxt.arc(balls[index].offsetX, balls[index].offsetY, RADIUS, 0, 2*Math.PI);</span><br><span class="line">            cxt.fill();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="function"><span class="title">updateBalls</span></span> () &#123;</span><br><span class="line">        var i =0;</span><br><span class="line">        <span class="keyword">for</span>(var index = 0;index&lt;balls.length;index++)&#123;</span><br><span class="line">            var ball = balls[index];</span><br><span class="line">            ball.offsetX += ball.vx;</span><br><span class="line">            ball.offsetY += ball.vy;</span><br><span class="line">            ball.vy+=ball.g;</span><br><span class="line">            <span class="keyword">if</span>(ball.offsetY &gt; (WINDOW_HEIGHT-RADIUS))&#123;</span><br><span class="line">                ball.offsetY= WINDOW_HEIGHT-RADIUS;</span><br><span class="line">                ball.vy=-ball.vy*u;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(ball.offsetX&gt;RADIUS&amp;&amp;ball.offsetX&lt;(WINDOW_WIDTH-RADIUS))&#123;</span><br><span class="line"></span><br><span class="line">                balls[i]=balls[index];</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        //去除出边界的球</span><br><span class="line">        <span class="keyword">for</span>(;i&lt;balls.length;i++)&#123;</span><br><span class="line">            balls.pop();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> drawSingleNumber(offsetX, offsetY, num, cxt)&#123;</span><br><span class="line">        var numMatrix = digit[num];</span><br><span class="line">        <span class="keyword">for</span>(var y = 0;y&lt;numMatrix.length;y++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(var x = 0;x&lt;numMatrix[y].length;x++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(numMatrix[y][x]==1)&#123;</span><br><span class="line">                    cxt.beginPath();</span><br><span class="line">                    cxt.arc(offsetX+RADIUS+RADIUS*2*x,offsetY+RADIUS+RADIUS*2*y,RADIUS,0,2*Math.PI);</span><br><span class="line">                    cxt.fill();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cxt.beginPath();</span><br><span class="line">        offsetX += numMatrix[0].length*RADIUS*2;</span><br><span class="line">        <span class="built_in">return</span> offsetX;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    var canvas = document.getElementById(<span class="string">"canvas"</span>);</span><br><span class="line">    canvas.width=WINDOW_WIDTH;</span><br><span class="line">    canvas.height=WINDOW_HEIGHT;</span><br><span class="line">    context = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line">    //记录当前绘制的时刻</span><br><span class="line">    var currentDate = new Date();</span><br><span class="line"></span><br><span class="line">    setInterval(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        //清空整个Canvas，重新绘制内容</span><br><span class="line">        context.clearRect(0, 0, context.canvas.width, context.canvas.height);</span><br><span class="line">        drawDatetime(context);</span><br><span class="line">    &#125;, 50)</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></div><h2 id="博客动态背景图片"><a href="#博客动态背景图片" class="headerlink" title="博客动态背景图片"></a>博客动态背景图片</h2><p>在 <code>themes/next/source/css/_custom/custom.styl</code> 中添加CSS样式</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CSS"><figure class="iseeu highlight /css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* hexo next主题下，自动更换背景图片 began */</span></span><br><span class="line"><span class="comment">/* 图片来源https://source.unsplash.com/ */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(https://source.unsplash.com/random/1920x1080);</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">  <span class="attribute">background-attachment</span>: fixed;</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">50%</span> <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* hexo next主题下，自动更换背景图片 end */</span></span><br></pre></td></tr></table></figure></div><h2 id="博客写作进阶"><a href="#博客写作进阶" class="headerlink" title="博客写作进阶"></a>博客写作进阶</h2><p>Next主题集成了很多好看的写作样式，具体可以看我的<a href="https://hasaik.com/posts/c7631ec1.html">另外一篇博客</a>。</p><h2 id="插入音乐和视频"><a href="#插入音乐和视频" class="headerlink" title="插入音乐和视频"></a>插入音乐和视频</h2><p>音乐的话，网易云音乐的外链很好用，不仅有可以单曲，还能有歌单，有兴趣的自己去<a href="https://music.163.com/" rel="external nofollow noopener noreferrer" target="_blank">网易云音乐</a>找首歌尝试。但是目前有很多音乐因为版权原因放不了，还有就是不完全支持 https，导致浏览器地址栏的小绿锁不见了。要解决这些缺点，就需要安装插件👽。</p><h3 id="音乐"><a href="#音乐" class="headerlink" title="音乐"></a>音乐</h3><p>1) 直接用 HTML 的标签，写法如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;audio src=<span class="string">"https://什么什么什么.mp3"</span> style=<span class="string">"max-height :100%; max-width: 100%; display: block; margin-left: auto; margin-right: auto;"</span> controls=<span class="string">"controls"</span> loop=<span class="string">"loop"</span> preload=<span class="string">"meta"</span>&gt;Your browser does not support the audio tag.&lt;/audio&gt;</span><br></pre></td></tr></table></figure></div><p>2) 用插件，有显示歌词功能，也美观。首先在站点文件夹根目录安装插件：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-tag-aplayer --save</span><br></pre></td></tr></table></figure></div><p>然后文章中的写法：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% aplayer <span class="string">"歌曲名"</span> <span class="string">"歌手名"</span> <span class="string">"https://什么什么什么.mp3"</span> <span class="string">"https://封面图.jpg"</span> <span class="string">"lrc:https://歌词.lrc"</span> %&#125;</span><br></pre></td></tr></table></figure></div><p>另外可以支持歌单：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% aplayerlist %&#125;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"autoplay"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="string">"showlrc"</span>: 3,</span><br><span class="line">    <span class="string">"mutex"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">"music"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"title"</span>: <span class="string">"歌曲名"</span>,</span><br><span class="line">            <span class="string">"author"</span>: <span class="string">"歌手名"</span>,</span><br><span class="line">            <span class="string">"url"</span>: <span class="string">"https://什么什么什么.mp3"</span>,</span><br><span class="line">            <span class="string">"pic"</span>: <span class="string">"https://封面图.jpg"</span>,</span><br><span class="line">            <span class="string">"lrc"</span>: <span class="string">"https://歌词.lrc"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"title"</span>: <span class="string">"歌曲名"</span>,</span><br><span class="line">            <span class="string">"author"</span>: <span class="string">"歌手名"</span>,</span><br><span class="line">            <span class="string">"url"</span>: <span class="string">"https://什么什么什么.mp3"</span>,</span><br><span class="line">            <span class="string">"pic"</span>: <span class="string">"https://封面图.jpg"</span>,</span><br><span class="line">            <span class="string">"lrc"</span>: <span class="string">"https://歌词.lrc"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line">&#123;% endaplayerlist %&#125;</span><br></pre></td></tr></table></figure></div><p>里面的详细参数见 <a href="https://github.com/MoePlayer/hexo-tag-aplayer" rel="external nofollow noopener noreferrer" target="_blank">README</a> 和这插件的「母亲」Aplayer 的<a href="https://aplayer.js.org/" rel="external nofollow noopener noreferrer" target="_blank">官方文档</a>。关于 <a href="https://baike.baidu.com/item/lrc/46935" rel="external nofollow noopener noreferrer" target="_blank">LRC</a> 歌词，可以用<a href="https://www.zhihu.com/question/27638171" rel="external nofollow noopener noreferrer" target="_blank">工具</a>下载网易云音乐的歌词，另发现暂时不支持 <code>offset</code> 参数。当然，如果那歌词很操蛋，有错误（比如字母大小写和标点符号乱加）或者时间完全对不上，然后你也和我一样是个完美主义者，那接下来就是令人窒息的操作了，一句一句自己查看修改……</p><p>什么，你想把网易云的几百首歌手动同步到博客😨？慢慢慢，有一种<a href="https://github.com/MoePlayer/hexo-tag-aplayer#meingjs-support-new-in-30" rel="external nofollow noopener noreferrer" target="_blank">非常简单的方法</a>，此这种方法也支持单曲，将参数里的 <code>playlist</code> 更改为 <code>song</code> 即可，非常建议食用！更多功能请仔细阅读 README。</p><h3 id="视频"><a href="#视频" class="headerlink" title="视频"></a>视频</h3><p>1) 直接用 HTML 的标签，写法如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;video poster=<span class="string">"https://封面图.jpg"</span> src=<span class="string">"https://什么什么什么.mp4"</span> style=<span class="string">"max-height :100%; max-width: 100%; display: block; margin-left: auto; margin-right: auto;"</span> controls=<span class="string">"controls"</span> loop=<span class="string">"loop"</span> preload=<span class="string">"meta"</span>&gt;Your browser does not support the video tag.&lt;/video&gt;</span><br></pre></td></tr></table></figure></div><p>2) 用插件，可支持弹幕，首先在站点文件夹根目录安装插件：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-tag-dplayer --save</span><br></pre></td></tr></table></figure></div><p>然后文章中的写法：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% dplayer <span class="string">"url=https://什么什么什么.mp4"</span> <span class="string">"https://封面图.jpg"</span> <span class="string">"api=https://api.prprpr.me/dplayer/"</span> <span class="string">"id="</span> <span class="string">"loop=false"</span> %&#125;</span><br></pre></td></tr></table></figure></div><p>要使用弹幕，必须有 <code>api</code> 和 <code>id</code> 两项，并且若使用的是官方的 api 地址（即上面的），id 的值不能与<a href="https://api.prprpr.me/dplayer/list" rel="external nofollow noopener noreferrer" target="_blank">这个列表</a>的值一样。id 的值自己随便取，唯一要求就是前面这点。如果唯一要求难倒了你，可以使用<a href="http://tool.oschina.net/encrypt?type=2" rel="external nofollow noopener noreferrer" target="_blank">这个工具</a>将一段与众不同的文字😂生成一段看起来毫无意义的哈希值，这样看起来是不是好多了。</p><p>当然，这个插件的功能还有很多，可以去 <a href="https://github.com/MoePlayer/hexo-tag-dplayer" rel="external nofollow noopener noreferrer" target="_blank">README</a> 和这插件的「母亲」Dplayer 的<a href="https://dplayer.js.org/" rel="external nofollow noopener noreferrer" target="_blank">官方文档</a>看看。</p><h2 id="主题代码块高亮"><a href="#主题代码块高亮" class="headerlink" title="主题代码块高亮"></a>主题代码块高亮</h2><p>发现一款类似 MacPanel 的代码块高亮样式，具体可以看我的<a href="https://hasaik.com/posts/d7399e80.html">另外一篇博客</a>。</p><h2 id="主题头像旋转功能"><a href="#主题头像旋转功能" class="headerlink" title="主题头像旋转功能"></a>主题头像旋转功能</h2><p>将头像显示成圆形，鼠标放上去有旋转效果。</p><p>找到 <code>/themes/next/source/css/_common/components/sidebar/sidebar-author.styl</code> 添加以下代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">/*  添加头像旋转 */</span><br><span class="line">.site-author-image &#123;</span><br><span class="line">  display: block;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">  padding: <span class="variable">$site</span>-author-image-padding;</span><br><span class="line">  max-width: <span class="variable">$site</span>-author-image-width;</span><br><span class="line">  height: <span class="variable">$site</span>-author-image-height;</span><br><span class="line">  border: <span class="variable">$site</span>-author-image-border-width solid <span class="variable">$site</span>-author-image-border-color;</span><br><span class="line">  /* 头像圆形 */</span><br><span class="line">  border-radius: 80px;</span><br><span class="line">  -webkit-border-radius: 80px;</span><br><span class="line">  -moz-border-radius: 80px;</span><br><span class="line">  box-shadow: inset 0 -1px 0 <span class="comment">#333sf;</span></span><br><span class="line">  /* 设置循环动画 [animation: (play)动画名称 (2s)动画播放时长单位秒或微秒 (ase-out)动画播放的速度曲线为以低速结束</span><br><span class="line">    (1s)等待1秒然后开始动画 (1)动画播放次数(infinite为循环播放) ]*/</span><br><span class="line"></span><br><span class="line">  /* 鼠标经过头像旋转360度 */</span><br><span class="line">  -webkit-transition: -webkit-transform 1.0s ease-out;</span><br><span class="line">  -moz-transition: -moz-transform 1.0s ease-out;</span><br><span class="line">  transition: transform 1.0s ease-out;</span><br><span class="line">&#125;</span><br><span class="line">img:hover &#123;</span><br><span class="line">  /* 鼠标经过停止头像旋转</span><br><span class="line">  -webkit-animation-play-state:paused;</span><br><span class="line">  animation-play-state:paused;*/</span><br><span class="line">  /* 鼠标经过头像旋转360度 */</span><br><span class="line">  -webkit-transform: rotateZ(360deg);</span><br><span class="line">  -moz-transform: rotateZ(360deg);</span><br><span class="line">  transform: rotateZ(360deg);</span><br><span class="line">&#125;</span><br><span class="line">/* Z 轴旋转动画 */</span><br><span class="line">@-webkit-keyframes play &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    -webkit-transform: rotateZ(0deg);</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    -webkit-transform: rotateZ(-360deg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@-moz-keyframes play &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    -moz-transform: rotateZ(0deg);</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    -moz-transform: rotateZ(-360deg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes play &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    transform: rotateZ(0deg);</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    transform: rotateZ(-360deg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h2 id="实现图片点击放大效果"><a href="#实现图片点击放大效果" class="headerlink" title="实现图片点击放大效果"></a>实现图片点击放大效果</h2><p>next 主题自带 facybox 图片放大功能，首先推荐使用 fancybox，如果不想用可以使用以下自定义的图片放大功能，首先创建 <code>images.js</code> 文件如下：</p><p>目录位置：hexo/themes/next/source/js/src/image.js</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">let</span> container = document.documentElement||document.body;</span><br><span class="line"><span class="built_in">let</span> img,div,src,btnleft,btnright;</span><br><span class="line">var imgid=0;</span><br><span class="line"><span class="built_in">let</span> x,y,w,h,tx,ty,tw,th,ww,wh;</span><br><span class="line"><span class="built_in">let</span> closeMove=<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    <span class="keyword">if</span>(div==undefined)&#123;</span><br><span class="line">        <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    div.style.opacity=0;</span><br><span class="line">    img.style.height=h+<span class="string">"px"</span>;</span><br><span class="line">    img.style.width=w+<span class="string">"px"</span>;</span><br><span class="line">    img.style.left=x+<span class="string">"px"</span>;</span><br><span class="line">    img.style.top=(y - container.scrollTop)+<span class="string">"px"</span>;</span><br><span class="line">    // 延迟移除dom</span><br><span class="line">    setTimeout(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        div.remove();</span><br><span class="line">        img.remove();</span><br><span class="line">        btnright.remove();</span><br><span class="line">        btnleft.remove();</span><br><span class="line">    &#125;,100);</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> closeFade=<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    <span class="keyword">if</span>(div==undefined)&#123;</span><br><span class="line">        <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    div.style.opacity=0;</span><br><span class="line">    img.style.opacity=0;</span><br><span class="line">    // 延迟移除dom</span><br><span class="line">    setTimeout(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        div.remove();</span><br><span class="line">        img.remove();</span><br><span class="line">        btnright.remove();</span><br><span class="line">        btnleft.remove();</span><br><span class="line">    &#125;,100);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 监听滚动关闭层</span><br><span class="line">document.addEventListener(<span class="string">"scroll"</span>,<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    closeFade();</span><br><span class="line">&#125;);</span><br><span class="line">document.querySelectorAll(<span class="string">"img"</span>).forEach(v=&gt;&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (v.parentNode.localName!=a) &#123;</span><br><span class="line">		v.id=imgid;</span><br><span class="line">		imgid++;</span><br><span class="line">		    v.addEventListener(<span class="string">"click"</span>,<span class="keyword">function</span>(e)&#123; // 注册事件</span><br><span class="line">	        // 记录小图的位置个大小</span><br><span class="line">	        x=e.target.offsetLeft;</span><br><span class="line">	        y=e.target.offsetTop;</span><br><span class="line">	        w=e.target.offsetWidth;</span><br><span class="line">	        h=e.target.offsetHeight;</span><br><span class="line">	         data-src=e.target.src;</span><br><span class="line">	        id=e.target.id;</span><br><span class="line">	        // 创建遮罩层</span><br><span class="line">	        div=document.createElement(<span class="string">"div"</span>);</span><br><span class="line">	        div.style.cssText=`</span><br><span class="line">	            position:fixed;</span><br><span class="line">	            left:0;</span><br><span class="line">	            top:0;</span><br><span class="line">	            bottom:0;</span><br><span class="line">	            right:0;</span><br><span class="line">	            background-color: rgba(25,25,25,0.8);</span><br><span class="line">	            z-index:99999999;</span><br><span class="line">	            transition:all .3s cubic-bezier(0.165, 0.84, 0.44, 1);</span><br><span class="line">	        `;</span><br><span class="line">	        document.body.appendChild(div);</span><br><span class="line">	        setTimeout(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">	            div.style.opacity=1;</span><br><span class="line">	        &#125;,0);</span><br><span class="line">	        // (此处可以加loading)</span><br><span class="line"></span><br><span class="line">	        // 创建副本</span><br><span class="line">	        img=new Image();</span><br><span class="line">	        btnright=document.createElement(<span class="string">"button"</span>);</span><br><span class="line">	        btnleft=document.createElement(<span class="string">"button"</span>);</span><br><span class="line">	        img. data-src=src;</span><br><span class="line">	        btnleft.style.cssText=`</span><br><span class="line">			    position:fixed;</span><br><span class="line">			    border-radius: 50%;;</span><br><span class="line">			    left:<span class="variable">$&#123;x - 20&#125;</span>px;</span><br><span class="line">			    top:<span class="variable">$&#123;y - container.scrollTop + h/2&#125;</span>px;</span><br><span class="line">			    width:50px;</span><br><span class="line">			    height:50px;</span><br><span class="line">			    border: 0px;</span><br><span class="line">			    background-color: rgba(200,200,200,0.8);</span><br><span class="line">			    font-size: 20px;</span><br><span class="line">			    z-index: 999999999;</span><br><span class="line">			    transition:all .3s cubic-bezier(0.165, 0.84, 0.44, 1);</span><br><span class="line">			`;</span><br><span class="line">			btnright.style.cssText=`</span><br><span class="line">			    position:fixed;</span><br><span class="line">			    border-radius: 50%;</span><br><span class="line">			    left:<span class="variable">$&#123;x + w + 20&#125;</span>px;</span><br><span class="line">			    top:<span class="variable">$&#123;y - container.scrollTop + h/2&#125;</span>px;</span><br><span class="line">			    width:50px;</span><br><span class="line">			    border: 0px;</span><br><span class="line">			    height:50px;</span><br><span class="line">			    font-size: 20px;</span><br><span class="line">			    background-color: rgba(200,200,200,0.8);</span><br><span class="line">			    z-index: 999999999;</span><br><span class="line">			    transition:all .3s cubic-bezier(0.165, 0.84, 0.44, 1);</span><br><span class="line">			`;</span><br><span class="line">			btnleft.innerText=<span class="string">"&lt;"</span>;</span><br><span class="line">			btnright.innerText=<span class="string">"&gt;"</span>;</span><br><span class="line"></span><br><span class="line">			img.style.cssText=`</span><br><span class="line">			    position:fixed;</span><br><span class="line">			    border-radius: 12px;</span><br><span class="line">			    left:<span class="variable">$&#123;x&#125;</span>px;</span><br><span class="line">			    top:<span class="variable">$&#123;y - container.scrollTop&#125;</span>px;</span><br><span class="line">			    width:<span class="variable">$&#123;w&#125;</span>px;</span><br><span class="line">			    height:<span class="variable">$&#123;h&#125;</span>px;</span><br><span class="line">			    z-index: 999999999;</span><br><span class="line">			    transition:all .3s cubic-bezier(0.165, 0.84, 0.44, 1);</span><br><span class="line">			    opacity:0;</span><br><span class="line">			`;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	        btnleft.onclick=<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">	        	<span class="keyword">if</span>(id===0)&#123;</span><br><span class="line">	        		alert(<span class="string">"已经是第一张了！"</span>);</span><br><span class="line">	        		<span class="built_in">return</span>;</span><br><span class="line">	        	&#125;</span><br><span class="line">	        	var left=document.getElementById(id-1);</span><br><span class="line">	        	img. data-src=left.src;</span><br><span class="line">	        	x=left.offsetLeft;</span><br><span class="line">	        	y=left.offsetTop;</span><br><span class="line">	      		w=left.offsetWidth;</span><br><span class="line">	        	h=left.offsetHeight;</span><br><span class="line">	        	id--;</span><br><span class="line">	        &#125;</span><br><span class="line">	        btnright.onclick=<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">	        	id++;</span><br><span class="line">	        	<span class="keyword">if</span>(id&gt;=imgid)&#123;</span><br><span class="line">	        		alert(<span class="string">"已经是最后一张了！"</span>);</span><br><span class="line">	        		<span class="built_in">return</span>;</span><br><span class="line">	        	&#125;</span><br><span class="line">	        	var right=document.getElementById(id);</span><br><span class="line">	        	img. data-src=right.src;</span><br><span class="line">	        	x=right.offsetLeft;</span><br><span class="line">	        	y=right.offsetTop;</span><br><span class="line">	      		w=right.offsetWidth;</span><br><span class="line">	        	h=right.offsetHeight;</span><br><span class="line">	        &#125;</span><br><span class="line">	        img.onload=<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">	            document.body.appendChild(img);</span><br><span class="line">	            document.body.appendChild(btnright);</span><br><span class="line">	            document.body.appendChild(btnleft);</span><br><span class="line"></span><br><span class="line">	            // 浏览器宽高</span><br><span class="line">	            wh=window.innerHeight;</span><br><span class="line">	            ww=window.innerWidth;</span><br><span class="line"></span><br><span class="line">	            // 目标宽高和坐标</span><br><span class="line">	            <span class="keyword">if</span>(w/h&lt;ww/wh)&#123;</span><br><span class="line">	            	th=wh-80;</span><br><span class="line">		            tw=w/h*th &gt;&gt; 0;</span><br><span class="line">		            tx=(ww - tw) / 2;</span><br><span class="line">		            ty=40;	            	</span><br><span class="line">	            &#125;</span><br><span class="line">	            <span class="keyword">else</span>&#123;</span><br><span class="line">	            	tw=ww*0.8;</span><br><span class="line">	            	th=h/w*tw &gt;&gt; 0;</span><br><span class="line">	            	tx=ww*0.1;</span><br><span class="line">	            	ty=(wh-th)/2;</span><br><span class="line">	            &#125;</span><br><span class="line"></span><br><span class="line">	            // 延迟写入否则不会有动画</span><br><span class="line">	            setTimeout(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">	                img.style.opacity=1;</span><br><span class="line">	                img.style.height=th+<span class="string">"px"</span>;</span><br><span class="line">	                img.style.width=tw+<span class="string">"px"</span>;</span><br><span class="line">	                img.style.left=tx+<span class="string">"px"</span>;</span><br><span class="line">	                img.style.top=ty+<span class="string">"px"</span>;</span><br><span class="line">	                btnleft.style.left=(tx-90)+<span class="string">"px"</span>;</span><br><span class="line">	                btnleft.style.top=(ty+th/2)+<span class="string">"px"</span>;</span><br><span class="line">	                btnright.style.left=(tx+tw+40)+<span class="string">"px"</span>;</span><br><span class="line">	                btnright.style.top=(ty+th/2)+<span class="string">"px"</span>;</span><br><span class="line">	                // 点击隐藏</span><br><span class="line">	                div.onclick=img.onclick=closeMove;</span><br><span class="line">	            &#125;,10);</span><br><span class="line">	        &#125;;</span><br><span class="line">	    &#125;);//end event</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);//end forEach</span><br></pre></td></tr></table></figure></div><p>然后在 <code>hexo/themes/layout/_layout.swig</code> 中最下面 <code>&lt;script&gt;&lt;/script&gt;</code> 中加入如下引入：</p><p>文件位置：hexo/themes/layout/_layout.swig</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span> src=<span class="string">"/js/src/image.js"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></div><h2 id="给博客添加豆瓣读书-电影-游戏页面"><a href="#给博客添加豆瓣读书-电影-游戏页面" class="headerlink" title="给博客添加豆瓣读书/电影/游戏页面"></a>给博客添加豆瓣读书/电影/游戏页面</h2><p>作为一个有内涵的博客…咳咳…展示自己丰富的阅读量是很有必要的，豆瓣读书就是这么一个很好的平台，当然已经有作者利用爬虫将豆瓣读书/电影/游戏内容爬取下来，并制作成了 hexo 博客插件，具体可以看官方文档<a href="https://github.com/mythsman/hexo-douban" rel="external nofollow noopener noreferrer" target="_blank">README</a>，当然也可以看我的<a href="https://hasaik.com/posts/7fbe9500.html">另外一篇博客</a>。</p><p>当然作者所做的界面是没有样式的，我们可以在作者的基础上继续魔改增加自己喜欢的样式，在安装好所需插件后，我们打开目录为 <code>hexo/node_modules/hexo-douban/lib/templates/index.css</code> 文件，里面是整个阅读界面的 css 样式代码文件，我们可以在其中添加背景图片等样式，比如可以添加如下：</p><p>文件位置：hexo/node_modules/hexo-douban/lib/templates/index.css</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">.main &#123;</span><br><span class="line">    padding-bottom: 150px;</span><br><span class="line">    margin-top: 0px;</span><br><span class="line">    background-image:url(<span class="string">"xxx.jpg"</span>);</span><br><span class="line">    background-size: cover;</span><br><span class="line">    background-attachment: fixed;</span><br><span class="line">    background-repeat:no-repeat;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>修改上面的 url 中地址图片链接就可以新增背景图片了~</p><h2 id="增加二次元看板娘live2d模型"><a href="#增加二次元看板娘live2d模型" class="headerlink" title="增加二次元看板娘live2d模型"></a>增加二次元看板娘live2d模型</h2><p>如果你喜欢二次元，或者想给博客增加一个动态装饰，那么看板娘肯定是你的不二之选了，看板娘原生<a href="https://github.com/EYHN/hexo-helper-live2d" rel="external nofollow noopener noreferrer" target="_blank">使用文档在这里</a> ，但是原生的其实不是很好用，这里我推荐一个只需要引入一个js文件就能实现看板娘的方法，<a href="https://github.com/stevenjoezhang/live2d-widget" rel="external nofollow noopener noreferrer" target="_blank">README</a>在这里，这个作者对Live2d模型进行了深度优化，可以根据鼠标放置和点击内容的不同进行一定的提示信息，并且代码中设置了一年中特殊节日的祝福语，可以说是很有心了，唯一的缺点就是网页刷新时人物模型的加载速度较慢🌚~</p><p>具体设置的话，我们去这个<a href="https://github.com/stevenjoezhang/live2d-widget" rel="external nofollow noopener noreferrer" target="_blank">张书樵live2d-widget</a>下载这个 zip 项目并解压到 <code>themes/next/source</code> 下。</p><p>然后打开下载文件中的 <code>autoload.js</code> 文件，修改以下代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">const live2d_path = <span class="string">"https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget/"</span>;</span><br></pre></td></tr></table></figure></div><p>为下面这个地址：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">const live2d_path = <span class="string">"/live2d-widget/"</span>;</span><br></pre></td></tr></table></figure></div><p>上面那个地址表示在本地引用，然后打开 <code>themes/next/layout/_layout.swig</code> 文件，在其中引入 js 文件如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;script src=<span class="string">"/live2d-widget/autoload.js"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></div><p>打开主题配置文件 <code>themes/next/_config.xml</code> 文件，在其中末尾添加：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">live2d:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span>  <span class="comment"># 设置看板娘开关</span></span><br></pre></td></tr></table></figure></div><p>最后，想修改看板娘大小、位置、格式、文本内容等，可查看并修改 <code>waifu-tips.js</code> 、 <code>waifu-tips.json</code> 和 <code>waifu.css</code> 三个文件。</p><h2 id="彩色标签云"><a href="#彩色标签云" class="headerlink" title="彩色标签云"></a>彩色标签云</h2><p>就是标签上增加随机颜色，每次刷新页面标签上展示颜色都不一样。打开 <code>hexo/themes/next/layout/page.swig</code> 文件，找到：</p><p>文件位置：hexo/themes/next/layout/page.swig</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% <span class="keyword">if</span> page.type === <span class="string">"tags"</span> %&#125;</span><br></pre></td></tr></table></figure></div><p>然后将这段代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">"tag-cloud"</span>&gt;</span><br><span class="line"></span><br><span class="line">   &lt;!-- &lt;div class=<span class="string">"tag-cloud-title"</span>&gt;</span><br><span class="line">       &#123;&#123; _p(counter.tag_cloud, site.tags.length) &#125;&#125;</span><br><span class="line">   &lt;/div&gt; --&gt;</span><br><span class="line">   &lt;div class=<span class="string">"tag-cloud-tags"</span> id=<span class="string">"tags"</span>&gt;</span><br><span class="line">     &#123;&#123; tagcloud(&#123;min_font: 16, max_font: 16, amount: 300, color: <span class="literal">true</span>, start_color: <span class="comment">#fff, end_color: #fff&#125;) &#125;&#125;</span></span><br><span class="line">   &lt;/div&gt;</span><br><span class="line"> &lt;/div&gt;</span><br></pre></td></tr></table></figure></div><p>换成这段代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">"tag-cloud"</span>&gt;</span><br><span class="line">  &lt;!-- &lt;div class=<span class="string">"tag-cloud-title"</span>&gt;</span><br><span class="line">      &#123;&#123; _p(counter.tag_cloud, site.tags.length) &#125;&#125;</span><br><span class="line">  &lt;/div&gt; --&gt;</span><br><span class="line">  &lt;div class=<span class="string">"tag-cloud-tags"</span> id=<span class="string">"tags"</span>&gt;</span><br><span class="line">    &#123;&#123; tagcloud(&#123;min_font: 16, max_font: 16, amount: 300, color: <span class="literal">true</span>, start_color: <span class="comment">#fff, end_color: #fff&#125;) &#125;&#125;</span></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line"></span><br><span class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">   var alltags=document.getElementById(tags);</span><br><span class="line">   var tags=alltags.getElementsByTagName(a);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">for</span> (var i = tags.length - 1; i &gt;= 0; i--) &#123;</span><br><span class="line">     var r=Math.floor(Math.random()*75+130);</span><br><span class="line">     var g=Math.floor(Math.random()*75+100);</span><br><span class="line">     var b=Math.floor(Math.random()*75+80);</span><br><span class="line">     tags[i].style.background = <span class="string">"rgb("</span>+r+<span class="string">","</span>+g+<span class="string">","</span>+b+<span class="string">")"</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style <span class="built_in">type</span>=<span class="string">"text/css"</span>&gt;</span><br><span class="line">    div<span class="comment">#posts.posts-expand .tag-cloud a&#123;</span></span><br><span class="line">   background-color: <span class="comment">#f5f7f1;</span></span><br><span class="line">   border-radius: 6px;</span><br><span class="line">   padding-left: 10px;</span><br><span class="line">   padding-right: 10px;</span><br><span class="line">   margin-top: 18px;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> .tag-cloud a&#123;</span><br><span class="line">   background-color: <span class="comment">#f5f7f1;</span></span><br><span class="line">   border-radius: 4px;</span><br><span class="line">   padding-right: 5px;</span><br><span class="line">   padding-left: 5px;</span><br><span class="line">   margin-right: 5px;</span><br><span class="line">   margin-left: 0px;</span><br><span class="line">   margin-top: 8px;</span><br><span class="line">   margin-bottom: 0px;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> .tag-cloud a:before&#123;</span><br><span class="line">      content: <span class="string">"?"</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> .tag-cloud-tags&#123;</span><br><span class="line">   text-align: left;</span><br><span class="line">   counter-reset: tags;</span><br><span class="line"> &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></div><p>然后重新渲染页面就好啦~然后如果需要将标签云放到首页，直接在对应位置添加标签云的引用代码即可：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;div class=<span class="string">"tag-cloud"</span>&gt;</span><br><span class="line">  &lt;div class=<span class="string">"tag-cloud-tags"</span> id=<span class="string">"tags"</span>&gt;</span><br><span class="line">    &#123;&#123; tagcloud(&#123;min_font: 16, max_font: 16, amount: 300, color: <span class="literal">true</span>, start_color: <span class="string">'#fff'</span>, end_color: <span class="string">'#fff'</span>&#125;) &#125;&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></div><h2 id="鼠标样式"><a href="#鼠标样式" class="headerlink" title="鼠标样式"></a>鼠标样式</h2><p>添加CSS样式代码：</p><p>文件位置：/themes/next/source/css/_custom/custom.styl</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CSS"><figure class="iseeu highlight /css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 鼠标样式 */</span></span><br><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: <span class="built_in">url</span>(/images/default.cur),auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">:link</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: <span class="built_in">url</span>(/images/pointer.cur),auto</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>用到的两个文件：default.cur、pointer.cur 位于 images 目录下，因为是 .cur 这种静态光标文件，编辑器打开是一堆 <a href="http://ascii.911cha.com/" rel="external nofollow noopener noreferrer" target="_blank">ASCII 码</a>，这里就不贴了，直接附上链接，当然，你也可以在浏览器里获取。</p><a class="btn" href="https://hasaik.com/images/default.cur"><i class="fa fa-download fa-lg fa-fw"></i>default.cur</a> <a class="btn" href="https://hasaik.com/images/pointer.cur"><i class="fa fa-download fa-lg fa-fw"></i>pointer.cur</a><h2 id="鼠标点击特效"><a href="#鼠标点击特效" class="headerlink" title="鼠标点击特效"></a>鼠标点击特效</h2><p>鼠标点击常用4种特效可以参考的我的<a href="https://hasaik.com/posts/9c9b482b.html">另外一篇博客</a>。</p><h2 id="Valine评论框样式美化"><a href="#Valine评论框样式美化" class="headerlink" title="Valine评论框样式美化"></a>Valine评论框样式美化</h2><p><a href="https://valine.js.org/" rel="external nofollow noopener noreferrer" target="_blank">valine</a>自带的样式比较素，并且颜色有点单调，不如花点时间将 valine 重新打造一下，注意我修改的 valine 样式只支持 1.3.4 版本的，其它版本的也可以修改，但是需要重新适配 CSS 样式。具体内容参考我的<a href="https://hasaik.com/posts/89ea6c8b.html">另外一篇博客</a>。</p><h2 id="归档页面美化"><a href="#归档页面美化" class="headerlink" title="归档页面美化"></a>归档页面美化</h2><p>归档页面其实有很多大佬已经给出美化样式了，有的有翻页特效，比如<a href="https://hearxn.github.io/archives/" rel="external nofollow noopener noreferrer" target="_blank">像这样</a>，或者直接简单点，可以参考我的<a href="https://hasaik.com/posts/f68f129b.html">另外一篇博客</a>。</p><h2 id="添加相册功能"><a href="#添加相册功能" class="headerlink" title="添加相册功能"></a>添加相册功能</h2><p>这个实现的方式比较多，但是个人觉得比较实用好看的推荐参考<a href="https://me.idealli.com/post/73ad4183.html" rel="external nofollow noopener noreferrer" target="_blank">这篇文章</a>，相册展示图片样式可以在原作者基础上继续进行二次开发。我的<a href="https://hasaik.com/photos/">个人相册</a>是另一种方式哦，附上<a href="https://hasaik.com/posts/39d47c89.html">教程</a>。</p><h2 id="引入share-js分享功能"><a href="#引入share-js分享功能" class="headerlink" title="引入share.js分享功能"></a>引入share.js分享功能</h2><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/11/14/MtjAbj.png" alt="share"></p><p>我目前使用的 Next5 自带的分享样式都不是很好看，百度分享虽然默认不支持 HTTPS，但是强行支持后总是在 console 控制台报错，我觉得挺烦的就直接删掉了。然后偶然在 Github 上看到一个 Share.js 感觉比较美观，就想办法引入到了个人博客。方法如下：</p><p>在这个 <a href="https://github.com/overtrue/share.js" rel="external nofollow noopener noreferrer" target="_blank">Share.js</a> 中拷贝 <code>dist</code> 目录到本地的 <code>hexo/themes/next/source</code> 下。</p><p>在 <code>hexo/themes/next/layout/_layout.swig</code> 文件的 <code>&lt;head&gt;&lt;/head&gt;</code> 标签体内引入如下样式：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"/dist/css/share.min.css"</span>&gt;</span><br></pre></td></tr></table></figure></div><p>然后在下面 <code>&lt;body&gt;&lt;/body&gt;</code> 标签体内引入如下 js 文件：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;script src=<span class="string">"/dist/js/social-share.min.js"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></div><p>最后，在 <code>hexo/themes/next/layout/post.swig</code> 文件中添加如下代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DIFF"><figure class="iseeu highlight /diff"><table><tr><td class="code"><pre><span class="line">    &lt;div class="post-spread"&gt;</span><br><span class="line">      &#123;% if theme.jiathis %&#125;</span><br><span class="line">        &#123;% include '_partials/share/jiathis.swig' %&#125;</span><br><span class="line">      &#123;% elseif theme.baidushare %&#125;</span><br><span class="line">        &#123;% include '_partials/share/baidushare.swig' %&#125;</span><br><span class="line">      &#123;% elseif theme.add_this_id %&#125;</span><br><span class="line">        &#123;% include '_partials/share/add-this.swig' %&#125;</span><br><span class="line">      &#123;% elseif theme.duoshuo_shortname and theme.duoshuo_share %&#125;</span><br><span class="line">        &#123;% include '_partials/share/duoshuo_share.swig' %&#125;</span><br><span class="line">        </span><br><span class="line">       &lt;!-- 引入share.js --&gt;</span><br><span class="line"><span class="addition">+      &#123;% endif theme.share_js%&#125;</span></span><br><span class="line"><span class="addition">+      	&lt;div data-weibo-title="分享到微博" data-qq-title="分享到QQ" data-douban-title="分享到豆瓣" class="social-share" class="share-component" data-disabled="twitter,facebook" data-description="Share.js - 一键分享到微博，QQ空间，腾讯微博，人人，豆瓣"&gt;分享到：&lt;/div&gt;</span></span><br><span class="line"><span class="addition">+      &#123;% elseif %&#125;</span></span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br></pre></td></tr></table></figure></div><p>并在主题配置文件中末尾添加如下：</p><p>文件位置：hexo/themes/next/_config.xml</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">share_js: <span class="literal">true</span></span><br></pre></td></tr></table></figure></div><p>然后就可以使用了！里面具体一些属性设置可以查看原作者的<a href="https://github.com/overtrue/share.js/blob/master/README.md" rel="external nofollow noopener noreferrer" target="_blank">README</a>文档，介绍的很详细。</p><h1 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h1><ol><li><a href="https://io-oi.me/tech/hexo-next-optimization.html" rel="external nofollow noopener noreferrer" target="_blank">造个性超赞博客 Hexo + NexT + GitHub Pages 的超深度优化</a></li><li><a href="https://www.jianshu.com/p/efbeddc5eb19?utm_campaign=maleskine&utm_content=note&utm_medium=seo_notes&utm_source=recommendation" rel="external nofollow noopener noreferrer" target="_blank">Hexo+Next主题优化</a></li><li><a href="https://www.jianshu.com/p/1f8107a8778c" rel="external nofollow noopener noreferrer" target="_blank">Hexo搭建个人博客–next主题优化</a></li><li><a href="https://www.jianshu.com/p/efbeddc5eb19" rel="external nofollow noopener noreferrer" target="_blank">Hexo+Next个人博客主题优化</a></li><li><a href="https://io-oi.me/tech/speed-up-hexo.html#main" rel="external nofollow noopener noreferrer" target="_blank">加速Hexo博客</a></li><li><a href="https://me.idealli.com/post/d6caa003.html" rel="external nofollow noopener noreferrer" target="_blank">hexo建站笔记之彩色标签云</a></li><li><a href="https://me.idealli.com/post/6bf81741.html" rel="external nofollow noopener noreferrer" target="_blank">hexo建站笔记之首页轮播图</a></li><li><a href="https://me.idealli.com/post/ed80a662.html" rel="external nofollow noopener noreferrer" target="_blank">原生js实现图片点击展示效果</a></li><li><a href="https://zhangshuqiao.org/2018-07/%E5%9C%A8%E7%BD%91%E9%A1%B5%E4%B8%AD%E6%B7%BB%E5%8A%A0Live2D%E7%9C%8B%E6%9D%BF%E5%A8%98" rel="external nofollow noopener noreferrer" target="_blank">在网页中添加live2d看板娘</a></li><li><a href="https://io-oi.me/tech/noto-serif-sc-added-on-google-fonts.html#main" rel="external nofollow noopener noreferrer" target="_blank">Google Fonts已支持思源宋体</a></li><li><a href="https://bestzuo.cn/posts/blog-establish.html" rel="external nofollow noopener noreferrer" target="_blank">Hexo博客+Next主题深度优化与定制</a></li></ol><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo+NexT 自定义样式博文加密</title>
    <url>/posts/c1cdcf68.html</url>
    <content><![CDATA[<!-- build time:Thu Nov 21 2019 08:41:57 GMT+0000 (Coordinated Universal Time) --><p>介绍一种自定义博文加密方式，不需要插件，极简模式，相对安全。</p><p>先看一下效果：</p><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/11/01/KHMRr8.png" alt="密码"></p><h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><p>1、在目录 <code>/themes/next/layout/</code> 下的 <code>_layout.swig</code> 中，找到main标签添加自定义的 swig</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;main id=<span class="string">"main"</span> class=<span class="string">"main"</span>&gt;</span><br><span class="line">  &lt;div class=<span class="string">"main-inner"</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">"content-wrap"</span>&gt;</span><br><span class="line">      &lt;div id=<span class="string">"content"</span> class=<span class="string">"content"</span>&gt;</span><br><span class="line">        &#123;% block content %&#125;&#123;% endblock %&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &#123;% include <span class="string">'_third-party/duoshuo-hot-articles.swig'</span> %&#125;</span><br><span class="line">      &#123;% include <span class="string">'_partials/comments.swig'</span> %&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &#123;% <span class="keyword">if</span> theme.sidebar.display !== <span class="string">'remove'</span> %&#125;</span><br><span class="line">      &#123;% block sidebar %&#125;&#123;% endblock %&#125;</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"> &lt;!-- 此处为新加的代码 --&gt;</span><br><span class="line"> &#123;% include <span class="string">'password.swig'</span> %&#125;</span><br><span class="line"></span><br><span class="line">&lt;/main&gt;</span><br></pre></td></tr></table></figure></div><p>2、在目录 <code>/themes/next/layout/</code> 下创建 <code>password.swig</code> ，内容如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="code"><pre><span class="line">&lt;script src=<span class="string">"https://cdn.staticfile.org/jquery/3.1.1/jquery.min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">//暂时储存文章中的内容</span></span><br><span class="line">    <span class="keyword">var</span> div = $(<span class="string">'.post-body'</span>);</span><br><span class="line">    <span class="comment">//暂时储存目录的内容</span></span><br><span class="line">    <span class="comment">//var toc=$('.post-toc-wrap')</span></span><br><span class="line">    <span class="keyword">var</span> toc=$(<span class="string">'.nav'</span>)</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">password</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">'&#123;&#123; page.password &#125;&#125;'</span>)&#123;</span><br><span class="line">            <span class="comment">//将文章内容删除</span></span><br><span class="line">            div.remove();</span><br><span class="line">            <span class="comment">//将目录删除</span></span><br><span class="line">            toc.remove();</span><br><span class="line">            <span class="comment">//将文章删除后，向原来文章的地方添加，应该出现的提示用户输入密码的样式</span></span><br><span class="line">            <span class="comment">//下面这里的第一个用textarea是因为如果在手机端的时候只能显示一部分文字，</span></span><br><span class="line">            <span class="comment">//只是拓展:input里面的字只能显示一行，不会自动换行，目前上网搜索没有发现好的办法，所以用了textarea，右下角的小三角通过resize:none 去掉。</span></span><br><span class="line">            $(<span class="string">'.post-header'</span>).after(</span><br><span class="line">            <span class="string">'&lt;span class="description" value="请输入密码，然后按 Enter 键阅读" style="font-style: oblique;font-weight: bold;border: none;display: block;'</span>+</span><br><span class="line">            <span class="string">'width: 60%;margin: 0 auto;text-align: center;outline: none;margin-bottom: 40px;resize:none "&gt;'</span>+</span><br><span class="line">            <span class="string">'&lt;i class="fa fa-heartbeat" id="myheartbeat"&gt;&lt;/i&gt;'</span>+</span><br><span class="line">            <span class="string">'请输入密码，然后按 Enter 键阅读'</span> +</span><br><span class="line">            <span class="string">'&lt;i class="fa fa-heartbeat" id="myheartbeat"&gt;&lt;/i&gt;'</span>+</span><br><span class="line">            <span class="string">'&lt;/span&gt;'</span> +</span><br><span class="line">            <span class="string">'&lt;div class="qiang" style="height: 100px;width: 60%;margin:0 auto"&gt;'</span> +</span><br><span class="line">            <span class="string">'&lt;input class="password"  type="password" autocomplete="new-password" autofocus="autofocus" value="" style="border-radius: 5px;height: 30px;border: none;display: block;border-bottom: 1px solid #ccc;'</span> +</span><br><span class="line">            <span class="string">'margin: 0 auto;outline: none;width:95%"/&gt;'</span> +</span><br><span class="line">            <span class="string">'&lt;/div&gt;'</span>)</span><br><span class="line">            <span class="comment">//绑定点击事件，如果是点击的.password 这个div就改变样式，如果是document中除了div之外的其他任何元素，就变回原来的样式。</span></span><br><span class="line">            <span class="built_in">document</span>.onclick = <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> e = event || <span class="built_in">window</span>.event;</span><br><span class="line">                <span class="keyword">var</span> elem = e.srcElement || e.target;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">while</span> (elem) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (elem != <span class="built_in">document</span>) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (elem.className == <span class="string">"password"</span>) &#123;</span><br><span class="line">                            <span class="comment">//$(".password").animate(&#123;paddingTop:"30px",width:"100%",borderWidth:"2px"&#125;,300)</span></span><br><span class="line">                            <span class="keyword">return</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        elem = elem.parentNode;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="comment">//$(".password").animate(&#123;paddingTop:"0px",width:"95%",borderWidth:"1px"&#125;,300)</span></span><br><span class="line">                        <span class="keyword">return</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//绑定enter键按下后离开的事件</span></span><br><span class="line">            $(<span class="built_in">document</span>).keyup(<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(event.keyCode ==<span class="number">13</span>&amp;&amp;$(<span class="string">'.password'</span>).length&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="comment">//console.log($('.password').val())</span></span><br><span class="line">                    <span class="comment">//console.log('&#123;&#123; page.password &#125;&#125;')</span></span><br><span class="line">                    <span class="keyword">if</span> ($(<span class="string">'.password'</span>).val() == <span class="string">'&#123;&#123; page.password &#125;&#125;'</span>) &#123;</span><br><span class="line">                        <span class="comment">//恢复文章内容</span></span><br><span class="line">                        (div).appendTo($(<span class="string">".post-header"</span>))</span><br><span class="line">                        <span class="comment">//恢复目录</span></span><br><span class="line">                        toc.appendTo($(<span class="string">".sidebar-inner"</span>))</span><br><span class="line">                        <span class="comment">//删除本页面的输入密码组件</span></span><br><span class="line">                        $(<span class="string">".description"</span>).remove();</span><br><span class="line">                        $(<span class="string">".qiang"</span>).remove();</span><br><span class="line">                        $(<span class="string">".password"</span>).remove();</span><br><span class="line"></span><br><span class="line">                        <span class="comment">//重新处理pjax事件,如果没有加pjax的从下面这行起到下面的else之间的代码需要去掉。</span></span><br><span class="line">                        <span class="comment">//图片懒加载，没有加入此功能的这个函数需要去掉</span></span><br><span class="line">                        $(<span class="string">'img'</span>).lazyload(&#123;</span><br><span class="line">                            placeholder: <span class="string">'/images/loading.gif'</span>,</span><br><span class="line">                            effect: <span class="string">'fadeIn'</span>,</span><br><span class="line">                            threshold : <span class="number">100</span>,</span><br><span class="line">                            failure_limit : <span class="number">20</span>,</span><br><span class="line">                            skip_invisible : <span class="literal">false</span></span><br><span class="line">                        &#125;);</span><br><span class="line">                        <span class="comment">//pjax后出现文章不显示，没有pjax的下面四行需要去掉</span></span><br><span class="line">                        $(<span class="string">".post-block"</span>).css(&#123;<span class="attr">opacity</span>:<span class="number">1</span>&#125;);</span><br><span class="line">                        $(<span class="string">".post-header"</span>).css(&#123;<span class="attr">opacity</span>:<span class="number">1</span>&#125;);</span><br><span class="line">                        $(<span class="string">".post-body"</span>).css(&#123;<span class="attr">opacity</span>:<span class="number">1</span>&#125;);</span><br><span class="line">                        $(<span class="string">".pagination"</span>).css(&#123;<span class="attr">opacity</span>:<span class="number">1</span>&#125;);</span><br><span class="line">                    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                        alert(<span class="string">"对不起，密码输入错误。"</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//将document的keyup移除，防止在pjax的情况下会重复绑定事件</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    password();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></div><h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><p>新建一个 test.md ，内容如下</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="MD"><figure class="iseeu highlight /md"><table><tr><td class="code"><pre><span class="line">title: 测试</span><br><span class="line">date: 2019-03-30 21:18:02</span><br><span class="line">password: aaa</span><br><span class="line">---</span><br><span class="line"><span class="section"># aaaaaa</span></span><br><span class="line">我就很反感大家老是那么说我，</span><br><span class="line"><span class="section">## bbbbbb</span></span><br><span class="line">除了有才，就只剩下那无可比拟的颜值。</span><br></pre></td></tr></table></figure></div><p>上面的 password 后面的值自定义。</p><h1 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h1><p>如果自己的博客源码中的这篇文章上传到 github ，密码也就公诸于世了，可以在 push 到 github 的时候将这篇文章忽略。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Next</tag>
        <tag>Password</tag>
        <tag>Security</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo+NexT 博客搭建相册</title>
    <url>/posts/39d47c89.html</url>
    <content><![CDATA[<!-- build time:Thu Nov 21 2019 08:41:57 GMT+0000 (Coordinated Universal Time) --><p>首先说一下实现想法，在 <a href="https://dev.tencent.com/" rel="external nofollow noopener noreferrer" target="_blank">腾讯云开发者平台</a> 上面创建一个相册库（PS：腾讯云开发者平台是腾讯云与 CODING 共同为开发者打造的云端工具平台，旨在为更多的开发者带去便捷、高效的开发体验，提供包括需求管理、代码编写、代码管理、代码运行的整套系统），当有更新时，提交到腾讯云开发者平台上面，同时在博客 resource 下面生成一个 data.json 来生成所有相册文件的 json 文件，博客读取 data.json 来展示相册。</p><p>实现效果链接：</p><p><a href="https://hasaik.com/photos/" class="LinkCard">Photos</a></p><h1 id="创建相册"><a href="#创建相册" class="headerlink" title="创建相册"></a>创建相册</h1><p>在腾讯云开发者平台上面创建一个仓库,命名为 <code>Blog_Back_Up</code> (仓库名字随便). 用 <code>git clone</code> 把仓库 <code>clone</code> 到本地来.</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> Blog_Back_Up</span><br></pre></td></tr></table></figure></div><p>创建 <code>photos</code> 和 <code>min_photos</code> 两个目录,把要上传的相册图片 放到 <code>photos</code> 文件夹下面.</p><div class="note info">***相册图片命名方式 : yyyy-MM-dd_des.jpg/png/jpef/gif. &emsp;eg: 2017-9-18_风景.jpg***</div><h1 id="处理图片"><a href="#处理图片" class="headerlink" title="处理图片"></a>处理图片</h1><p>图片的处理我用 <code>python</code> 脚本来处理，这样每次只要执行脚本就可以了。如果您的电脑没有 <code>Python</code> ，自行上网搜索安装教程，一搜一大把。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#coding: utf-8</span></span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">from</span> ImageProcess <span class="keyword">import</span> Graphics</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义压缩比，数值越大，压缩越小</span></span><br><span class="line">SIZE_normal = <span class="number">1.0</span></span><br><span class="line">SIZE_small = <span class="number">1.5</span></span><br><span class="line">SIZE_more_small = <span class="number">2.0</span></span><br><span class="line">SIZE_more_small_small = <span class="number">3.0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_directory</span><span class="params">(directory)</span>:</span></span><br><span class="line">    <span class="string">"""创建目录"""</span></span><br><span class="line">    os.makedirs(directory)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">directory_exists</span><span class="params">(directory)</span>:</span></span><br><span class="line">    <span class="string">"""判断目录是否存在"""</span></span><br><span class="line">    <span class="keyword">if</span> os.path.exists(directory):</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">list_img_file</span><span class="params">(directory)</span>:</span></span><br><span class="line">    <span class="string">"""列出目录下所有文件，并筛选出图片文件列表返回"""</span></span><br><span class="line">    old_list = sorted(os.listdir(directory), reverse=<span class="literal">True</span>)</span><br><span class="line">    print(old_list)</span><br><span class="line">    new_list = []</span><br><span class="line">    <span class="keyword">for</span> filename <span class="keyword">in</span> old_list:</span><br><span class="line">        name, fileformat = filename.split(<span class="string">"."</span>)</span><br><span class="line">        <span class="keyword">if</span> fileformat.lower() == <span class="string">"jpg"</span> <span class="keyword">or</span> fileformat.lower() == <span class="string">"png"</span> <span class="keyword">or</span> fileformat.lower() == <span class="string">"gif"</span> <span class="keyword">or</span> fileformat.lower() == <span class="string">"jpeg"</span>:</span><br><span class="line">            new_list.append(filename)</span><br><span class="line">    <span class="comment"># print new_list</span></span><br><span class="line">    <span class="keyword">return</span> new_list</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_help</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"""</span></span><br><span class="line"><span class="string">    This program helps compress many image files</span></span><br><span class="line"><span class="string">    you can choose which scale you want to compress your img(jpg/png/etc)</span></span><br><span class="line"><span class="string">    1) normal compress(4M to 1M around)</span></span><br><span class="line"><span class="string">    2) small compress(4M to 500K around)</span></span><br><span class="line"><span class="string">    3) smaller compress(4M to 300K around)</span></span><br><span class="line"><span class="string">    """</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compress</span><span class="params">(choose, des_dir, src_dir, file_list)</span>:</span></span><br><span class="line">    <span class="string">"""压缩算法，img.thumbnail对图片进行压缩，</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    参数</span></span><br><span class="line"><span class="string">    -----------</span></span><br><span class="line"><span class="string">    choose: str</span></span><br><span class="line"><span class="string">            选择压缩的比例，有4个选项，越大压缩后的图片越小</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">if</span> choose == <span class="string">'1'</span>:</span><br><span class="line">        scale = SIZE_normal</span><br><span class="line">    <span class="keyword">if</span> choose == <span class="string">'2'</span>:</span><br><span class="line">        scale = SIZE_small</span><br><span class="line">    <span class="keyword">if</span> choose == <span class="string">'3'</span>:</span><br><span class="line">        scale = SIZE_more_small</span><br><span class="line">    <span class="keyword">if</span> choose == <span class="string">'4'</span>:</span><br><span class="line">        scale = SIZE_more_small_small</span><br><span class="line">    <span class="keyword">for</span> infile <span class="keyword">in</span> file_list:</span><br><span class="line">        img = Image.open(src_dir+infile)</span><br><span class="line">        <span class="comment"># size_of_file = os.path.getsize(infile)</span></span><br><span class="line">        w, h = img.size</span><br><span class="line">        img.thumbnail((int(w/scale), int(h/scale)))</span><br><span class="line">        img.save(des_dir + infile)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compress_photo</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''调用压缩图片的函数</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    src_dir, des_dir = <span class="string">"photos/"</span>, <span class="string">"min_photos/"</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> directory_exists(src_dir):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> directory_exists(src_dir):</span><br><span class="line">            make_directory(src_dir)</span><br><span class="line">        <span class="comment"># business logic</span></span><br><span class="line">        file_list_src = list_img_file(src_dir)</span><br><span class="line">    <span class="keyword">if</span> directory_exists(des_dir):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> directory_exists(des_dir):</span><br><span class="line">            make_directory(des_dir)</span><br><span class="line">        file_list_des = list_img_file(des_dir)</span><br><span class="line">        <span class="comment"># print file_list</span></span><br><span class="line">    <span class="string">'''如果已经压缩了，就不再压缩'''</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(file_list_des)):</span><br><span class="line">        <span class="keyword">if</span> file_list_des[i] <span class="keyword">in</span> file_list_src:</span><br><span class="line">            file_list_src.remove(file_list_des[i])</span><br><span class="line">    compress(<span class="string">'4'</span>, des_dir, src_dir, file_list_src)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handle_photo</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''根据图片的文件名处理成需要的json格式的数据</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    -----------</span></span><br><span class="line"><span class="string">    最后将data.json文件存到博客的source/photos文件夹下</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    src_dir, des_dir = <span class="string">"photos/"</span>, <span class="string">"min_photos/"</span></span><br><span class="line">    file_list = list_img_file(src_dir)</span><br><span class="line">    print(file_list)</span><br><span class="line">    list_info = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(file_list)):</span><br><span class="line">        filename = file_list[i]</span><br><span class="line">        date_str, info = filename.split(<span class="string">"_"</span>)</span><br><span class="line">        info, _ = info.split(<span class="string">"."</span>)</span><br><span class="line">        date = datetime.strptime(date_str, <span class="string">"%Y-%m-%d"</span>)</span><br><span class="line">        year_month = date_str[<span class="number">0</span>:<span class="number">7</span>]            </span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">0</span>:  <span class="comment"># 处理第一个文件</span></span><br><span class="line">            new_dict = &#123;<span class="string">"date"</span>: year_month, <span class="string">"arr"</span>:&#123;<span class="string">'year'</span>: date.year,</span><br><span class="line">                                                                   <span class="string">'month'</span>: date.month,</span><br><span class="line">                                                                   <span class="string">'link'</span>: [filename],</span><br><span class="line">                                                                   <span class="string">'text'</span>: [info],</span><br><span class="line">                                                                   <span class="string">'type'</span>: [<span class="string">'image'</span>]</span><br><span class="line">                                                                   &#125;</span><br><span class="line">                                        &#125; </span><br><span class="line">            list_info.append(new_dict)</span><br><span class="line">        <span class="keyword">elif</span> year_month != list_info[<span class="number">-1</span>][<span class="string">'date'</span>]:  <span class="comment"># 不是最后的一个日期，就新建一个dict</span></span><br><span class="line">            new_dict = &#123;<span class="string">"date"</span>: year_month, <span class="string">"arr"</span>:&#123;<span class="string">'year'</span>: date.year,</span><br><span class="line">                                                   <span class="string">'month'</span>: date.month,</span><br><span class="line">                                                   <span class="string">'link'</span>: [filename],</span><br><span class="line">                                                   <span class="string">'text'</span>: [info],</span><br><span class="line">                                                   <span class="string">'type'</span>: [<span class="string">'image'</span>]</span><br><span class="line">                                                   &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">            list_info.append(new_dict)</span><br><span class="line">        <span class="keyword">else</span>:  <span class="comment"># 同一个日期</span></span><br><span class="line">            list_info[<span class="number">-1</span>][<span class="string">'arr'</span>][<span class="string">'link'</span>].append(filename)</span><br><span class="line">            list_info[<span class="number">-1</span>][<span class="string">'arr'</span>][<span class="string">'text'</span>].append(info)</span><br><span class="line">            list_info[<span class="number">-1</span>][<span class="string">'arr'</span>][<span class="string">'type'</span>].append(<span class="string">'image'</span>)</span><br><span class="line">    list_info.reverse()  <span class="comment"># 翻转</span></span><br><span class="line">    tmp = bubbleYear(list_info)</span><br><span class="line">    bubble(tmp)</span><br><span class="line">    final_dict = &#123;<span class="string">"list"</span>: list_info&#125;</span><br><span class="line">    <span class="keyword">with</span> open(<span class="string">"../xuxugood.github.io/source/photos/data.json"</span>,<span class="string">"w"</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        json.dump(final_dict, fp)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cut_photo</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""裁剪算法</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    ----------</span></span><br><span class="line"><span class="string">    调用Graphics类中的裁剪算法，将src_dir目录下的文件进行裁剪（裁剪成正方形）</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    src_dir = <span class="string">"photos/"</span></span><br><span class="line">    <span class="keyword">if</span> directory_exists(src_dir):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> directory_exists(src_dir):</span><br><span class="line">            make_directory(src_dir)</span><br><span class="line">        <span class="comment"># business logic</span></span><br><span class="line">        file_list = list_img_file(src_dir)</span><br><span class="line">        <span class="comment"># print file_list</span></span><br><span class="line">        <span class="keyword">if</span> file_list:</span><br><span class="line">            print_help()</span><br><span class="line">            <span class="keyword">for</span> infile <span class="keyword">in</span> file_list:</span><br><span class="line">                img = Image.open(src_dir+infile)</span><br><span class="line">                Graphics(infile=src_dir+infile, outfile=src_dir + infile).cut_by_ratio()            </span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">"source directory not exist!"</span>)     </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">git_operation</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    git 命令行函数，将仓库提交</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    ----------</span></span><br><span class="line"><span class="string">    需要安装git命令行工具，并且添加到环境变量中</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    os.system(<span class="string">'git add --all'</span>)</span><br><span class="line">    os.system(<span class="string">'git commit -m "add photos"'</span>)</span><br><span class="line">    os.system(<span class="string">'git push origin master'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bubble</span><span class="params">(bubbleList)</span>:</span></span><br><span class="line">    listLength = len(bubbleList)</span><br><span class="line">    <span class="keyword">while</span> listLength &gt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(listLength - <span class="number">1</span>):    <span class="comment"># 这个循环负责设置冒泡排序进行的次数</span></span><br><span class="line">            <span class="comment"># print(bubbleList[i])</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(listLength-i<span class="number">-1</span>):  <span class="comment"># ｊ为列表下标</span></span><br><span class="line">                <span class="keyword">if</span>(bubbleList[j].get(<span class="string">'arr'</span>).get(<span class="string">'year'</span>) == bubbleList[j+<span class="number">1</span>].get(<span class="string">'arr'</span>).get(<span class="string">'year'</span>)):</span><br><span class="line">                    <span class="keyword">if</span> bubbleList[j].get(<span class="string">'arr'</span>).get(<span class="string">'month'</span>) &lt; bubbleList[j+<span class="number">1</span>].get(<span class="string">'arr'</span>).get(<span class="string">'month'</span>):</span><br><span class="line">                </span><br><span class="line">                        bubbleList[j], bubbleList[j+<span class="number">1</span>] = bubbleList[j+<span class="number">1</span>], bubbleList[j]</span><br><span class="line">        <span class="keyword">return</span> bubbleList</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">        <span class="comment"># for i in range(listLength - 1):</span></span><br><span class="line">        <span class="comment">#     if(bubbleList[i].get('arr').get('year') == bubbleList[i+1].get('arr').get('year')):</span></span><br><span class="line">        <span class="comment">#         if bubbleList[i].get('arr').get('month') &gt; bubbleList[i+1].get('arr').get('month'):</span></span><br><span class="line">        <span class="comment">#             bubbleList[i] = bubbleList[i] + bubbleList[i+1]</span></span><br><span class="line">        <span class="comment">#             bubbleList[i+1] = bubbleList[i] - bubbleList[i+1]</span></span><br><span class="line">        <span class="comment">#             bubbleList[i] = bubbleList[i] - bubbleList[i+1]</span></span><br><span class="line">        <span class="comment"># listLength -= 1</span></span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bubbleYear</span><span class="params">(bubbleList)</span>:</span></span><br><span class="line">    listLength = len(bubbleList)</span><br><span class="line">    <span class="keyword">while</span> listLength &gt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(listLength - <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(listLength-i<span class="number">-1</span>):</span><br><span class="line">                <span class="keyword">if</span> bubbleList[j].get(<span class="string">'arr'</span>).get(<span class="string">'year'</span>) &lt; bubbleList[j+<span class="number">1</span>].get(<span class="string">'arr'</span>).get(<span class="string">'year'</span>):</span><br><span class="line">                    </span><br><span class="line">                    bubbleList[j], bubbleList[j+<span class="number">1</span>] = bubbleList[j+<span class="number">1</span>], bubbleList[j]</span><br><span class="line">        <span class="comment"># print(bubbleList)</span></span><br><span class="line">        <span class="keyword">return</span> bubbleList</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    cut_photo()        <span class="comment"># 裁剪图片，裁剪成正方形，去中间部分</span></span><br><span class="line">    compress_photo()   <span class="comment"># 压缩图片，并保存到mini_photos文件夹下</span></span><br><span class="line">    git_operation()    <span class="comment"># 提交到github仓库</span></span><br><span class="line">    handle_photo()     <span class="comment"># 将文件处理成json格式，存到博客仓库中</span></span><br></pre></td></tr></table></figure></div><p>其中 <code>../xuxugood.github.io/source/photos/data.json</code> 是我博客地址，这里换成你的博客地址。</p><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a><em>使用方法</em></h2><p>执行命令 <code>python3 tool.py</code> ，因为我用的是 <code>python3</code> 这里可以根据你的 <code>python</code> 版本来使用。</p><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>如果出现 <code>from PIL import Image</code> 这种报错，说明没有 PIL 这个库，执行 <code>python3 -m pip install Pillow</code></p><h1 id="增加相册style"><a href="#增加相册style" class="headerlink" title="增加相册style"></a>增加相册style</h1><p>在 Next 主题下面增加 <code>photo.swig</code> 页面，路径如下 <code>next/layout</code></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% extends <span class="string">'_layout.swig'</span> %&#125;</span><br><span class="line">&#123;% import <span class="string">'_macro/post-collapse.swig'</span> as post_template %&#125;</span><br><span class="line">&#123;% import <span class="string">'_macro/sidebar.swig'</span> as sidebar_template %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block title %&#125;&#123;&#123; page.title &#125;&#125; | &#123;&#123; config.title &#125;&#125;&#123;% endblock %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line"></span><br><span class="line">  &#123;<span class="comment">#################&#125;</span></span><br><span class="line">  &#123;<span class="comment">### Photo BLOCK ###&#125;</span></span><br><span class="line">  &#123;<span class="comment">#################&#125;</span></span><br><span class="line">  &lt;div class=<span class="string">"post-block photo"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div id=<span class="string">"posts"</span> class=<span class="string">"posts-collapse"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &#123;<span class="comment">#####################&#125;</span></span><br><span class="line">  &#123;<span class="comment">### END Photo BLOCK ###&#125;</span></span><br><span class="line">  &#123;<span class="comment">#####################&#125;</span></span><br><span class="line"></span><br><span class="line">  &#123;% include <span class="string">'_partials/pagination.swig'</span> %&#125;</span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block sidebar %&#125;</span><br><span class="line">  &#123;&#123; sidebar_template.render(<span class="literal">false</span>) &#125;&#125;</span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure></div><h1 id="生成相册页面"><a href="#生成相册页面" class="headerlink" title="生成相册页面"></a>生成相册页面</h1><p>生成相册页面 <code>hexo new page photos</code>，修改 <code>photos</code> 下的 <code>index.md</code> 文件如下</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">title: 我的相册</span><br><span class="line">date: 2017-09-15 09:51:05</span><br><span class="line"><span class="built_in">type</span>: <span class="string">"photos"</span></span><br><span class="line">comments: <span class="literal">false</span></span><br><span class="line">---</span><br><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"./ins.css"</span>&gt;</span><br><span class="line"> &lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"./photoswipe.css"</span>&gt; </span><br><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"./default-skin/default-skin.css"</span>&gt; </span><br><span class="line">&lt;div class=<span class="string">"photos-btn-wrap"</span>&gt;</span><br><span class="line">	&lt;a class=<span class="string">"photos-btn active"</span> href=<span class="string">"javascript:void(0)"</span>&gt;Photos&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class=<span class="string">"instagram itemscope"</span>&gt;</span><br><span class="line">	&lt;a href=<span class="string">"https://xuxugood.github.io"</span> target=<span class="string">"_blank"</span> class=<span class="string">"open-ins"</span>&gt;图片正在加载中…&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line">  (<span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">    var loadScript = <span class="keyword">function</span>(path) &#123;</span><br><span class="line">      var <span class="variable">$script</span> = document.createElement(<span class="string">'script'</span>)</span><br><span class="line">      document.getElementsByTagName(<span class="string">'body'</span>)[0].appendChild(<span class="variable">$script</span>)</span><br><span class="line">      <span class="variable">$script</span>.setAttribute(<span class="string">'src'</span>, path)</span><br><span class="line">    &#125;</span><br><span class="line">    setTimeout(<span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">        loadScript(<span class="string">'./ins.js'</span>)</span><br><span class="line">    &#125;, 0)</span><br><span class="line">  &#125;)()</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></div><p>其中 <code>&lt;a href=&quot;https://xuxugood.github.io&quot; target=&quot;_blank&quot; class=&quot;open-ins&quot;&gt;图片正在加载中…&lt;/a&gt;</code> 中的 url 替换成你的博客网址。</p><p>需要三个 css 文件和一个 js 文件放在 photos 文件夹下，其文件都在我的 <a href="https://dev.tencent.com/u/XuxuGood/p/Blog_Back_Up/git/tree/master/source/photos" rel="external nofollow noopener noreferrer" target="_blank">腾讯云开发者平台</a> 上面，需要修改 <code>ins.js</code> 的 120 和 121 行的 url 为你腾讯云开发者平台图片的网址。</p><h1 id="查看相册插件-photoswipe"><a href="#查看相册插件-photoswipe" class="headerlink" title="查看相册插件 photoswipe"></a>查看相册插件 photoswipe</h1><p>上面 <code>index.md</code> 中加入了两个 css 文件，这是我们用 photoswipe 查看相册用到的，具体可以参考网址 <a href="https://photoswipe.com/" rel="external nofollow noopener noreferrer" target="_blank">photoswipe</a> 。这里我们已经把 css 文件加上了，之后我们要加上 js 文件 <code>photoswipe.min.js</code> 和 <code>photoswipe-ui-default.min.js</code>，js 资源下载地址 <a href="https://dev.tencent.com/u/XuxuGood/p/Blog_Back_Up/git/tree/master/source/photoswipe" rel="external nofollow noopener noreferrer" target="_blank">photoswipe</a> ，js 存放路径为 <code>next/source/js/src</code></p><h1 id="引用-js-文件"><a href="#引用-js-文件" class="headerlink" title="引用 js 文件"></a>引用 js 文件</h1><p>在 <code>layout/_scripts/pages/post-details.swig</code> 中插入</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&lt;script src=<span class="string">"&#123;&#123; url_for(theme.js) &#125;&#125;/src/photoswipe.min.js?v=&#123;&#123; theme.version &#125;&#125;"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=<span class="string">"&#123;&#123; url_for(theme.js) &#125;&#125;/src/photoswipe-ui-default.min.js?v=&#123;&#123; theme.version &#125;&#125;"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></div><h1 id="在根目录加入标签"><a href="#在根目录加入标签" class="headerlink" title="在根目录加入标签"></a>在根目录加入标签</h1><p>在 <code>_layout.swig</code> 中的body标签里最前面插入以下内容</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">&#123;% <span class="keyword">if</span> page.type === <span class="string">"photos"</span> %&#125;</span><br><span class="line">&lt;!-- Root element of PhotoSwipe. Must have class pswp. --&gt;</span><br><span class="line">&lt;div class=<span class="string">"pswp"</span> tabindex=<span class="string">"-1"</span> role=<span class="string">"dialog"</span> aria-hidden=<span class="string">"true"</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">"pswp__bg"</span>&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=<span class="string">"pswp__scroll-wrap"</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">"pswp__container"</span>&gt;</span><br><span class="line">            &lt;div class=<span class="string">"pswp__item"</span>&gt;&lt;/div&gt;</span><br><span class="line">            &lt;div class=<span class="string">"pswp__item"</span>&gt;&lt;/div&gt;</span><br><span class="line">            &lt;div class=<span class="string">"pswp__item"</span>&gt;&lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">"pswp__ui pswp__ui--hidden"</span>&gt;</span><br><span class="line">            &lt;div class=<span class="string">"pswp__top-bar"</span>&gt;</span><br><span class="line">                &lt;div class=<span class="string">"pswp__counter"</span>&gt;&lt;/div&gt;</span><br><span class="line">                &lt;button class=<span class="string">"pswp__button pswp__button--close"</span> title=<span class="string">"Close (Esc)"</span>&gt;&lt;/button&gt;</span><br><span class="line">                &lt;button class=<span class="string">"pswp__button pswp__button--share"</span> title=<span class="string">"Share"</span>&gt;&lt;/button&gt;</span><br><span class="line">                &lt;button class=<span class="string">"pswp__button pswp__button--fs"</span> title=<span class="string">"Toggle fullscreen"</span>&gt;&lt;/button&gt;</span><br><span class="line">                &lt;button class=<span class="string">"pswp__button pswp__button--zoom"</span> title=<span class="string">"Zoom in/out"</span>&gt;&lt;/button&gt;</span><br><span class="line">                &lt;!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR --&gt;</span><br><span class="line">                &lt;!-- element will get class pswp__preloader--active when preloader is running --&gt;</span><br><span class="line">                &lt;div class=<span class="string">"pswp__preloader"</span>&gt;</span><br><span class="line">                    &lt;div class=<span class="string">"pswp__preloader__icn"</span>&gt;</span><br><span class="line">                      &lt;div class=<span class="string">"pswp__preloader__cut"</span>&gt;</span><br><span class="line">                        &lt;div class=<span class="string">"pswp__preloader__donut"</span>&gt;&lt;/div&gt;</span><br><span class="line">                      &lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;div class=<span class="string">"pswp__share-modal pswp__share-modal--hidden pswp__single-tap"</span>&gt;</span><br><span class="line">                &lt;div class=<span class="string">"pswp__share-tooltip"</span>&gt;&lt;/div&gt; </span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;button class=<span class="string">"pswp__button pswp__button--arrow--left"</span> title=<span class="string">"Previous (arrow left)"</span>&gt;</span><br><span class="line">            &lt;/button&gt;</span><br><span class="line">            &lt;button class=<span class="string">"pswp__button pswp__button--arrow--right"</span> title=<span class="string">"Next (arrow right)"</span>&gt;</span><br><span class="line">            &lt;/button&gt;</span><br><span class="line">            &lt;div class=<span class="string">"pswp__caption"</span>&gt;</span><br><span class="line">                &lt;div class=<span class="string">"pswp__caption__center"</span>&gt;&lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></div><p>至此相册查看插件 photoswipe 已经配置完毕。</p><h1 id="整个流程使用"><a href="#整个流程使用" class="headerlink" title="整个流程使用"></a>整个流程使用</h1><ol><li>在 Blog_Back_Up 里面加入图片,图片路径在 photos 里面 图片命名方式 yyyy-MM-dd_des.jpg/jpeg/gif/png</li><li>执行 python3 tool.py</li><li>切换到博客 resource 目录下</li><li>在 photos 里面生成了 data.json 文件，提交到腾讯云开发者平台仓库上面</li><li>输入网址查看照片</li></ol><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Next</tag>
        <tag>Photos</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo NexT主题之代码块Mac Panel特效</title>
    <url>/posts/d7399e80.html</url>
    <content><![CDATA[<!-- build time:Thu Nov 21 2019 08:41:57 GMT+0000 (Coordinated Universal Time) --><p>偶然间发现一款不错的文章代码块样式，类似Mac的面板效果。能设置阴影效果和实现文本编辑功能，不过文本只存在浏览器页面上，不会真正保存。配置的方式也很简单，觉得不错的朋友可以试一下。</p><h1 id="引入-JS"><a href="#引入-JS" class="headerlink" title="引入 JS"></a>引入 JS</h1><p>这里需要新建两个 js 文件 <code>events.js</code> 和 <code>codeblock.js</code> ，路径位于 <code>/themes/next/scripts/</code> 包下。</p><div class="note success"><p><strong><em>events.js 代码：</em></strong></p></div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// mac Panel效果代码块相关</span></span><br><span class="line"><span class="keyword">var</span> exec = <span class="built_in">require</span>(<span class="string">'child_process'</span>).exec;</span><br><span class="line"></span><br><span class="line"><span class="comment">// new 后自动打开编辑器</span></span><br><span class="line">hexo.on(<span class="string">'new'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">  exec(<span class="string">'open -a MacDown '</span> + data.path);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div><p>这个js会在你敲 <code>hexo new xxx</code> 命令后，调用本地的MarkDown编辑器打开新建的md文件 <code>xxx</code></p><div class="note success"><p><strong><em>codeblock.js 代码：</em></strong></p></div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// mac Panel效果代码块相关</span></span><br><span class="line"><span class="keyword">var</span> attributes = [</span><br><span class="line">  <span class="string">'autocomplete="off"'</span>,</span><br><span class="line">  <span class="string">'autocorrect="off"'</span>,</span><br><span class="line">  <span class="string">'autocapitalize="off"'</span>,</span><br><span class="line">  <span class="string">'spellcheck="false"'</span>,</span><br><span class="line">  <span class="string">'contenteditable="true"'</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> attributesStr = attributes.join(<span class="string">' '</span>)</span><br><span class="line"></span><br><span class="line">hexo.extend.filter.register(<span class="string">'after_post_render'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">while</span> (<span class="regexp">/&lt;figure class="highlight ([a-zA-Z]+)"&gt;.*?&lt;\/figure&gt;/</span>.test(data.content)) &#123;</span><br><span class="line">    data.content = data.content.replace(<span class="regexp">/&lt;figure class="highlight ([a-zA-Z]+)"&gt;.*?&lt;\/figure&gt;/</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> language = <span class="built_in">RegExp</span>.$<span class="number">1</span> || <span class="string">'plain'</span></span><br><span class="line">      <span class="keyword">var</span> lastMatch = <span class="built_in">RegExp</span>.lastMatch</span><br><span class="line">      lastMatch = lastMatch.replace(<span class="regexp">/&lt;figure class="highlight /</span>, <span class="string">'&lt;figure class="iseeu highlight /'</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'&lt;div class="highlight-wrap"'</span> + attributesStr + <span class="string">'data-rel="'</span> + language.toUpperCase() + <span class="string">'"&gt;'</span> + lastMatch + <span class="string">'&lt;/div&gt;'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> data</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div><h1 id="引入-CSS"><a href="#引入-CSS" class="headerlink" title="引入 CSS"></a>引入 CSS</h1><p>在 <code>/themes/next/source/css/_common/components/highlight/</code> 目录下新建 <code>macPanel.styl</code> 文件，内容如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CSS"><figure class="iseeu highlight /css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*mac Panel效果代码块相关*/</span></span><br><span class="line"><span class="selector-class">.highlight-wrap</span><span class="selector-attr">[data-rel]</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="comment">/*box-shadow: 0 10px 30px 0px rgba(0, 0, 0, 0.4);*/</span></span><br><span class="line">  <span class="attribute">box-shadow</span>:<span class="number">18px</span> <span class="number">18px</span> <span class="number">15px</span> <span class="number">0px</span> <span class="built_in">rgba</span>(0,0,0,.4);</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">35px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">25px</span>;</span><br><span class="line">  ::-webkit-scrollbar &#123;</span><br><span class="line">    <span class="selector-tag">height</span>: 10<span class="selector-tag">px</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-pseudo">::-webkit-scrollbar-track</span> &#123;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> <span class="built_in">rgba</span>(0, 0, 0, 0.3);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-pseudo">::-webkit-scrollbar-thumb</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> <span class="built_in">rgba</span>(0, 0, 0, 0.5);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;<span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="built_in">attr</span>(data-rel);</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">38px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">38px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#21252b</span>;</span><br><span class="line">    <span class="comment">/*background: #108414de;*/</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="comment">/*position: absolute;*/</span></span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="comment">/*font-family: 'Source Sans Pro', sans-serif;*/</span></span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0px</span> <span class="number">80px</span>;</span><br><span class="line">    <span class="attribute">text-indent</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;<span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">' '</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">-webkit-border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fc625d</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">13px</span>;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: <span class="number">20px</span> <span class="number">0px</span> <span class="number">#fdbc40</span>, <span class="number">40px</span> <span class="number">0px</span> <span class="number">#35cd4b</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">20px</span> <span class="number">0px</span> <span class="number">#fdbc40</span>, <span class="number">40px</span> <span class="number">0px</span> <span class="number">#35cd4b</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">3</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>此css是根据我本地的样式做过调整，注释的代码为原有的，根据需要调整样式即可。</p><h1 id="配置引用"><a href="#配置引用" class="headerlink" title="配置引用"></a>配置引用</h1><p>在 <code>/themes/next/source/css/_common/components/highlight/highlight.styl</code> 中引入刚才新建的 <code>macPanel.styl</code>：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="STYLUS"><figure class="iseeu highlight /stylus"><table><tr><td class="code"><pre><span class="line">@require <span class="string">"macPanel"</span></span><br></pre></td></tr></table></figure></div><p>配置在文件的顶部位置即可。</p><p>到此Mac Panel配置完成，根据需要可调整主题配置文件中的 <code>highlight_theme</code> 的值，选择自己喜欢的样式。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Next</tag>
        <tag>代码块</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo博客静态资源压缩</title>
    <url>/posts/495d0b23.html</url>
    <content><![CDATA[<!-- build time:Thu Nov 21 2019 08:41:57 GMT+0000 (Coordinated Universal Time) --><p>针对于博文静态资源压缩，介绍一下两种压缩方式，第一种方式是使用Gulp来进行压缩，<code>Gulp</code> 是 <code>Node.js</code> 下的自动构建工具，通过一列的task执行步骤进行自动流程化处理。第二种方式就是使用由rozbo大佬开发的 <code>Hexo-Neat</code> 压缩插件，配置简单，无需额外命令。</p><p>附上大佬的 <code>Github</code> 链接：</p><p><a href="https://github.com/rozbo/hexo-neat" class="LinkCard" rel="external nofollow noopener noreferrer" target="_blank">Hexo-Neat</a></p><h1 id="Hexo-Neat使用"><a href="#Hexo-Neat使用" class="headerlink" title="Hexo-Neat使用"></a>Hexo-Neat使用</h1><p>1、在站点根目录下安装 <code>Hexo-Neat</code></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CMD"><figure class="iseeu highlight /cmd"><table><tr><td class="code"><pre><span class="line">$ npm install hexo-neat --save</span><br></pre></td></tr></table></figure></div><p>2、在站点配置文件中末尾添加以下相关配置即可，也可以按照自己的需求去自定义配置。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># hexo-neat</span></span><br><span class="line"><span class="comment"># 博文压缩</span></span><br><span class="line">neat_enable: <span class="literal">true</span></span><br><span class="line"><span class="comment"># 压缩html</span></span><br><span class="line">neat_html:</span><br><span class="line"> <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line"> exclude:</span><br><span class="line"><span class="comment"># 压缩css</span></span><br><span class="line">neat_css:</span><br><span class="line"> <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line"> exclude:</span><br><span class="line">   - <span class="string">'*/*.min.css'</span></span><br><span class="line"><span class="comment"># 压缩js</span></span><br><span class="line">neat_js:</span><br><span class="line"> <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line"> mangle: <span class="literal">true</span></span><br><span class="line"> output:</span><br><span class="line"> compress:</span><br><span class="line"> exclude:</span><br><span class="line">   - <span class="string">'**/*.min.js'</span></span><br><span class="line">   - <span class="string">'**/jquery.fancybox.pack.js'</span></span><br><span class="line">   - <span class="string">'**/index.js'</span></span><br></pre></td></tr></table></figure></div><h1 id="Gulp使用"><a href="#Gulp使用" class="headerlink" title="Gulp使用"></a>Gulp使用</h1><p>1、在站点的根目录下执行以下命令</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CMD"><figure class="iseeu highlight /cmd"><table><tr><td class="code"><pre><span class="line">$ npm install gulp -g</span><br><span class="line">$ npm install gulp-minify-css gulp-uglify gulp-htmlmin gulp-htmlclean gulp --save</span><br></pre></td></tr></table></figure></div><p>2、在博客根目录下新建 <code>gulpfile.js</code> ，并填入以下内容</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">var gulp = require(<span class="string">'gulp'</span>);</span><br><span class="line">var minifycss = require(<span class="string">'gulp-minify-css'</span>);</span><br><span class="line">var uglify = require(<span class="string">'gulp-uglify'</span>);</span><br><span class="line">var htmlmin = require(<span class="string">'gulp-htmlmin'</span>);</span><br><span class="line">var htmlclean = require(<span class="string">'gulp-htmlclean'</span>);</span><br><span class="line">var imagemin = require(<span class="string">'gulp-imagemin'</span>);</span><br><span class="line"></span><br><span class="line">// 压缩html</span><br><span class="line">gulp.task(<span class="string">'minify-html'</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">    <span class="built_in">return</span> gulp.src(<span class="string">'./public/**/*.html'</span>)</span><br><span class="line">        .pipe(htmlclean())</span><br><span class="line">        .pipe(htmlmin(&#123;</span><br><span class="line">            collapseWhitespace: <span class="literal">true</span>, //从字面意思应该可以看出来，清除空格，压缩html，这一条比较重要，作用比较大，引起的改变压缩量也特别大</span><br><span class="line">            collapseBooleanAttributes: <span class="literal">true</span>, //省略布尔属性的值，比如：&lt;input checked=<span class="string">"checked"</span>/&gt;,那么设置这个属性后，就会变成 &lt;input checked/&gt;</span><br><span class="line">            removeComments: <span class="literal">true</span>, //清除html中注释的部分</span><br><span class="line">            removeEmptyAttributes: <span class="literal">true</span>, //清除所有的空属性</span><br><span class="line">            removeScriptTypeAttributes: <span class="literal">true</span>, //清除所有script标签中的<span class="built_in">type</span>=<span class="string">"text/javascript"</span>属性。</span><br><span class="line">            removeStyleLinkTypeAttributes: <span class="literal">true</span>, //清楚所有Link标签上的<span class="built_in">type</span>属性。</span><br><span class="line">            minifyJS: <span class="literal">true</span>,</span><br><span class="line">            minifyCSS: <span class="literal">true</span>,</span><br><span class="line">            minifyURLs: <span class="literal">true</span>,</span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./public'</span>));</span><br><span class="line">&#125;);</span><br><span class="line">// 压缩css</span><br><span class="line">gulp.task(<span class="string">'minify-css'</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">    <span class="built_in">return</span> gulp.src(<span class="string">'./public/**/*.css'</span>)</span><br><span class="line">        .pipe(minifycss(&#123;</span><br><span class="line">            compatibility: <span class="string">'ie8'</span></span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./public'</span>));</span><br><span class="line">&#125;);</span><br><span class="line">// 压缩js !代表排除的js,例如[<span class="string">'!./public/js/**/*min.js'</span>]</span><br><span class="line">gulp.task(<span class="string">'minify-js'</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">    <span class="built_in">return</span> gulp.src([<span class="string">'./public/js/**/.js'</span>])</span><br><span class="line">        .pipe(uglify()) //压缩混淆</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./public'</span>));</span><br><span class="line">&#125;);</span><br><span class="line">// 压缩图片</span><br><span class="line">gulp.task(<span class="string">'minify-images'</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">    <span class="built_in">return</span> gulp.src(<span class="string">'./public/images/**/*.*'</span>)</span><br><span class="line">        .pipe(imagemin(</span><br><span class="line">        [imagemin.gifsicle(&#123;<span class="string">'optimizationLevel'</span>: 3&#125;),</span><br><span class="line">        imagemin.jpegtran(&#123;<span class="string">'progressive'</span>: <span class="literal">true</span>&#125;),</span><br><span class="line">        imagemin.optipng(&#123;<span class="string">'optimizationLevel'</span>: 7&#125;),</span><br><span class="line">        imagemin.svgo()],</span><br><span class="line">        &#123;<span class="string">'verbose'</span>: <span class="literal">true</span>&#125;))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./public/images'</span>));</span><br><span class="line">&#125;);</span><br><span class="line">// 默认任务</span><br><span class="line">gulp.task(<span class="string">'default'</span>,gulp.series(gulp.parallel(<span class="string">'minify-html'</span>,<span class="string">'minify-css'</span>,<span class="string">'minify-js'</span>,<span class="string">'minify-images'</span>)));</span><br></pre></td></tr></table></figure></div><p>3、生成博文时执行 <code>hexo g &amp;&amp; gulp</code> 就会根据 <code>gulpfile.js</code> 中的配置，对 <code>public</code> 目录中的静态资源文件进行压缩。</p><div class="note success">以上就是关于博文静态资源压缩的两种方式，欢迎自由选择引用，如有不明白的地方欢迎下方留言 o(^▽^)o ，谢谢阅读。</div><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Gulp</tag>
        <tag>Hexo-Neat</tag>
      </tags>
  </entry>
  <entry>
    <title>基于 TravisCI 实现 Hexo 在 Github 和 Coding 的同步部署</title>
    <url>/posts/3e5a3bb6.html</url>
    <content><![CDATA[<!-- build time:Thu Nov 21 2019 08:41:57 GMT+0000 (Coordinated Universal Time) --><p>关于TravisCI我这里简单介绍一下，TravisCI是一个在线的、分布式的持续集成服务，可以用来构建和测试托管在Github上的代码，并且其本身就是开源的。TravisCI提供了主流编程语言如C#、Java、JavaScript、Ruby、PHP、Node.js等的支持，相比Jenkins而言，它是一个轻量级的持续集成平台，它会在每次提交代码后，根据配置文件来创建一个虚拟机，并执行用户定义的Build任务，这个虚拟机提供版本控制(Git)、项目构建(Node.js)等，在此前提下，我们下面着手Hexo的自动化部署。</p><p>其原理就是Github和Coding（<code>小插曲：Coding现在已经被腾讯收购了</code>）各为TravisCI分配一个token，当我们向 Github 推送新的代码以后，TravisCI就会从代码仓库中拉取代码，并通过 npm 安装依赖生成静态页面，我们将这些静态页面推送到 master 分支，即可完成对Hexo的部署操作。</p><p>对于我个人博客是以 Github 作为代码的主仓库，其上面的 blog-source 分支存放博客的源代码，master 分支存放博客的静态页面，在此基础上，我们同时推送静态页面到 Github 和 Coding 的代码仓库，这样就可以实现两个平台的同步部署，这里的部署自然是指由 Travis 完成的自动化部署。整体的流程如下图所示：</p><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/10/21/KlNiCR.png" alt="Travis自动构建流程图"></p><h1 id="Github相关操作"><a href="#Github相关操作" class="headerlink" title="Github相关操作"></a>Github相关操作</h1><p>1、按规定仓库名称为 <code>XXXXX.github.io</code>，其中 <code>XXXXX</code> 为你的用户名，进行创建仓库。</p><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/10/21/Kl0wjI.png" alt="Github建库"></p><p>2、建好仓库以后我们在仓库中新建一个分支放博客源码，我这里命名为 <code>blog-source</code>，建好以后将源码提交到该分支下即可。</p><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/10/22/K3szy4.png" alt="blog-source"></p><p>3、为了使 Travis 能够将编译好的文件 push 回咱们的 Github，我们需要生成 <code>token</code>，步骤如下：</p><ol><li>在 Github 上 Setting 中找到 <a href="https://github.com/settings/tokens" rel="external nofollow noopener noreferrer" target="_blank">Personal access tokens</a> 设置。</li><li>点 Generate new token，为 <code>token</code> 起一个名字，勾选 repo，然后点击生成一个新的 <code>token</code> ，并复制下来记录好，待会下面 Travis 配置会用到。（这个只会出现一次！！）</li></ol><h1 id="Coding相关操作"><a href="#Coding相关操作" class="headerlink" title="Coding相关操作"></a>Coding相关操作</h1><p>1、因为腾讯云已经收购了 <a href="https://coding.net" rel="external nofollow noopener noreferrer" target="_blank">Coding</a> ，所以我们直接在 <a href="https://dev.tencent.com/production" rel="external nofollow noopener noreferrer" target="_blank">腾讯云开发者平台</a> 注册账号来管理我们的仓库。</p><p>2、注册完毕后我们新建一个名为 <code>XXXXX.coding.me</code> 的项目，其中 <code>XXXXX</code> 为你的用户名，基本操作与 Github 一致，实在不会的可以留言。</p><p>3、Coding可以和 Github 一样可以生成一个 <code>token</code> 如下图，成功以后将 <code>token</code> 保存好，一会下面会用到。</p><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/10/22/K34SXV.png" alt="blog-source"></p><h1 id="Travis相关操作"><a href="#Travis相关操作" class="headerlink" title="Travis相关操作"></a>Travis相关操作</h1><p>1、使用 <code>github</code> 帐号登录 <a href="https://travis-ci.org" rel="external nofollow noopener noreferrer" target="_blank">TravisCI</a> ，左上方按钮点击同步项目，下方打开需要集成的项目，最后点击齿轮进入项目配置页面</p><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/10/24/KN4q56.png" alt="Travis-首页"></p><p>2、具体 <code>Travis</code> 配置如下图</p><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/10/24/KN5IW8.png" alt="Travis-配置页"></p><p>3、配置好 <code>Travis</code> 后，回到终端，进入 <code>blog</code> 所在的文件夹下，新建 <code>.travis.yml</code> 文件，并添加以下内容</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">sudo: <span class="literal">false</span></span><br><span class="line">language: node_js</span><br><span class="line">node_js:</span><br><span class="line">  - 10 <span class="comment"># use nodejs v10 LTS</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定缓存模块，可选。缓存可加快编译速度。</span></span><br><span class="line">cache:</span><br><span class="line">  directories:</span><br><span class="line">    - node_modules</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定博客的仓库地址</span></span><br><span class="line">env:</span><br><span class="line"> global:</span><br><span class="line">   <span class="comment"># Github Pages</span></span><br><span class="line">   - GH_REF: github.com/XuxuGood/XuxuGood.github.io</span><br><span class="line">   <span class="comment"># Coding Pages</span></span><br><span class="line">   - CO_REF: git.dev.tencent.com/XuxuGood/XuxuGood.coding.me.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定博客分支</span></span><br><span class="line">branches:</span><br><span class="line">  only:</span><br><span class="line">    - blog-source <span class="comment"># build master branch only</span></span><br><span class="line"></span><br><span class="line">before_install:</span><br><span class="line">  - npm install -g hexo-cli</span><br><span class="line"></span><br><span class="line"><span class="comment"># Start: Build Lifecycle</span></span><br><span class="line">install:</span><br><span class="line">  - npm install</span><br><span class="line">  - npm install hexo-deployer-git --save</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 执行清缓存，生成网页操作</span></span><br><span class="line">script:</span><br><span class="line">  - hexo clean</span><br><span class="line">  - hexo generate</span><br><span class="line">  <span class="comment">#gulp压缩文件</span></span><br><span class="line">  - gulp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置git提交名，邮箱；替换真实token到_config.yml文件，最后depoy部署</span></span><br><span class="line">after_script:</span><br><span class="line">  - <span class="built_in">cd</span> ./public</span><br><span class="line">  - git init</span><br><span class="line">  - git config user.name <span class="string">"xuxu"</span></span><br><span class="line">  - git config user.email <span class="string">"22476705@qq.com"</span></span><br><span class="line">  - git add .</span><br><span class="line">  - git commit -m <span class="string">"TravisCI 自动部署"</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Github Pages</span></span><br><span class="line">  - git push --force --quiet <span class="string">"https://<span class="variable">$&#123;GH_TOKEN&#125;</span>@<span class="variable">$&#123;GH_REF&#125;</span>"</span> master:master</span><br><span class="line">  <span class="comment"># Coding Pages</span></span><br><span class="line">  - git push --force --quiet <span class="string">"https://XuxuGood:<span class="variable">$&#123;CO_TOKEN&#125;</span>@<span class="variable">$&#123;CO_REF&#125;</span>"</span> master:master</span><br><span class="line">  - git tag v0.0.<span class="variable">$TRAVIS_BUILD_NUMBER</span> -a -m <span class="string">"Auto Taged By TravisCI With Build <span class="variable">$TRAVIS_BUILD_NUMBER</span>"</span></span><br><span class="line">  <span class="comment"># Github Pages</span></span><br><span class="line">  - git push --quiet <span class="string">"https://<span class="variable">$&#123;GH_TOKEN&#125;</span>@<span class="variable">$&#123;GH_REF&#125;</span>"</span> master:master --tags</span><br><span class="line">  <span class="comment"># Coding Pages</span></span><br><span class="line">  - git push --quiet <span class="string">"https://XuxuGood:<span class="variable">$&#123;CO_TOKEN&#125;</span>@<span class="variable">$&#123;CO_REF&#125;</span>"</span> master:master --tags</span><br><span class="line"></span><br><span class="line">  <span class="comment"># Build Salver Repository(Github Pages)</span></span><br><span class="line">  <span class="comment">#- git push --force --quiet "https://$&#123;GH_TOKEN&#125;@$&#123;GH_REF&#125;" master:master</span></span><br><span class="line">  <span class="comment"># Build Salver Repository(Github Pages)</span></span><br><span class="line">  <span class="comment">#- git push --force --quiet "https://$&#123;GH_TOKEN&#125;@$&#123;GH_REF&#125;" master:master</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># End: Build LifeCycle</span></span><br></pre></td></tr></table></figure></div><p>4、然后，准备 <code>push</code> 该项目到 <code>github</code> ，看下是否成功，最终成功则会看到 <code>Travis</code> 构建页面显示如下图</p><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/10/24/KNo94P.png" alt="Travis-构建页面"></p><p>以上就是基于 TravisCI 实现 Hexo 在 Github 和 Coding 同步部署的全部介绍，如有不明白的地方欢迎下方留言 o(^▽^)o ，谢谢阅读。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Github</tag>
        <tag>Coding</tag>
        <tag>TravisCI</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo搭建本地个人博客（基础篇）</title>
    <url>/posts/e1b9c6c5.html</url>
    <content><![CDATA[<!-- build time:Thu Nov 21 2019 08:41:57 GMT+0000 (Coordinated Universal Time) --><p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 <a href="http://daringfireball.net/projects/markdown/" rel="external nofollow noopener noreferrer" target="_blank">Markdown</a>（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p><h1 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h1><p>建立 Hexo 只需要几分钟，安装 Hexo 非常简单。但是，您首先需要安装其他一些东西。</p><ol><li><a href="http://nodejs.org/" rel="external nofollow noopener noreferrer" target="_blank">Node.js</a> &nbsp;&nbsp;(Node.js 版本需不低于 8.6，建议使用 Node.js 10.0 及以上版本)</li><li><a href="http://git-scm.com/" rel="external nofollow noopener noreferrer" target="_blank">Git</a></li></ol><p>如果您的电脑中已经安装上述必备程序，那么恭喜您！接下来只需要使用 npm 即可完成 Hexo 的安装。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CMD"><figure class="iseeu highlight /cmd"><table><tr><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure></div><p>如果没有，那就一起来看下面吧 (<code>这里只说一下 windows 的安装，因为本人现在比较穷，买不起mac啊 テ_デ，其他相关教程大家就去搜搜很多的。</code>)</p><h2 id="安装git"><a href="#安装git" class="headerlink" title="安装git"></a>安装git</h2><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/10/21/KlpZvD.md.png" alt="安装git"></p><p><a href="https://git-scm.com/downloads" class="LinkCard" rel="external nofollow noopener noreferrer" target="_blank">安装地址</a></p><p>一切按照默认走就行了，没什么特殊的地方，安装完成之后检查git是否安装成功（执行一下cmd命令），显示版本号即为成功！</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CMD"><figure class="iseeu highlight /cmd"><table><tr><td class="code"><pre><span class="line">git --version</span><br></pre></td></tr></table></figure></div><h2 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a>安装Node.js</h2><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/10/21/KlpmKe.md.png" alt="安装Node.js"></p><p><a href="https://nodejs.org/en/" class="LinkCard" rel="external nofollow noopener noreferrer" target="_blank">安装地址</a></p><p>我们这里简单点，直接下载并运行安装程序就完了，还是走默认就行，安装完成之后检查 node 是否安装成功（执行一下cmd命令），显示版本号即为成功！</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CMD"><figure class="iseeu highlight /cmd"><table><tr><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure></div><h2 id="安装Hexo-1"><a href="#安装Hexo-1" class="headerlink" title="安装Hexo"></a>安装Hexo</h2><p>所有必备的应用程序安装完成后，即可使用 npm 安装 Hexo。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CMD"><figure class="iseeu highlight /cmd"><table><tr><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure></div><h1 id="利用Hexo初始化我们的站点跟目录-文件"><a href="#利用Hexo初始化我们的站点跟目录-文件" class="headerlink" title="利用Hexo初始化我们的站点跟目录(文件)"></a>利用Hexo初始化我们的站点跟目录(文件)</h1><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CMD"><figure class="iseeu highlight /cmd"><table><tr><td class="code"><pre><span class="line">$ hexo init &lt;文件夹&gt;</span><br><span class="line">$ <span class="built_in">cd</span> &lt;文件夹&gt;</span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure></div><p>选择你想要的盘符来建立我们的博客站点文件,我这里选择 D:\blog ，这里的 blog 是你的文件夹名字（根据自己的喜好建一个文件夹）</p><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/10/21/KlPjo9.png" alt="init hexo"></p><p>cd 到你的站点目录下，然后 初始化站点 $ npm install，执行成功后到你的 blog 文件夹下看看是否这样的（一致就成功啦~~）</p><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/10/21/Klkwa4.png" alt="blog"></p><p>介绍几个个命令 ,以后经常要用到的</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CMD"><figure class="iseeu highlight /cmd"><table><tr><td class="code"><pre><span class="line">hexo g: 编译,生成静态文件，也就是public文件夹的东西。</span><br><span class="line">hexo s: 开启本地服务(以上两步的操作可以合并成hexo s -g)。</span><br><span class="line">hexo clean: 顾名思义就是清除缓存的意思了啦，这招一般在你改动之后网站没有变化时候用。</span><br></pre></td></tr></table></figure></div><p>接下来看看 你博客的初步成果吧。</p><p>进入 <code>blog</code> 文件根目录:</p><ol><li>执行命令: <code>hexo g</code> 和 <code>hexo s</code></li><li>然后在你的浏览器输入<code>http://localhost:4000</code>，查看你的博客。</li></ol><p><img src="/images/loading4.gif" data-original="https://s2.ax1x.com/2019/10/21/KlAJFH.png" alt="blog首页"></p><p>到此为止，你的个人博客就已经搭建完成了。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/posts/27514.html</url>
    <content><![CDATA[<!-- build time:Thu Nov 21 2019 08:41:57 GMT+0000 (Coordinated Universal Time) --><p>Welcome to <a href="https://hexo.io/" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" rel="external nofollow noopener noreferrer" target="_blank">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" rel="external nofollow noopener noreferrer" target="_blank">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" rel="external nofollow noopener noreferrer" target="_blank">GitHub</a>.</p><h1 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h1><h2 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h2><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure></div><p>More info: <a href="https://hexo.io/docs/writing.html" rel="external nofollow noopener noreferrer" target="_blank">Writing</a></p><h2 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h2><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure></div><p>More info: <a href="https://hexo.io/docs/server.html" rel="external nofollow noopener noreferrer" target="_blank">Server</a></p><h2 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h2><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure></div><p>More info: <a href="https://hexo.io/docs/generating.html" rel="external nofollow noopener noreferrer" target="_blank">Generating</a></p><h2 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h2><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure></div><p>More info: <a href="https://hexo.io/docs/deployment.html" rel="external nofollow noopener noreferrer" target="_blank">Deployment</a></p><!-- rebuild by neat -->]]></content>
  </entry>
</search>
